(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0USM":function(i,t,o){"use strict";o.r(t),o.d(t,"CreacionModule",function(){return gr});var e=o("ofXK"),a=o("tyNb"),c=o("mrSG"),n=o("3Pt+"),s=o("Gqy2"),r=o("ZokB"),l=o("vLVW"),O=o("ZRAU"),_=o("Xksa"),d=o("KOVt"),I=o("KcyM"),b=o("b3+O"),u=o("JX91"),C=o("lJxs"),T=o("VjNW"),N=o("fXoL"),m=o("bUJT"),h=o("JNbX"),E=o("RWI4"),A=o("0X3v"),g=o("CyZj"),S=o("8NaI"),p=o("RWsu"),D=o("8/5D"),f=o("piaM"),R=o("ixAq"),v=o("0IaG"),L=o("dNgK"),M=o("S2pn"),P=o("FlbK"),G=o("h8/v"),U=o("3YJ2");let B=(()=>{class i{constructor(i){this.resourceService=i}getListarCampoVista(){let i=[];return new Promise((t,o)=>{this.resourceService.getResource("/campo/listarTodo").toPromise().then(o=>{1==o.resultado?(i=o.lista,t(i)):(console.log("anexo no encontrado..."),t([]))}).catch(i=>{console.log("error status="+i.status+", msg="+i.message),o(i)})})}}return i.\u0275fac=function(t){return new(t||i)(N.Xb(U.a))},i.\u0275prov=N.Jb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var k=o("5IB4"),F=o("fwr2"),V=o("hn5o"),x=o("Onbd"),J=o("wGHy"),y=o("vdY5"),j=o("8TgI"),z=o("aLfK"),q=o("NFeN"),$=o("zkoq"),X=o("kmnG"),w=o("d3UM"),H=o("qFsG"),Q=o("bTqV"),Z=o("Qu3c"),W=o("f0Cb"),K=o("+0xr"),Y=o("FKr1"),ii=o("bSwM"),ti=o("/1cH");function oi(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Productos terminados "),N.Sb())}function ei(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Repuestos y Suministros "),N.Sb())}function ai(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Materias Primas "),N.Sb())}function ci(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Activos y Otros "),N.Sb())}function ni(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Creaci\xf3n "),N.Sb())}function si(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Ampliaci\xf3n "),N.Sb())}function ri(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Modificaci\xf3n "),N.Sb())}function li(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Bloqueo "),N.Sb())}function Oi(i,t){if(1&i&&(N.Tb(0,"div",58),N.Tb(1,"div"),N.Tb(2,"span",59),N.Bc(3,"N\xb0 Solicitud:\xa0\xa0\xa0"),N.Sb(),N.Tb(4,"span",60),N.Bc(5),N.Sb(),N.Sb(),N.Tb(6,"div"),N.Tb(7,"span",59),N.Bc(8,"Estado\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:\xa0\xa0\xa0"),N.Sb(),N.Tb(9,"span",60),N.Bc(10),N.Sb(),N.Sb(),N.Sb()),2&i){const i=N.ec();N.Cb(5),N.Cc(i.correlativo),N.Cb(5),N.Cc(i.estadoFlujoActualSolicitud.nombre_estado)}}function _i(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.nombre," / ",i.sociedad.codigo_sap," ")}}function di(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",62),N.ac("click",function(){N.tc(i);const t=N.ec();return t.openDialogConfirmarAnularSolicitud(t.solicitudForm.value)}),N.Bc(1,"Anular"),N.Sb()}if(2&i){N.ec();const i=N.rc(28);N.kc("disabled",i.invalid)}}function Ii(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",63),N.ac("click",function(){return N.tc(i),N.ec(),N.rc(28).ngSubmit.emit()}),N.Bc(1,"Guardar"),N.Sb()}if(2&i){N.ec();const i=N.rc(28);N.kc("disabled",i.invalid)}}function bi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",63),N.ac("click",function(){N.tc(i);const t=N.ec();return t.openDialogConfirmarActualizarSolicitud(t.solicitudForm.value)}),N.Bc(1,"Actualizar"),N.Sb()}if(2&i){N.ec();const i=N.rc(28);N.kc("disabled",i.invalid)}}function ui(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",64),N.ac("click",function(){N.tc(i);const t=N.ec();return t.openDialogConfirmarEnviarActualizarSolicitud(t.solicitudForm.value)}),N.Bc(1,"Enviar a supervisi\xf3n"),N.Sb()}}function Ci(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",64),N.ac("click",function(){return N.tc(i),N.ec().descargarFormato()}),N.Bc(1,"Descargar Formato"),N.Sb()}}function Ti(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",64),N.ac("click",function(){return N.tc(i),N.ec().descargarListado()}),N.Bc(1,"Descargar Listado"),N.Sb()}}function Ni(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",64),N.ac("click",function(){return N.tc(i),N.ec(),N.rc(66).click()}),N.Bc(1," Carga Masiva "),N.Sb()}}function mi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",65),N.ac("click",function(){return N.tc(i),N.ec().openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function hi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",66),N.ac("click",function(){return N.tc(i),N.ec().openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Ei(i,t){1&i&&(N.Tb(0,"mat-label"),N.Bc(1,"Ingrese c\xf3digo material Modelo"),N.Sb())}function Ai(i,t){1&i&&(N.Tb(0,"mat-label"),N.Bc(1,"Ingrese c\xf3digo material"),N.Sb())}function gi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-grid-tile",67),N.Tb(1,"div",12),N.Tb(2,"button",68),N.ac("click",function(){return N.tc(i),N.ec().filtroLlenar()}),N.Bc(3,"Llenar datos"),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.ec();N.Cb(2),N.kc("disabled",i.filtroForm.invalid||!i.correlativo)}}function Si(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",73),N.ac("click",function(){return N.tc(i),N.ec(2).onSelectEquivalencias()}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function pi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",74),N.ac("click",function(){return N.tc(i),N.ec(2).onSelectEquivalencias()}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function Di(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",75),N.ac("click",function(){return N.tc(i),N.ec(2).selectOpenAnexosMaterial()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function fi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",76),N.ac("click",function(){return N.tc(i),N.ec(2).selectOpenAnexosMaterial()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Ri(i,t){if(1&i&&(N.Tb(0,"div",26),N.Ac(1,Si,3,0,"button",69),N.Ac(2,pi,3,0,"button",70),N.Bc(3," \xa0 "),N.Ac(4,Di,3,0,"button",71),N.Ac(5,fi,3,0,"button",72),N.Sb()),2&i){const i=N.ec();N.Cb(1),N.kc("ngIf",i.existeEquivalencias),N.Cb(1),N.kc("ngIf",!i.existeEquivalencias),N.Cb(2),N.kc("ngIf",i.existeAnexoMaterial),N.Cb(1),N.kc("ngIf",!i.existeAnexoMaterial)}}function vi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Li(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,vi,2,0,"span",79),N.Sb(),N.Tb(4,"input",80,81),N.ac("ngModelChange",function(){return N.tc(i),N.ec(2).existeDenominacion=!1}),N.Sb(),N.Tb(6,"mat-hint",82),N.Bc(7),N.Sb(),N.Tb(8,"button",83),N.ac("click",function(){return N.tc(i),N.ec(2).listadoDenominacion()}),N.Tb(9,"mat-icon"),N.Bc(10,"explore"),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function Mi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Pi(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Mi,2,0,"span",79),N.Sb(),N.Ob(4,"input",85,81),N.Tb(6,"mat-hint",82),N.Bc(7),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function Gi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Ui(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Gi,2,0,"span",79),N.Sb(),N.Ob(4,"input",85,81),N.Tb(6,"mat-hint",82),N.Bc(7),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function Bi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function ki(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Bi,2,0,"span",79),N.Sb(),N.Ob(4,"input",85,81),N.Tb(6,"mat-hint",82),N.Bc(7),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function Fi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Vi(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Fi,2,0,"span",79),N.Sb(),N.Ob(4,"input",86),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function xi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Ji(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,xi,2,0,"span",79),N.Sb(),N.Ob(4,"input",86),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function yi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function ji(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,yi,2,0,"span",79),N.Sb(),N.Ob(4,"input",86),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function zi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function qi(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,zi,2,0,"span",79),N.Sb(),N.Ob(4,"input",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function $i(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Xi(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function wi(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,$i,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",88),N.ac("selectionChange",function(){return N.tc(i),N.ec(2).setearUnidadMedida()}),N.Ac(5,Xi,2,2,"mat-option",15),N.Sb(),N.Sb()}if(2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaBase),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaBase)}}function Hi(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Qi(i,t){1&i&&(N.Tb(0,"mat-option",61),N.Bc(1,"\xa0\xa0----- SELECCIONAR -----\xa0\xa0"),N.Sb())}function Zi(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function Wi(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Hi,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Qi,2,0,"mat-option",90),N.Ac(6,Zi,2,2,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaPeso),N.Cb(1),N.kc("ngIf","M"!=i.regla_campo),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaPeso)}}function Ki(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Yi(i,t){1&i&&(N.Tb(0,"mat-option",61),N.Bc(1,"\xa0\xa0----- SELECCIONAR -----\xa0\xa0"),N.Sb())}function it(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function tt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ki,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Yi,2,0,"mat-option",90),N.Ac(6,it,2,2,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaVenta),N.Cb(1),N.kc("ngIf","M"!=i.regla_campo),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaVenta)}}function ot(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function et(i,t){1&i&&(N.Tb(0,"mat-option",61),N.Bc(1,"\xa0\xa0----- SELECCIONAR -----\xa0\xa0"),N.Sb())}function at(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function ct(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ot,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,et,2,0,"mat-option",90),N.Ac(6,at,2,2,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaPedido),N.Cb(1),N.kc("ngIf","M"!=i.regla_campo),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaPedido)}}function nt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function st(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function rt(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,nt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",88),N.ac("selectionChange",function(){return N.tc(i),N.ec(2).filtrarListasPorCentro()}),N.Ac(5,st,2,3,"mat-option",15),N.Sb(),N.Sb()}if(2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",t.CODIGO_INTERNO_CENTRO),N.kc("compareWith",t.compareCentro),N.Cb(1),N.kc("ngForOf",t.listadoCentroItem)}}function lt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Ot(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function _t(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,lt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Ot,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareOrganizacionVentas),N.Cb(1),N.kc("ngForOf",t.listadoOrganizacionVentasItem)}}function dt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function It(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function bt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,dt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,It,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareCanalDistribucion),N.Cb(1),N.kc("ngForOf",t.listadoCanalDistribucionItem)}}function ut(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Ct(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Tt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ut,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Ct,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareAlmacen),N.Cb(1),N.kc("ngForOf",t.listadoAlmacenItem)}}function Nt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function mt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function ht(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Nt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",91),N.Ac(5,mt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareClase),N.Cb(1),N.kc("ngForOf",t.listadoClasificacionItem)}}function Et(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function At(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap,"\xa0/\xa0 ",i.nombre," ")}}function gt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Et,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,At,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareTipoMaterial),N.Cb(1),N.kc("ngForOf",t.listadoTipoMaterial)}}function St(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function pt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Dt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,St,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,pt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoArticulo),N.Cb(1),N.kc("ngForOf",t.listadoGrupoArticulo)}}function ft(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Rt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function vt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ft,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Rt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareIdioma),N.Cb(1),N.kc("ngForOf",t.listadoIdioma)}}function Lt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Mt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Pt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Lt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Mt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoImputacionMaterial),N.Cb(1),N.kc("ngForOf",t.listadoGrupoImputacionMaterial)}}function Gt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Ut(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Bt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Gt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Ut,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareJerarquiaProducto),N.Cb(1),N.kc("ngForOf",t.listadoJerarquiaProducto)}}function kt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Ft(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Vt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,kt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Ft,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoMaterial1),N.Cb(1),N.kc("ngForOf",t.listadoGrupoMaterial1)}}function xt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Jt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function yt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,xt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Jt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoMaterial2),N.Cb(1),N.kc("ngForOf",t.listadoGrupoMaterial2)}}function jt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function zt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function qt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,jt,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,zt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareCategoriaValoracion),N.Cb(1),N.kc("ngForOf",t.listadoCategoriaValoracion)}}function $t(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function Xt(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function wt(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,$t,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,Xt,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareMoneda),N.Cb(1),N.kc("ngForOf",t.listadoMoneda)}}function Ht(i,t){if(1&i&&(N.Tb(0,"section",78),N.Tb(1,"mat-checkbox",92),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Qt(i,t){if(1&i&&(N.Tb(0,"section",78),N.Tb(1,"mat-checkbox",92),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Zt(i,t){if(1&i&&(N.Tb(0,"section",78),N.Tb(1,"mat-checkbox",92),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Wt(i,t){if(1&i&&(N.Tb(0,"section",78),N.Tb(1,"mat-checkbox",92),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Kt(i,t){if(1&i&&(N.Tb(0,"section",78),N.Tb(1,"mat-checkbox",92),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Yt(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function io(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Yt,2,0,"span",79),N.Sb(),N.Ob(4,"input",86),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function to(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function oo(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,to,2,0,"span",79),N.Sb(),N.Ob(4,"input",86),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function eo(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function ao(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function co(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,eo,2,0,"span",79),N.Sb(),N.Tb(4,"mat-select",89),N.Ac(5,ao,2,3,"mat-option",15),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareCentro_beneficio),N.Cb(1),N.kc("ngForOf",t.listadoCentroBeneficio)}}function no(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function so(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,no,2,0,"span",79),N.Sb(),N.Ob(4,"textarea",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function ro(i,t){1&i&&(N.Tb(0,"span",84),N.Bc(1,"*"),N.Sb())}function lo(i,t){if(1&i&&(N.Tb(0,"mat-option",61),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," - ",i.nombre," ")}}function Oo(i,t){if(1&i&&(N.Tb(0,"mat-form-field",78),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ro,2,0,"span",79),N.Sb(),N.Ob(4,"input",93,81),N.Tb(6,"mat-hint",82),N.Bc(7),N.Sb(),N.Tb(8,"mat-autocomplete",94,95),N.Ac(10,lo,2,3,"mat-option",15),N.fc(11,"async"),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.rc(9),o=N.ec().$implicit,e=N.ec();N.Cb(2),N.Dc("",o.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==o.regla_campo),N.Cb(1),N.lc("maxlength",o.longitud),N.lc("formControlName",o.codigo_interno),N.kc("matAutocomplete",t),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",o.longitud,""),N.Cb(1),N.kc("displayWith",e.displayFn),N.Cb(2),N.kc("ngForOf",N.gc(11,9,e.filteredPartidaArancelaria))}}function _o(i,t){if(1&i&&(N.Tb(0,"section",78),N.Tb(1,"mat-checkbox",92),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Io(i,t){if(1&i&&(N.Tb(0,"mat-grid-tile"),N.Ac(1,Li,11,6,"mat-form-field",77),N.Ac(2,Pi,8,6,"mat-form-field",77),N.Ac(3,Ui,8,6,"mat-form-field",77),N.Ac(4,ki,8,6,"mat-form-field",77),N.Ac(5,Vi,5,3,"mat-form-field",77),N.Ac(6,Ji,5,3,"mat-form-field",77),N.Ac(7,ji,5,3,"mat-form-field",77),N.Ac(8,qi,5,3,"mat-form-field",77),N.Ac(9,wi,6,5,"mat-form-field",77),N.Ac(10,Wi,7,6,"mat-form-field",77),N.Ac(11,tt,7,6,"mat-form-field",77),N.Ac(12,ct,7,6,"mat-form-field",77),N.Ac(13,rt,6,5,"mat-form-field",77),N.Ac(14,_t,6,5,"mat-form-field",77),N.Ac(15,bt,6,5,"mat-form-field",77),N.Ac(16,Tt,6,5,"mat-form-field",77),N.Ac(17,ht,6,5,"mat-form-field",77),N.Ac(18,gt,6,5,"mat-form-field",77),N.Ac(19,Dt,6,5,"mat-form-field",77),N.Ac(20,vt,6,5,"mat-form-field",77),N.Ac(21,Pt,6,5,"mat-form-field",77),N.Ac(22,Bt,6,5,"mat-form-field",77),N.Ac(23,Vt,6,5,"mat-form-field",77),N.Ac(24,yt,6,5,"mat-form-field",77),N.Ac(25,qt,6,5,"mat-form-field",77),N.Ac(26,wt,6,5,"mat-form-field",77),N.Ac(27,Ht,3,2,"section",77),N.Ac(28,Qt,3,2,"section",77),N.Ac(29,Zt,3,2,"section",77),N.Ac(30,Wt,3,2,"section",77),N.Ac(31,Kt,3,2,"section",77),N.Ac(32,io,5,3,"mat-form-field",77),N.Ac(33,oo,5,3,"mat-form-field",77),N.Ac(34,co,6,5,"mat-form-field",77),N.Ac(35,so,5,3,"mat-form-field",77),N.Ac(36,Oo,12,11,"mat-form-field",77),N.Ac(37,_o,3,2,"section",77),N.Sb()),2&i){const i=t.$implicit,o=N.ec();N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_DENOMINACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_CODIGO_EAN),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_SECTOR),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_RAMO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PRECIO_BASE),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PRECIO_VARIABLE),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PESO_BRUTO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_TEXTO_COMERCIAL),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CENTRO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_ORGANIZACION_VENTAS),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CANAL_DISTRIBUCION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_ALMACEN),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CLASE_TAB),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_TIPO_MATERIAL),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPO_ARTICULO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_IDIOMA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_JERARQUIA_PRODUCTO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPOS_MATERIAL1),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPOS_MATERIAL2),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CATEGORIA_VALORACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_MONEDA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_CRITICOS),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_ESTRATEGICOS),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_IND_PED_AUTOMA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_VISTA_PLANIFICACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PRECIO_COTIZACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PERIODO_VIDA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CENTRO_BENEFICIO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXTAREA&&i.codigo_interno==o.CODIGO_INTERNO_TEXTO_COMPRA),N.Cb(1),N.kc("ngIf",i.codigo_interno==o.CODIGO_INTERNO_PARTIDA_ARANCELARIA),N.Cb(1),N.kc("ngIf",0!=o.listadoMateriales.length&&i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_AMPLIACION)}}function bo(i,t){if(1&i&&(N.Tb(0,"th",97),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function uo(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"\xa0"),N.Sb(),N.Sb())}function Co(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"done"),N.Sb(),N.Sb())}function To(i,t){if(1&i&&(N.Tb(0,"td",98),N.Ac(1,uo,3,0,"span",40),N.Ac(2,Co,3,0,"span",40),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]&&!i[o.codigo_interno]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"]&&i[o.codigo_interno])}}function No(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,bo,2,1,"th",52),N.Ac(2,To,3,2,"td",53),N.Sb())}function mo(i,t){if(1&i&&(N.Tb(0,"th",97),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function ho(i,t){if(1&i&&(N.Tb(0,"span",84),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function Eo(i,t){if(1&i&&(N.Tb(0,"span"),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function Ao(i,t){if(1&i&&(N.Tb(0,"td",98),N.Ac(1,ho,2,1,"span",79),N.Ac(2,Eo,2,1,"span",40),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"])}}function go(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,mo,2,1,"th",52),N.Ac(2,Ao,3,2,"td",53),N.Sb())}function So(i,t){if(1&i&&(N.Rb(0,96),N.Ac(1,No,3,0,"div",40),N.Ac(2,go,3,0,"div",40),N.Qb()),2&i){const i=t.$implicit,o=N.ec();N.lc("matColumnDef",i.codigo_interno),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX),N.Cb(1),N.kc("ngIf",i.tipo_objeto!=o.TIPO_OBJETO_CHECKBOX)}}function po(i,t){1&i&&(N.Tb(0,"th",97),N.Bc(1," Anexos "),N.Sb())}function Do(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",101),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function fo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",102),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Ro(i,t){if(1&i&&(N.Tb(0,"td",98),N.Ac(1,Do,3,0,"button",99),N.Ac(2,fo,3,0,"button",100),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.anexo_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.anexo_material_contador)}}function vo(i,t){1&i&&(N.Tb(0,"th",97),N.Bc(1," Equivalencias "),N.Sb())}function Lo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",101),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function Mo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",102),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function Po(i,t){if(1&i&&(N.Tb(0,"td",98),N.Ac(1,Lo,3,0,"button",99),N.Ac(2,Mo,3,0,"button",100),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.equivalencia_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.equivalencia_material_contador)}}function Go(i,t){1&i&&(N.Tb(0,"th",97),N.Bc(1," Acciones "),N.Sb())}function Uo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"td",98),N.Tb(1,"button",103),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().editarMaterial(o)}),N.Tb(2,"mat-icon"),N.Bc(3,"edit"),N.Sb(),N.Sb(),N.Tb(4,"button",103),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().eliminarMaterial(o)}),N.Tb(5,"mat-icon"),N.Bc(6,"delete"),N.Sb(),N.Sb(),N.Sb()}}function Bo(i,t){1&i&&N.Ob(0,"tr",104)}function ko(i,t){1&i&&N.Ob(0,"tr",105)}let Fo=(()=>{class i{constructor(i,t,o,e,a,c,r,l,O,_,d,I,b,u,C,T,N,m,h,E,A,g,S,p,D,f,R){this.formBuilder=i,this.formValidatorService=t,this.solicitudService=o,this.excelGeneratorService=e,this.nivel3Service=a,this.unidadMedidaService=c,this.centroService=r,this.organizacionVentaService=l,this.canalDistribucionService=O,this.almacenService=_,this.clasificacionService=d,this.matDialog=I,this.router=b,this._snack=u,this.idiomaService=C,this.grupoArticuloService=T,this.tipoMaterialService=N,this.campoVistaService=m,this.categoriaValoracionService=h,this.grupoImputacionMaterialService=E,this.jerarquiaProductoService=A,this.grupoMaterial1Service=g,this.grupoMaterial2Service=S,this.centroBeneficioService=p,this.partidaArancelariaService=D,this.rutaActiva=f,this.equivalenciaService=R,this.ROL_SOLICITANTE=s.a.ROL_SOLICITANTE,this.TIPO_SOLICITUD=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_CREACION=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_AMPLIACION=s.a.TIPO_SOLICITUD_AMPLIACION,this.TIPO_SOLICITUD_MODIFICACION=s.a.TIPO_SOLICITUD_MODIFICACION,this.TIPO_SOLICITUD_BLOQUEO=s.a.TIPO_SOLICITUD_BLOQUEO,this.ESCENARIO_NIVEL1="",this.ESCENARIO_NIVEL1_PT=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_RS=s.a.ESCENARIO_NIVEL1_REPUESTOS_SUMINISTROS,this.ESCENARIO_NIVEL1_MP=s.a.ESCENARIO_NIVEL1_MATERIAS_PRIMAS,this.ESCENARIO_NIVEL1_AO=s.a.ESCENARIO_NIVEL1_ACTIVOS_OTROS,this.TIPO_OBJETO_INPUT_TEXT=s.a.TIPO_OBJETO_INPUT_TEXT,this.TIPO_OBJETO_INPUT_TEXTAREA=s.a.TIPO_OBJETO_INPUT_TEXTAREA,this.TIPO_OBJETO_COMBO=s.a.TIPO_OBJETO_COMBO,this.TIPO_OBJETO_CHECKBOX=s.a.TIPO_OBJETO_CHECKBOX,this.TIPO_DATO_CHAR=s.a.TIPO_DATO_CHAR,this.TIPO_DATO_NUM=s.a.TIPO_DATO_NUM,this.CODIGO_INTERNO_CLASE_INSPECCION_TAB=s.a.CODIGO_INTERNO_CLASE_INSPECCION_TAB,this.CODIGO_INTERNO_AREA_PLANIFICACION_TAB=s.a.CODIGO_INTERNO_AREA_PLANIFICACION_TAB,this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDAD_PESO,this.CODIGO_INTERNO_CENTRO=s.a.CODIGO_INTERNO_CENTRO,this.CODIGO_INTERNO_DENOMINACION=s.a.CODIGO_INTERNO_DENOMINACION,this.CODIGO_INTERNO_PESO_BRUTO=s.a.CODIGO_INTERNO_PESO_BRUTO,this.CODIGO_INTERNO_CENTRO_BENEFICIO=s.a.CODIGO_INTERNO_CENTRO_BENEFICIO,this.CODIGO_INTERNO_ORGANIZACION_VENTAS=s.a.CODIGO_INTERNO_ORGANIZACION_VENTAS,this.CODIGO_INTERNO_CANAL_DISTRIBUCION=s.a.CODIGO_INTERNO_CANAL_DISTRIBUCION,this.CODIGO_INTERNO_ALMACEN=s.a.CODIGO_INTERNO_ALMACEN,this.CODIGO_INTERNO_CLASE_TAB=s.a.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_ALMACEN_PRODUCCION=s.a.CODIGO_INTERNO_ALMACEN_PRODUCCION,this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION=s.a.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION,this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION=s.a.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION,this.CODIGO_INTERNO_CATEGORIA_VALORACION=s.a.CODIGO_INTERNO_CATEGORIA_VALORACION,this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA,this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT=s.a.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT,this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL=s.a.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL,this.CODIGO_INTERNO_JERARQUIA_PRODUCTO=s.a.CODIGO_INTERNO_JERARQUIA_PRODUCTO,this.CODIGO_INTERNO_GRUPOS_MATERIAL1=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL1,this.CODIGO_INTERNO_GRUPOS_MATERIAL2=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL2,this.CODIGO_INTERNO_TEXTO_COMERCIAL=s.a.CODIGO_INTERNO_TEXTO_COMERCIAL,this.CODIGO_INTERNO_GRUPO_TRANSPORTE=s.a.CODIGO_INTERNO_GRUPO_TRANSPORTE,this.CODIGO_INTERNO_GRUPO_CARGA=s.a.CODIGO_INTERNO_GRUPO_CARGA,this.CODIGO_INTERNO_IDIOMA=s.a.CODIGO_INTERNO_IDIOMA,this.CODIGO_INTERNO_TEXTO_COMPRA=s.a.CODIGO_INTERNO_TEXTO_COMPRA,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO,this.CODIGO_INTERNO_UMP_VAR=s.a.CODIGO_INTERNO_UMP_VAR,this.CODIGO_INTERNO_PRECIO_ESTANDAR=s.a.CODIGO_INTERNO_PRECIO_ESTANDAR,this.CODIGO_INTERNO_CODIGO_EAN=s.a.CODIGO_INTERNO_CODIGO_EAN,this.CODIGO_INTERNO_GRUPO_TIPO_POSICION=s.a.CODIGO_INTERNO_GRUPO_TIPO_POSICION,this.CODIGO_INTERNO_PARTIDA_ARANCELARIA=s.a.CODIGO_INTERNO_PARTIDA_ARANCELARIA,this.CODIGO_INTERNO_PRECIO_VARIABLE=s.a.CODIGO_INTERNO_PRECIO_VARIABLE,this.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD=s.a.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD,this.CODIGO_INTERNO_FORMULA_CONCRETO=s.a.CODIGO_INTERNO_FORMULA_CONCRETO,this.CODIGO_INTERNO_TIPO_MATERIAL=s.a.CODIGO_INTERNO_TIPO_MATERIAL,this.CODIGO_INTERNO_GRUPO_ARTICULO=s.a.CODIGO_INTERNO_GRUPO_ARTICULO,this.CODIGO_INTERNO_SECTOR=s.a.CODIGO_INTERNO_SECTOR,this.CODIGO_INTERNO_AMPLIACION=s.a.CODIGO_INTERNO_AMPLIACION,this.CODIGO_INTERNO_RAMO=s.a.CODIGO_INTERNO_RAMO,this.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_PRECIO_BASE=s.a.CODIGO_INTERNO_PRECIO_BASE,this.CODIGO_INTERNO_MONEDA=s.a.CODIGO_INTERNO_MONEDA,this.CODIGO_INTERNO_IND_PED_AUTOMA=s.a.CODIGO_INTERNO_IND_PED_AUTOMA,this.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO=s.a.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO,this.CODIGO_INTERNO_CRITICOS=s.a.CODIGO_INTERNO_CRITICOS,this.CODIGO_INTERNO_ESTRATEGICOS=s.a.CODIGO_INTERNO_ESTRATEGICOS,this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP=s.a.CODIGO_INTERNO_MATERIAL_CODIGO_SAP,this.CODIGO_INTERNO_VISTA_PLANIFICACION=s.a.CODIGO_INTERNO_VISTA_PLANIFICACION,this.CODIGO_INTERNO_PRECIO_COTIZACION=s.a.CODIGO_INTERNO_PRECIO_COTIZACION,this.CODIGO_INTERNO_PERIODO_VIDA=s.a.CODIGO_INTERNO_PERIODO_VIDA,this.SOLICITUD_DETALLE_NUMERO_COLUMNAS=s.a.SOLICITUD_DETALLE_NUMERO_COLUMNAS,this.listadoMateriales=[],this.listadoUnidadMedidaBase=[],this.listadoUnidadMedidaPeso=[],this.listadoUnidadMedidaVenta=[],this.listadoUnidadMedidaPedido=[],this.listadoCentros=[],this.listadoOrganizaciones=[],this.listadoReglasVista=[],this.listadoCampoReglas=[],this.listadoCentroItem=[],this.listadoOrganizacionVentasItem=[],this.listadoCanalDistribucionItem=[],this.listadoAlmacenItem=[],this.listadoClasificacionItem=[],this.listadoLineaNegocio=[],this.listadoIdioma=[],this.listadoGrupoArticulo=[],this.listadoTipoMaterial=[],this.listadoResponsableControlProduccion=[],this.listadoPerfilControlFabricacion=[],this.listadoCategoriaValoracion=[],this.listadoGrupoEstadisticaMaterial=[],this.listadoGrupoImputacionMaterial=[],this.listadoJerarquiaProducto=[],this.listadoGrupoMaterial1=[],this.listadoGrupoMaterial2=[],this.listadoGrupoTransporte=[],this.listadoGrupoCarga=[],this.listadoCentroBeneficio=[],this.listadoMoneda=s.a.LISTADO_MONEDA,this.jsonDescargaFormato=[],this.cantidadCampos=0,this.sociedad={id:0,codigo_sap:"",nombre:""},this.camposMaterialModelo=[],this.listadoCampoVista=[],this.formErrors={selectecLineaNegocio:"",descripcion_corta:"",selectedCentro:"",selectedAlmacen:"",codigoModelo:""},this.formErrorsItem={},this.validationMessages={selectecLineaNegocio:{required:"L\xednea de negocio es requerido."},descripcion_corta:{required:"Descripci\xf3n corta de solicitud es requerida."}},this.displayedColumns=[],this.submitted=!1,this.fileName="",this.activarEditarMaterial=!1,this.botonLlenarDatos=!1,this.MENSAJE_GUARDAR_SOLICITUD=s.a.MENSAJE_GUARDAR_SOLICITUD,this.MENSAJE_ACTUALIZAR_SOLICITUD=s.a.MENSAJE_ACTUALIZAR_SOLICITUD,this.MENSAJE_AGREGAR_MATERIAL=s.a.MENSAJE_AGREGAR_MATERIAL,this.MENSAJE_ELIMINAR_MATERIAL=s.a.MENSAJE_ELIMINAR_MATERIAL,this.MENSAJE_ACTUALIZAR_MATERIAL=s.a.MENSAJE_ACTUALIZAR_MATERIAL,this.MENSAJE_CARGA_MASIVA=s.a.MENSAJE_CARGA_MASIVA,this.MENSAJE_ENVIO_SOLICITUD=s.a.MENSAJE_ENVIO_SOLICITUD,this.MENSAJE_ANULAR_SOLICITUD=s.a.MENSAJE_ANULAR_SOLICITUD,this.MENSAJE_CARGAR_ANEXO_SOLICITUD=s.a.MENSAJE_CARGAR_ANEXO_SOLICITUD,this.MENSAJE_CARGAR_ANEXO_MATERIAL=s.a.MENSAJE_CARGAR_ANEXO_MATERIAL,this.MENSAJE_ELIMINAR_ANEXO_SOLICITUD=s.a.MENSAJE_ELIMINAR_ANEXO_SOLICITUD,this.MENSAJE_ELIMINAR_ANEXO_MATERIAL=s.a.MENSAJE_ELIMINAR_ANEXO_MATERIAL,this.existeDenominacion=!1,this.mensajeDenominacionExistente="Existe coincidencia",this.cantidadErrores=0,this.camposErrores="",this.myControl=new n.e,this.listadoPartidaArancelaria=[],this.btnAdd=!1,this.existeAnexoSolicitud=!1,this.existeAnexoMaterial=!1,this.existeEquivalencias=!1,this.ESCENARIO_NIVEL1=this.rutaActiva.snapshot.params.nivelEscenario,this.TIPO_SOLICITUD=parseInt(this.rutaActiva.snapshot.params.tipoSolicitud),this.initForm()}ngOnInit(){this.getListarNivel3Solicitud(),this.getListarUnidadMedida(),this.getListarCanalDistribucion(),this.getListarClasificacion(),this.getListarIdioma(),this.getListarGrupoArticulo(),this.getListarTipoMaterial(),this.getListarCampoVista(),this.getListarCategoriaValoracion(),this.getListarGrupoImputacionMaterial(),this.getListarJerarquiaProducto(),this.getListarGrupoMaterial1(),this.getListarGrupoMaterial2(),this.filtrarPartidaArnacelaria()}filtrarPartidaArnacelaria(){var i;return Object(c.a)(this,void 0,void 0,function*(){this.filteredPartidaArancelaria=null===(i=this.itemForm.get(this.CODIGO_INTERNO_PARTIDA_ARANCELARIA))||void 0===i?void 0:i.valueChanges.pipe(Object(u.a)(""),Object(C.a)(i=>"string"==typeof i?i:i.codigo_sap),Object(C.a)(i=>i?this._filtrarPartidaArancelaria(i):this.listadoPartidaArancelaria.slice()))})}displayFn(i){return i&&i.codigo_sap?i.codigo_sap:""}_filtrarPartidaArancelaria(i){return i.length>2?this.partidaArancelariaService.getFiltrarPartidaArancelaria(i).then(i=>{this.listadoPartidaArancelaria=i}):this.listadoPartidaArancelaria=[],this.listadoPartidaArancelaria}initForm(){this.solicitudForm=this.formBuilder.group({selectecLineaNegocio:["",n.v.required],descripcion_corta:["",n.v.required],files:new n.e(""),fileAnexoSolicitud:[""]}),this.solicitudForm.valueChanges.subscribe(()=>{this.formErrors=this.formValidatorService.handleFormChanges(this.solicitudForm,this.formErrors,this.validationMessages,this.submitted)}),this.filtroForm=this.formBuilder.group({selectedCentro:[{value:"",disabled:!0}],selectedAlmacen:[{value:"",disabled:!0}],codigoModelo:[{value:"",disabled:!0}],fileAnexoMaterial:[""]}),this.filtroForm.valueChanges.subscribe(()=>{this.formErrors=this.formValidatorService.handleFormChanges(this.filtroForm,this.formErrors,this.validationMessages,this.submitted)}),this.itemForm=this.formBuilder.group({denominacion:[{value:"",disabled:!0}],unidad_medida_base:[{value:"",disabled:!0}],peso_bruto:[{value:"",disabled:!0}],unidad_medida_peso:[{value:"",disabled:!0}],centro_codigo_sap:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CENTRO_BENEFICIO]:[{value:"",disabled:!0}],organizacion_ventas:[{value:"",disabled:!0}],canal_distribucion:[{value:"",disabled:!0}],almacen_codigo_sap:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CLASE_TAB]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_ALMACEN_PRODUCCION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CATEGORIA_VALORACION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_JERARQUIA_PRODUCTO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPOS_MATERIAL1]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPOS_MATERIAL2]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_TEXTO_COMERCIAL]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_TRANSPORTE]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_CARGA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_IDIOMA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_TEXTO_COMPRA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_UMP_VAR]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PRECIO_ESTANDAR]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CODIGO_EAN]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_TIPO_POSICION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PARTIDA_ARANCELARIA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PRECIO_VARIABLE]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_FORMULA_CONCRETO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_ARTICULO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_TIPO_MATERIAL]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_SECTOR]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_AMPLIACION]:[{value:!1,disabled:!0}],[this.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PRECIO_BASE]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_MONEDA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_IND_PED_AUTOMA]:[{value:!1,disabled:!0}],[this.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO]:[{value:!1,disabled:!0}],[this.CODIGO_INTERNO_CRITICOS]:[""],[this.CODIGO_INTERNO_ESTRATEGICOS]:[""],[this.CODIGO_INTERNO_VISTA_PLANIFICACION]:[""],[this.CODIGO_INTERNO_PRECIO_COTIZACION]:[""],[this.CODIGO_INTERNO_PERIODO_VIDA]:[""]}),this.itemForm.valueChanges.subscribe(()=>{this.formErrorsItem=this.formValidatorService.handleFormChanges(this.itemForm,this.formErrorsItem,this.validationMessages,this.submitted)})}filtrarReglas(){let i=this.solicitudForm.get("selectecLineaNegocio").value;this.sociedad=i.sociedad,this.getListarCentro(),this.getListarCentroBeneficioPorSociedad(this.sociedad.codigo_sap),this.getListarOrganizacionVentas(),this.getListadoCampoReglas(i.id,this.ROL_SOLICITANTE,this.TIPO_SOLICITUD)}habilitarControles(){var i,t,o;null===(i=this.filtroForm.get("selectedCentro"))||void 0===i||i.enable(),null===(t=this.filtroForm.get("selectedAlmacen"))||void 0===t||t.enable(),null===(o=this.filtroForm.get("codigoModelo"))||void 0===o||o.enable(),this.listadoCampoReglas.forEach(i=>{var t;i.codigo_interno!=this.CODIGO_INTERNO_AMPLIACION&&(null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.enable())})}getListarUnidadMedida(){this.unidadMedidaService.getListarUnidadMedida().then(i=>{this.listadoUnidadMedidaBase=i.lista,this.listadoUnidadMedidaPeso=i.lista,this.listadoUnidadMedidaVenta=i.lista,this.listadoUnidadMedidaPedido=i.lista})}getListarCentro(){this.centroService.getListarCentroPorSociedad(this.sociedad.codigo_sap).then(i=>{this.listadoCentroItem=i.lista,this.listadoCentros=i.lista})}getListarOrganizacionVentas(){this.organizacionVentaService.getListarCentroOrganizacionVentaxSociedad(this.sociedad.codigo_sap).then(i=>{this.listadoOrganizacionVentasItem=i.lista,this.listadoOrganizaciones=i.lista})}getListarCategoriaValoracion(){var i,t;let o=(null===(i=this.itemForm.get(this.CODIGO_INTERNO_TIPO_MATERIAL))||void 0===i?void 0:i.value)?null===(t=this.itemForm.get(this.CODIGO_INTERNO_TIPO_MATERIAL))||void 0===t?void 0:t.value:"";null!=o&&""!=o?this.categoriaValoracionService.getListarCategoriaValoracionPorTipoMaterial(o).then(i=>{this.listadoCategoriaValoracion=i.lista}):this.categoriaValoracionService.getListarCategoriaValoracion().then(i=>{this.listadoCategoriaValoracion=i.lista})}getListarGrupoImputacionMaterial(){this.grupoImputacionMaterialService.getListarGrupoImputacionMaterial().then(i=>{this.listadoGrupoImputacionMaterial=i.lista})}getListarJerarquiaProducto(){this.jerarquiaProductoService.getListarJerarquiaProducto().then(i=>{this.listadoJerarquiaProducto=i.lista})}getListarGrupoMaterial1(){this.grupoMaterial1Service.getListarGrupoMaterial1().then(i=>{this.listadoGrupoMaterial1=i.lista})}getListarGrupoMaterial2(){this.grupoMaterial2Service.getListarGrupoMaterial2().then(i=>{this.listadoGrupoMaterial2=i.lista})}getListarCanalDistribucion(){this.canalDistribucionService.getListarCanalDistribucion().then(i=>{this.listadoCanalDistribucionItem=i.lista})}getListarAlmacen(i){this.almacenService.getListarAlmacen(i).then(i=>{this.listadoAlmacenItem=i.lista})}getListarClasificacion(){this.clasificacionService.getListarClasificacion().then(i=>{this.listadoClasificacionItem=i.lista})}getListarCentroBeneficioPorSociedad(i){this.centroBeneficioService.getListarCentroBeneficioPorSociedad(i).then(i=>{this.listadoCentroBeneficio=i.lista})}filtrarListasPorCentro(){var i;let t=null===(i=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===i?void 0:i.value;this.getListarAlmacen(t.codigo_sap)}getListadoCampoReglas(i,t,o){return Object(c.a)(this,void 0,void 0,function*(){let e=0,a=[],c=[];this.displayedColumns=[],this.solicitudService.getListadoCampoReglas(i,t,o).then(i=>{let t=i.lista,o='"id_material_solicitud": "", "';if(o=this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION?o+this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO+'":"",':o+this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP+'":"",',1==i.resultado){for(let i=0;i<t.length;i++)if(null!=t[i].tipo_objeto){e++;let c=t[i].codigo_interno;this.displayedColumns.push(t[i].codigo_interno),1==e?o=o+'"'+c+'": ""':t[i].codigo_interno!=this.CODIGO_INTERNO_AMPLIACION&&(console.log("peru--\x3e"+t[i].codigo_interno),o=o+',"'+c+'": ""'),a.push(t[i])}this.displayedColumns.push("anexos"),this.displayedColumns.push("equivalencias"),this.displayedColumns.push("acciones"),o=JSON.parse("[{"+o+"}]"),c=o,this.cantidadCampos=e,this.listadoCampoReglas=a,this.jsonDescargaFormato=c}console.log(" listado campos reglas vista--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.habilitarControles(),this.initCamposMateriales(),console.log(" Json Descarga Formato--\x3e"+JSON.stringify(c))})})}agregarSolicitud(i){this.solicitudService.agregarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_tipo_solicitud:this.TIPO_SOLICITUD,id_rol:this.ROL_SOLICITANTE}).then(i=>{1==i.resultado&&(this.habilitarControles(),this.EscenarioNivel3_Old=this.solicitudForm.get("selectecLineaNegocio").value,this.id_solicitud=i.id,this.correlativo=i.correlativo,this.estadoActualSolicitud(this.id_solicitud),this.habilitarControles(),this.obtenerUrlSolicitud(),this._snack.open(this.MENSAJE_GUARDAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}))})}agregarMaterialCreacion(i){return Object(c.a)(this,void 0,void 0,function*(){{let t=yield this.mapearCamposMaterial(i);console.log("11111111111111111111"),console.log("camposCodigoModelo--\x3e"+JSON.stringify(this.camposMaterialModelo));let o={id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,material:{campos:t}};console.log("material---\x3e"+JSON.stringify(o)),this.solicitudService.agregarMaterial(o).then(i=>{this._snack.open(this.MENSAJE_AGREGAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales(),this.limpiarMaterial()})}})}getListarNivel3Solicitud(){return Object(c.a)(this,void 0,void 0,function*(){this.nivel3Service.getListarNivel3SolicitudPorUsuario({id_rol:this.ROL_SOLICITANTE,id_tipo_solicitud:this.TIPO_SOLICITUD,codigo_escenario_nivel1:this.ESCENARIO_NIVEL1}).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})})}openDialogConfirmarActualizarSolicitud(i){return Object(c.a)(this,void 0,void 0,function*(){let t=this.solicitudForm.get("selectecLineaNegocio").value,o="";o=this.comparaIdLineaNegocio(this.EscenarioNivel3_Old,t)?"Grabar Cambios":"Se borraran el detalle de la solicitud. Confirmar",this.matDialog.open(r.a,{disableClose:!0,data:o}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarSolicitud(i):(this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null),this.filtrarReglas())})})}comparaIdLineaNegocio(i,t){return i.id==t.id}actualizarSolicitud(i){this.solicitudService.actualizarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_solicitud:this.id_solicitud}).then(t=>{1==t.resultado&&(this.EscenarioNivel3_Old=i.selectecLineaNegocio,this.estadoActualSolicitud(this.id_solicitud),this.habilitarControles(),this.getListadoMateriales(),JSON.stringify(t),this._snack.open(this.MENSAJE_ACTUALIZAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}))})}getListadoMateriales(){this.solicitudService.getListadoMateriales(this.id_solicitud,this.ROL_SOLICITANTE).then(i=>{this.listadoMateriales=i.lista,console.log("imm listadoMateriales--\x3e"+this.listadoMateriales)})}mapearCamposMaterial(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){let e=(null===(t=this.filtroForm.get("codigoModelo"))||void 0===t?void 0:t.value)?null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value:"",a=[];return""!=e&&this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION&&a.push({codigo_interno:s.a.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO,valor:e}),this.listadoCampoReglas.forEach((t,o)=>{var e;if(null===(e=this.itemForm.get(t.codigo_interno))||void 0===e?void 0:e.enabled){if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXT){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,a.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXTAREA){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,a.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_CHECKBOX&&a.push({codigo_interno:t.codigo_interno,valor:i[t.codigo_interno]?"X":""}),t.tipo_objeto==this.TIPO_OBJETO_COMBO)if("_tab"==t.codigo_interno.substr(-4)){let o=[],e=[];i[t.codigo_interno].length&&(e=i[t.codigo_interno]),e!=[]&&e.forEach(i=>{o.push({valor:i.codigo_sap})}),a.push({codigo_interno:t.codigo_interno,valores:o})}else{let o="";i[t.codigo_interno]&&(o=i[t.codigo_interno].codigo_sap?i[t.codigo_interno].codigo_sap:""),a.push({codigo_interno:t.codigo_interno,valor:o})}}}),a})}descargarFormato(){this.excelGeneratorService.exportAsExcelFile(this.jsonDescargaFormato,"Solicitante")}descargarListado(){let i="",t=[],o=0,e=[],a=0,c=[];this.listadoMateriales.forEach(n=>{o=1,t=[],a++,i='{"id_material_solicitud":'+n.id_material_solicitud+', "',i=this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION?i+this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO+'":"'+n[this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO]+'"':i+this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP+'":"'+n[this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]+'"',this.listadoCampoReglas.forEach(e=>{if(e.codigo_interno!=this.CODIGO_INTERNO_AMPLIACION){let a="null"==n[e.codigo_interno+"_valor"]||null==n[e.codigo_interno+"_valor"]?"":n[e.codigo_interno+"_valor"];a=a.split(/\n/i).join("@@@"),o++,i=i+', "'+[e.codigo_interno]+'":"'+a+'"',n[e.codigo_interno+"_error"]&&t.push(o)}}),t.length>0&&e.push({fila:a,posicion:t}),i+="}",c.push(JSON.parse(i))}),this.jsonDescargaFormato=c,this.excelGeneratorService.exportListadoAsExcelFile(c,e,"Solicitante-"+this.correlativo)}descargarListadoOLD(){let i="",t=[],o=0,e=[],a=0,c=[];this.listadoMateriales.forEach(n=>{o=1,t=[],a++,i='{"id_material_solicitud":'+n.id_material_solicitud,n.denominacion&&(o++,i=i+', "'+this.CODIGO_INTERNO_DENOMINACION+'":"'+n.denominacion_valor+'"',n.denominacion_error&&t.push(o)),n.unidad_medida_base&&(o++,i=i+',"'+this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE+'":"'+n.unidad_medida_base_valor+'"',n.unidad_medida_base_error&&t.push(o)),n.peso_bruto&&(o++,i=i+',"'+this.CODIGO_INTERNO_PESO_BRUTO+'":"'+n.peso_bruto_valor+'"',n.peso_bruto_error&&t.push(o)),n.unidad_medida_peso&&(o++,i=i+',"'+this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO+'":"'+n.unidad_medida_peso_valor+'"',n.unidad_medida_peso_error&&t.push(o)),n[this.CODIGO_INTERNO_CENTRO]&&(o++,i=i+',"'+this.CODIGO_INTERNO_CENTRO+'":"'+n[this.CODIGO_INTERNO_CENTRO+"_valor"]+'"',n[this.CODIGO_INTERNO_CENTRO+"_error"]&&t.push(o)),n.organizacion_ventas&&(o++,i=i+',"'+this.CODIGO_INTERNO_ORGANIZACION_VENTAS+'":"'+n.organizacion_ventas_valor+'"',n.organizacion_ventas_error&&t.push(o)),n.canal_distribucion&&(o++,i=i+',"'+this.CODIGO_INTERNO_CANAL_DISTRIBUCION+'":"'+n.canal_distribucion_valor+'"',n.canal_distribucion_error&&t.push(o)),n[this.CODIGO_INTERNO_ALMACEN]&&(o++,i=i+',"'+this.CODIGO_INTERNO_ALMACEN+'":"'+n[this.CODIGO_INTERNO_ALMACEN+"_valor"]+'"',n[this.CODIGO_INTERNO_ALMACEN+"_error"]&&t.push(o)),n[this.CODIGO_INTERNO_CLASE_TAB]&&(o++,i=i+',"'+this.CODIGO_INTERNO_CLASE_TAB+'":"'+n[this.CODIGO_INTERNO_CLASE_TAB+"_valor"]+'"',n[this.CODIGO_INTERNO_CLASE_TAB+"_error"]&&n[this.CODIGO_INTERNO_CLASE_TAB+"_error"].search("true")>=0&&t.push(o)),t.length>0&&e.push({fila:a,posicion:t}),i+="}",c.push(JSON.parse(i))}),console.log("filaError---\x3e"+JSON.stringify(e)),console.log("FilaArray---\x3e"+JSON.stringify(c)),this.jsonDescargaFormato=c,this.excelGeneratorService.exportListadoAsExcelFile(c,e,"sample")}onFileSelected(i){this.excelGeneratorService.onFileSeleted(this.TIPO_SOLICITUD,i,[this.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_CLASE_INSPECCION_TAB,this.CODIGO_INTERNO_AREA_PLANIFICACION_TAB]).then(i=>{this.cargaMasiva(i),this.solicitudForm.get("files").reset()})}cargaMasiva(i){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.cargaMasivaCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.cargaMasivaAmpliacion(i)}}cargaMasivaCreacion(i){this.solicitudService.cargaMasiva({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,materiales:i}).then(i=>{console.log("resultado---\x3e"+JSON.stringify(i)),this._snack.open(this.MENSAJE_CARGA_MASIVA,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()})}cargaMasivaAmpliacion(i){this.solicitudService.cargaMasivaAmpliacion({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,materiales:i}).then(i=>{console.log("resultado---\x3e"+JSON.stringify(i)),1==i.resultado?this._snack.open(this.MENSAJE_CARGA_MASIVA,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}):this.openDialogErrorSap(i.mensaje),this.getListadoMateriales()})}editarMaterial(i){var t,o,e,a,n;return Object(c.a)(this,void 0,void 0,function*(){console.log("imm editar material--\x3e"+JSON.stringify(i)),this.habilitarControles(),this.obtenerEquivalencias(i.id_material_solicitud),this.obtenerUrlMaterial(i.id_material_solicitud),this.btnAdd=!1,this.itemMaterialOld=i,this.activarEditarMaterial=!0;let c=i[this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO]?i[this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO]:"";null===(t=this.filtroForm.get("codigoModelo"))||void 0===t||t.setValue(c),this.listadoCampoReglas.forEach(t=>{var o,e,a,c,n,r,l,O;if(null===(o=this.itemForm.get(t.codigo_interno))||void 0===o||o.setValue(""),!i[t.codigo_interno+"_error"]){let o=null==i[t.codigo_interno+"_valor"]?"":i[t.codigo_interno+"_valor"];if(t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXT&&(null===(e=this.itemForm.get(t.codigo_interno))||void 0===e||e.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXTAREA&&(null===(a=this.itemForm.get(t.codigo_interno))||void 0===a||a.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_CHECKBOX){let o=!1;"X"==i[t.codigo_interno+"_valor"]&&(o=!0),null===(c=this.itemForm.get(t.codigo_interno))||void 0===c||c.setValue(o)}if(t.tipo_objeto==s.a.TIPO_OBJETO_COMBO)if(t.codigo_interno==this.CODIGO_INTERNO_CLASE_TAB){let t=[];if(i[this.CODIGO_INTERNO_CLASE_TAB+"_valor"]){let o=i[this.CODIGO_INTERNO_CLASE_TAB+"_valor"].split(","),e=i[this.CODIGO_INTERNO_CLASE_TAB+"_id"].split(","),a=i[this.CODIGO_INTERNO_CLASE_TAB+"_descripcion"].split(",");for(let i=0;i<e.length;i++)t.push({id_clasificacion:e[i],codigo_sap:o[i],nombre:a[i]})}null===(n=this.itemForm.get(this.CODIGO_INTERNO_CLASE_TAB))||void 0===n||n.setValue(t)}else t.codigo_interno==this.CODIGO_INTERNO_CENTRO&&(1!=i[this.CODIGO_INTERNO_CENTRO+"_error"]&&1!=i[this.CODIGO_INTERNO_ALMACEN+"_error"]||(null===(r=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===r||r.disable(),null===(l=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===l||l.disable()),this.getListarAlmacen(o)),null===(O=this.itemForm.get(t.codigo_interno))||void 0===O||O.setValue({codigo_sap:o})}}),"X"==i[this.CODIGO_INTERNO_AMPLIACION+"_valor"]?(null===(o=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===o||o.disable(),null===(e=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===e||e.disable(),null===(a=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===a||a.disable(),this.btnAdd=!0):yield this.solicitudService.esPadre(this.id_solicitud,null===(n=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===n?void 0:n.value).then(t=>{var o,e,a;t.existe&&0==i[this.CODIGO_INTERNO_DENOMINACION+"_error"]&&(null===(o=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===o||o.disable(),null===(e=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===e||e.disable(),null===(a=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===a||a.disable(),this.btnAdd=!0)})})}eliminarMaterial(i){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.eliminarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.eliminarAmpliacion(i)}}eliminarCreacion(i){let t;t=i.ampliacion?_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL:_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL_AMPLIADOS,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.solicitudService.eliminarMaterial(i).then(i=>{console.log(JSON.stringify(i)),this._snack.open(this.MENSAJE_ELIMINAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()}):this.getListadoMateriales()})}eliminarAmpliacion(i){let t;this.itemMaterialOld=i,t=i.ampliacion?_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL:_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL_AMPLIADOS,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.solicitudService.eliminarMaterialAmpliaci\u00f3n(this.id_solicitud,this.itemMaterialOld.id_material_solicitud).then(i=>{console.log(JSON.stringify(i)),this._snack.open(this.MENSAJE_ELIMINAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()}):this.getListadoMateriales()})}compareLineaNegocio(i,t){return i.id===t.id}compareUnidadMedidaBase(i,t){return i.codigo_sap===t.codigo_sap}compareUnidadMedidaPeso(i,t){return i.codigo_sap===t.codigo_sap}compareCentro(i,t){return i.codigo_sap===t.codigo_sap}compareCentro_beneficio(i,t){return i.codigo_sap===t.codigo_sap}compareOrganizacionVentas(i,t){return i.codigo_sap===t.codigo_sap}compareCanalDistribucion(i,t){return i.codigo_sap===t.codigo_sap}compareAlmacen(i,t){return i.codigo_sap===t.codigo_sap}compareAlmacenProduccion(i,t){return i.codigo_sap===t.codigo_sap}compareClase(i,t){return i&&t?i.codigo_sap===t.codigo_sap:i===t}compareUnidadMedidaVenta(i,t){return i.codigo_sap===t.codigo_sap}compareUnidadMedidaPedido(i,t){return i.codigo_sap===t.codigo_sap}compareResponsableControlProduccion(i,t){return i.codigo_sap===t.codigo_sap}comparePerfilControlFabricacion(i,t){return i.codigo_sap===t.codigo_sap}compareCategoriaValoracion(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoEstadisticaMaterial(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoImputacionMaterial(i,t){return i.codigo_sap===t.codigo_sap}compareJerarquiaProducto(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoMaterial1(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoMaterial2(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoTransporte(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoCarga(i,t){return i.codigo_sap===t.codigo_sap}compareIdioma(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoTipoPosicion(i,t){return i.codigo_sap===t.codigo_sap}comparePartidaArancelaria(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoArticulo(i,t){return i.codigo_sap===t.codigo_sap}compareTipoMaterial(i,t){return i.codigo_sap===t.codigo_sap}compareMoneda(i,t){return i.codigo_sap===t.codigo_sap}compareClaseInspeccion(i,t){return i&&t?i.codigo_sap===t.codigo_sap:i===t}mapearCamposMaterialActualizar(i,t){var o,e;let a=(null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value)?null===(e=this.filtroForm.get("codigoModelo"))||void 0===e?void 0:e.value:"",c=[];return""!=a&&this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION&&c.push({codigo_interno:s.a.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO,valor:a}),this.listadoCampoReglas.forEach((t,o)=>{var e;if(null===(e=this.itemForm.get(t.codigo_interno))||void 0===e?void 0:e.enabled){if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXT){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,c.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXTAREA){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,c.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_CHECKBOX&&c.push({codigo_interno:t.codigo_interno,valor:i[t.codigo_interno]?"X":""}),t.tipo_objeto==this.TIPO_OBJETO_COMBO)if("_tab"==t.codigo_interno.substr(-4)){let o="",e=[],a=0;i[t.codigo_interno]&&i[t.codigo_interno].forEach(i=>{a++,o=1==a?i.codigo_sap:o+","+i.codigo_sap,e.push({valor:i.codigo_sap})}),c.push({codigo_interno:t.codigo_interno,valores:e})}else{let o="";i[t.codigo_interno]&&(o=i[t.codigo_interno].codigo_sap?i[t.codigo_interno].codigo_sap:""),c.push({codigo_interno:t.codigo_interno,valor:o})}}}),console.log("campos--\x3e"+JSON.stringify(c)),c}openDialogConfirmarEnviarActualizarSolicitud(i){return Object(c.a)(this,void 0,void 0,function*(){this.cantidadErrores=0,yield this.existeErrores();let t="";this.cantidadErrores>0?(t=_.a.warnig.MENSAJE_EXISTE_ERRORES_AL_GRABAR_SOLICITUD+this.camposErrores,this.matDialog.open(O.a,{disableClose:!0,data:t}).afterClosed().subscribe(i=>{})):(t=_.a.warnig.MENSAJE_APROBAR_SOLICITUD,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarEnviarSolicitud(i):this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null)}))})}openDialogConfirmarEnviarActualizarSolicitud33(i){return Object(c.a)(this,void 0,void 0,function*(){let t=this.solicitudForm.get("selectecLineaNegocio").value,o="";this.cantidadErrores=0,yield this.existeErrores(),0==this.cantidadErrores&&this.listadoMateriales.length>0&&(o=this.comparaIdLineaNegocio(this.EscenarioNivel3_Old,t)?"Guardar cambios y enviar solicitud al supervisor":"Se borrar\xe1 el detalle de la solicitud. Confirmar guardar cambios y env\xedo al supervisor",this.matDialog.open(r.a,{disableClose:!0,data:o}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarEnviarSolicitud(i):this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null)}))})}actualizarEnviarSolicitud(i){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudService.actualizarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_solicitud:this.id_solicitud}).then(t=>Object(c.a)(this,void 0,void 0,function*(){1==t.resultado&&(this.EscenarioNivel3_Old=i.selectecLineaNegocio,this._snack.open(this.MENSAJE_ENVIO_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.aprobarSolicitud())}))})}aprobarSolicitud(){this.solicitudService.aprobarSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,motivo:""}).then(i=>{this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])})}limpiarMaterial(){this.btnAdd=!1,this.listadoCampoReglas.forEach(i=>{var t,o,e;null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.setValue(""),null===(o=this.itemForm.get(i.codigo_interno))||void 0===o||o.enable(),i.codigo_interno==this.CODIGO_INTERNO_AMPLIACION&&(null===(e=this.itemForm.get(i.codigo_interno))||void 0===e||e.disable())}),this.initCamposMateriales(),this.itemMaterialOld=null,this.camposMaterialModelo=[]}openDialogConfirmarAnularSolicitud(i){this.matDialog.open(r.a,{disableClose:!0,data:"Confirma la anulaci\xf3n de la solicitud ?"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.solicitudService.anularSolicitud({id_solicitud:this.id_solicitud,id_rol:1}).then(i=>{1==i.resultado&&(this._snack.open(this.MENSAJE_ANULAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1]))}):console.log("no se anul\xf3 la solicitud")})}listadoDenominacion(){var i;let t=null===(i=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===i?void 0:i.value;t=t.toUpperCase().trim(),""!=t&&this.matDialog.open(l.a,{disableClose:!1,data:t.toUpperCase().trim(),width:"50%",height:"50%"}).afterClosed().subscribe(i=>{})}estadoActualSolicitud(i){this.solicitudService.estadoActual(i).then(i=>{this.estadoFlujoActualSolicitud=i})}initCamposMaterialesOLD(){this.listadoCampoReglas.forEach(i=>{var t,o,e,a,c,s,r,l,O,_,d,I,b,u,C,T,N,m,h,E,A,g,S,p,D,f,R,v;i.codigo_interno==this.CODIGO_INTERNO_DENOMINACION&&(null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t||t.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE&&(null===(o=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE))||void 0===o||o.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_PESO_BRUTO&&(null===(e=this.itemForm.get(this.CODIGO_INTERNO_PESO_BRUTO))||void 0===e||e.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO&&(null===(a=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO))||void 0===a||a.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CENTRO&&(null===(c=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===c||c.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CENTRO_BENEFICIO&&(null===(s=this.itemForm.get(this.CODIGO_INTERNO_CENTRO_BENEFICIO))||void 0===s||s.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_ORGANIZACION_VENTAS&&(null===(r=this.itemForm.get(this.CODIGO_INTERNO_ORGANIZACION_VENTAS))||void 0===r||r.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CANAL_DISTRIBUCION&&(null===(l=this.itemForm.get(this.CODIGO_INTERNO_CANAL_DISTRIBUCION))||void 0===l||l.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_ALMACEN&&(null===(O=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===O||O.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CLASE_TAB&&(null===(_=this.itemForm.get(this.CODIGO_INTERNO_CLASE_TAB))||void 0===_||_.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_ALMACEN_PRODUCCION&&(null===(d=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN_PRODUCCION))||void 0===d||d.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION&&(null===(I=this.itemForm.get(this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION))||void 0===I||I.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION&&(null===(b=this.itemForm.get(this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION))||void 0===b||b.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CATEGORIA_VALORACION&&(null===(u=this.itemForm.get(this.CODIGO_INTERNO_CATEGORIA_VALORACION))||void 0===u||u.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA&&(null===(C=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA))||void 0===C||C.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT&&(null===(T=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT))||void 0===T||T.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL&&(null===(N=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL))||void 0===N||N.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_JERARQUIA_PRODUCTO&&(null===(m=this.itemForm.get(this.CODIGO_INTERNO_JERARQUIA_PRODUCTO))||void 0===m||m.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPOS_MATERIAL1&&(null===(h=this.itemForm.get(this.CODIGO_INTERNO_GRUPOS_MATERIAL1))||void 0===h||h.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPOS_MATERIAL2&&(null===(E=this.itemForm.get(this.CODIGO_INTERNO_GRUPOS_MATERIAL2))||void 0===E||E.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_TEXTO_COMERCIAL&&(null===(A=this.itemForm.get(this.CODIGO_INTERNO_TEXTO_COMERCIAL))||void 0===A||A.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_TRANSPORTE&&(null===(g=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_TRANSPORTE))||void 0===g||g.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_CARGA&&(null===(S=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_CARGA))||void 0===S||S.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_IDIOMA&&(null===(p=this.itemForm.get(this.CODIGO_INTERNO_IDIOMA))||void 0===p||p.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO&&(null===(D=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO))||void 0===D||D.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UMP_VAR&&(null===(f=this.itemForm.get(this.CODIGO_INTERNO_UMP_VAR))||void 0===f||f.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_TEXTO_COMPRA&&(null===(R=this.itemForm.get(this.CODIGO_INTERNO_TEXTO_COMPRA))||void 0===R||R.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_PRECIO_ESTANDAR&&(null===(v=this.itemForm.get(this.CODIGO_INTERNO_PRECIO_ESTANDAR))||void 0===v||v.setValidators([n.v.required,n.v.maxLength(i.longitud)]))})}existeErrores(){return Object(c.a)(this,void 0,void 0,function*(){this.camposErrores="";let i=0,t=0,o=" ",e=" ",a=[],c=[];0==this.listadoMateriales.length&&(this.cantidadErrores=1),this.listadoMateriales.forEach(n=>{this.listadoCampoReglas.forEach(s=>{if("M"==s.regla_campo){let r=s.codigo_interno;null!=n[r+"_valor"]&&""!=n[r+"_valor"]||(t++,e=e+s.codigo_interno+" ",c.push(t)),1==n[r+"_error"]&&(i++,o=o+s.codigo_interno+". ",a.push(i))}}),this.cantidadErrores=i+t,this.camposErrores=o,console.log({error:i,vacio:t})})})}openSnackBarError(i,t,o){this._snack.open(i,t,{duration:2e3,panelClass:["mat-toolbar",o],verticalPosition:"bottom",horizontalPosition:"right"})}cambioDenominacionActualizarMaterial(i){return console.log("campos form--\x3e"+JSON.stringify(this.itemMaterialOld)),!(!i.denominacion||i.denominacion==this.itemMaterialOld.denominacion_valor)}existeDenominacionSapYBdAdd(i){return Object(c.a)(this,void 0,void 0,function*(){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.agregarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.agregarAmpliacion(i)}})}agregarCreacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),yield this.solicitudService.existeDenominacionSAP(e).then(t=>Object(c.a)(this,void 0,void 0,function*(){if(t)return this.existeDenominacion=t,this.openSnackBarError(_.a.error.MENSAJE_ERROR_DENOMINACION_SAP,"","mat-primary"),this.existeDenominacion;t||(yield this.solicitudService.existeDenominacionDb(e).then(t=>{this.existeDenominacion=t.existe,this.agregarMaterialCreacion(i)}))}))})}agregarAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),this.agregarMaterialAmpliacion(i)})}existeDenominacionSapYBdUpdate(i){return Object(c.a)(this,void 0,void 0,function*(){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.actualizarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.actualizarAmpliacion(i)}})}actualizarCreacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),this.cambioDenominacionActualizarMaterial(i)?yield this.solicitudService.existeDenominacionSAP(e).then(t=>Object(c.a)(this,void 0,void 0,function*(){if(t)return this.existeDenominacion=t,this.openSnackBarError(_.a.error.MENSAJE_ERROR_DENOMINACION_SAP,"","mat-primary"),this.limpiarMaterial(),this.existeDenominacion;t||(yield this.solicitudService.existeDenominacionDb(e).then(t=>Object(c.a)(this,void 0,void 0,function*(){this.existeDenominacion=t.existe,this.actualizarMaterial(i)})))})):this.actualizarMaterial(i)})}actualizarAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),this.actualizarMaterialAmpliacion(i)})}actualizarMaterial(i){let t=this.mapearCamposMaterialActualizar(i,this.itemMaterialOld);this.solicitudService.actualizarMaterial({id_solicitud:this.id_solicitud,id_material_solicitud:this.itemMaterialOld.id_material_solicitud,id_rol:this.ROL_SOLICITANTE,material:{campos:t}}).then(i=>{var t;this._snack.open(this.MENSAJE_ACTUALIZAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.activarEditarMaterial=!1,console.log("lo que hay en el file "+(null===(t=this.filtroForm.get("fileAnexoMaterial"))||void 0===t?void 0:t.value)),this.getListadoMateriales(),this.limpiarMaterial()})}initCamposMateriales(){return Object(c.a)(this,void 0,void 0,function*(){console.log(" initCamposMateriales listado reglas vista--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.listadoCampoReglas.forEach(i=>{var t,o,e,a,c,r,l,O,_;if(i.tipo_dato==this.TIPO_DATO_NUM?null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.setValidators([n.v.pattern("\\-?\\d*\\.?\\d{1,"+i.longitud_decimal+"}")]):null===(o=this.itemForm.get(i.codigo_interno))||void 0===o||o.setValidators([n.v.maxLength(i.longitud)]),i.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXT&&(null===(e=this.itemForm.get(i.codigo_interno))||void 0===e||e.setValue(i.valor_defecto)),i.tipo_objeto==s.a.TIPO_OBJETO_CHECKBOX){let t=!1;"X"==i.valor_defecto&&(t=!0),null===(a=this.itemForm.get(i.codigo_interno))||void 0===a||a.setValue(t)}if(i.tipo_objeto==s.a.TIPO_OBJETO_COMBO){let t=null==i.valor_defecto?"":i.valor_defecto;i.codigo_interno==this.CODIGO_INTERNO_CLASE_TAB?null===(c=this.itemForm.get(i.codigo_interno))||void 0===c||c.setValue([]):(i.codigo_interno==this.CODIGO_INTERNO_CENTRO&&this.getListarAlmacen(i.valor_defecto),null===(r=this.itemForm.get(i.codigo_interno))||void 0===r||r.setValue({codigo_sap:t}))}"M"==i.regla_campo&&(i.tipo_dato==this.TIPO_DATO_NUM?null===(l=this.itemForm.get(i.codigo_interno))||void 0===l||l.setValidators([n.v.required,n.v.pattern("\\-?\\d*\\.?\\d{1,"+i.longitud_decimal+"}")]):null===(O=this.itemForm.get(i.codigo_interno))||void 0===O||O.setValidators([n.v.required,n.v.maxLength(i.longitud)])),null===(_=this.itemForm.get(i.codigo_interno))||void 0===_||_.updateValueAndValidity()})})}getListarGrupoArticulo(){this.grupoArticuloService.getListarGrupoArticulo().then(i=>{this.listadoGrupoArticulo=i.lista})}getListarTipoMaterial(){this.tipoMaterialService.getListarTipoMaterial().then(i=>{this.listadoTipoMaterial=i.lista})}getListarIdioma(){this.idiomaService.getListarIdioma().then(i=>{this.listadoIdioma=i.lista})}llenarCentroyAlmacen(){var i,t;let o=null===(i=this.filtroForm.get("selectedCentro"))||void 0===i?void 0:i.value;null===(t=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===t||t.setValue({codigo_sap:o.codigo_sap}),this.getListarAlmacen(o.codigo_sap)}filtroLlenar(){var i;let t=null===(i=this.filtroForm.get("codigoModelo"))||void 0===i?void 0:i.value;this.solicitudService.getMaterialCodigoModelo({material:{codigo:t}}).then(i=>{this.camposMaterialModelo=i,this.camposMaterialModelo.length>0?this.llenarDatosCodigoModelo(this.camposMaterialModelo):this.openSnackBarError(_.a.error.MENSAJE_ERROR_DENOMINACION_NO_EXISTE_SAP,"","mat-primary")})}llenarDatos(i,t){return Object(c.a)(this,void 0,void 0,function*(){return i.forEach((i,t)=>{var o,e,a;i.codigo_interno==this.CODIGO_INTERNO_DENOMINACION&&(null===(o=this.itemForm.get(i.codigo_interno))||void 0===o||o.setValue(i.valor)),(null===(e=this.itemForm.get(i.codigo_interno))||void 0===e?void 0:e.valid)&&(null===(a=this.itemForm.get(i.codigo_interno))||void 0===a||a.setValue(i.valor),console.log(t+"--\x3e"+i.codigo_interno))}),t})}llenarDatosCodigoModelo(i){return Object(c.a)(this,void 0,void 0,function*(){this.listadoCampoReglas.forEach(t=>{i.forEach((i,o)=>{var e,a,c,n,r,l;if(t.codigo_interno==i.codigo_interno){null===(e=this.itemForm.get(t.codigo_interno))||void 0===e||e.setValue("");let o=null==i.valor?"":i.valor;if(t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXT&&(null===(a=this.itemForm.get(i.codigo_interno))||void 0===a||a.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXTAREA&&(null===(c=this.itemForm.get(i.codigo_interno))||void 0===c||c.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_CHECKBOX){let o=!1;"X"==i.codigo_interno&&(o=!0),null===(n=this.itemForm.get(t.codigo_interno))||void 0===n||n.setValue(o)}t.tipo_objeto==s.a.TIPO_OBJETO_COMBO&&(t.codigo_interno==this.CODIGO_INTERNO_CENTRO&&this.getListarAlmacen(o),""==o?null===(r=this.itemForm.get(t.codigo_interno))||void 0===r||r.setValue(""):null===(l=this.itemForm.get(t.codigo_interno))||void 0===l||l.setValue({codigo_sap:o}))}})})})}getListarCampoVista(){this.campoVistaService.getListarCampoVista().then(i=>{this.listadoCampoVista=i})}isErrorCampoOLD(i){return!(!i[this.CODIGO_INTERNO_CLASE_TAB+"_error"]||i[this.CODIGO_INTERNO_CLASE_TAB+"_error"].split("true").length>0)}setearUnidadMedida(){var i,t,o;(null===(i=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE))||void 0===i?void 0:i.value)&&(null===(t=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA))||void 0===t||t.setValue({codigo_sap:""}),null===(o=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO))||void 0===o||o.setValue({codigo_sap:""}))}openDialogAnexosSolicitud(){this.matDialog.open(b.a,{disableClose:!0,data:{id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE},width:"50%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.obtenerUrlSolicitud()})}openDialogAnexosMaterial(i){this.matDialog.open(I.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:this.ROL_SOLICITANTE}}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.getListadoMateriales(),this.obtenerUrlMaterial(this.itemMaterialOld.id_material_solicitud)})}selectOpenAnexosMaterial(){this.openDialogAnexosMaterial({id_material_solicitud:this.itemMaterialOld.id_material_solicitud})}onSelectEquivalencias(){this.openDialogEquivalencias({id_material_solicitud:this.itemMaterialOld.id_material_solicitud})}openDialogEquivalencias(i){this.matDialog.open(d.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:this.ROL_SOLICITANTE},width:"80%"}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"!=t.respuesta&&console.log("se cerr\xf3 el dialog de equivalencias"),this.getListadoMateriales(),console.log("imm env. mate sol : "+i.id_material_solicitud),this.obtenerEquivalencias(i.id_material_solicitud)})}existeDenominacionCentroAlmacenSAP(){var i,t,o,e,a;return Object(c.a)(this,void 0,void 0,function*(){let c=!1,n=null===(i=this.filtroForm.get("codigoModelo"))||void 0===i?void 0:i.value,s=(null===(t=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===t?void 0:t.value)?null===(o=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===o?void 0:o.value:"",r=(null===(e=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===e?void 0:e.value)?null===(a=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===a?void 0:a.value:"";return this.solicitudService.getMaterialCodigoModelo({material:{codigo:n,centro:s,almacen:r}}).then(i=>i.length>0?(c=!0,c):(c=!1,c)),c})}agregarMaterialAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){let e=(null===(t=this.filtroForm.get("codigoModelo"))||void 0===t?void 0:t.value)?null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value:"";{let t=yield this.mapearCamposMaterial(i);this.solicitudService.agregarMaterialAmpliacion(this.id_solicitud,{material:{campos:t,[this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]:e}}).then(i=>{console.log("resppuesta al agregar material amplicacion--\x3e"+JSON.stringify(i));let t=this.MENSAJE_AGREGAR_MATERIAL;0==i.resultado?(t=i.mensaje,this.openSnackBarError(t,"","mat-primary")):this._snack.open(t,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales(),this.limpiarMaterial()})}})}actualizarMaterialAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){let e=(null===(t=this.filtroForm.get("codigoModelo"))||void 0===t?void 0:t.value)?null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value:"";{let t=this.mapearCamposMaterialActualizar(i,this.itemMaterialOld);this.solicitudService.actualizarMaterialAmpliacion(this.id_solicitud,this.itemMaterialOld.id_material_solicitud,{material:{campos:t,[this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]:e}}).then(i=>{console.log("resppuesta al agregar material amplicacion--\x3e"+JSON.stringify(i));let t=this.MENSAJE_ACTUALIZAR_MATERIAL;0==i.resultado?(t=i.mensaje,this.openSnackBarError(t,"","mat-primary")):this._snack.open(t,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales(),this.limpiarMaterial()})}})}openDialogErrorSap(i){this.matDialog.open(T.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i&&console.log("se cerr\xf3 el dialog del error")})}obtenerUrlSolicitud(){this.solicitudService.obtenerUrlSolicitud(this.id_solicitud).then(i=>{this.existeAnexoSolicitud=1==i.resultado})}obtenerUrlMaterial(i){this.solicitudService.obtenerUrlMaterial(i).then(i=>{this.existeAnexoMaterial=1==i.resultado})}obtenerEquivalencias(i){this.equivalenciaService.getListaEquivalencias(i).then(i=>{this.existeEquivalencias=i.length>0})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(n.d),N.Nb(m.a),N.Nb(h.a),N.Nb(E.a),N.Nb(A.a),N.Nb(g.a),N.Nb(S.a),N.Nb(p.a),N.Nb(D.a),N.Nb(f.a),N.Nb(R.a),N.Nb(v.b),N.Nb(a.b),N.Nb(L.a),N.Nb(M.a),N.Nb(P.a),N.Nb(G.a),N.Nb(B),N.Nb(k.a),N.Nb(F.a),N.Nb(V.a),N.Nb(x.a),N.Nb(J.a),N.Nb(y.a),N.Nb(j.a),N.Nb(a.a),N.Nb(z.a))},i.\u0275cmp=N.Hb({type:i,selectors:[["app-nueva-solicitud-ptc"]],decls:130,vars:38,consts:[[1,"contentmain"],[1,"breadcumb"],["routerLink","/dashboard/principal"],["routerLink","#"],["class","bread-item",4,"ngIf"],[1,"bread-item"],["class","cuadro-solicitud",4,"ngIf"],[1,"cabecera"],[3,"formGroup","ngSubmit"],["cabeceraForm","ngForm"],["cols","10","rowHeight","75px"],["colspan","6"],[1,"izquierda"],["appearance","outline"],["formControlName","selectecLineaNegocio",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"hidden"],["matInput","","placeholder","Descripci\xf3n corta","formControlName","descripcion_corta"],["colspan","4"],[1,"derecha"],["mat-raised-button","","color","accent","type","button","matTooltip","anular solicitud",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"click",4,"ngIf"],["colspan","2"],["type","file","formControlName","files",1,"file-input",3,"change"],["fileUpload",""],[1,"file-upload"],[1,"fontLabel"],["mat-mini-fab","","color","accent","type","button","class","upload-btn","matTooltip","Cargar Anexo",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button","class","upload-btn","matTooltip","Cargar Anexo",3,"click",4,"ngIf"],[1,"cuadro-separador"],[1,"materiales-titulo"],["cols","2","rowHeight","80px"],["mat-mini-fab","","matTooltip","Agregar Material",1,"boton-secundario",3,"disabled","click"],["mat-mini-fab","","matTooltip","Guardar Material",1,"boton-secundario",3,"disabled","click"],["mat-mini-fab","","matTooltip","Limpiar Material",1,"boton-secundario",3,"click"],[1,"generador"],[3,"formGroup"],["cols","10","rowHeight","85px"],["colspan","5"],[4,"ngIf"],["matInput","","placeholder","Codigo Material","formControlName","codigoModelo"],["colspan","1",4,"ngIf"],["class","file-upload",4,"ngIf"],[1,"camposSolicitud"],["materialForm","ngForm"],["rowHeight","80px",3,"cols"],[4,"ngFor","ngForOf"],[1,"content-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","anexos"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","equivalencias"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"cuadro-solicitud"],[1,"labelSolicitud"],[1,"numeroSolicitud"],[3,"value"],["mat-raised-button","","color","accent","type","button","matTooltip","anular solicitud",3,"disabled","click"],["mat-raised-button","","color","accent","type","button",3,"disabled","click"],["mat-raised-button","","color","accent","type","button",3,"click"],["mat-mini-fab","","color","accent","type","button","matTooltip","Cargar Anexo",1,"upload-btn",3,"click"],["mat-mini-fab","","color","primary","type","button","matTooltip","Cargar Anexo",1,"upload-btn",3,"click"],["colspan","1"],["mat-raised-button","","color","accent","name","btnLLenardatos",3,"disabled","click"],["mat-mini-fab","","type","button","class","boton-secundario","matTooltip","Ver Tabla de Equivalencias",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button","matTooltip","Ver Tabla de Equivalencias",3,"click",4,"ngIf"],["mat-mini-fab","","type","button","class","boton-secundario","matTooltip","Ver Lista Anexos Material",3,"click",4,"ngIf"],["mat-mini-fab","","type","button","color","primary","matTooltip","Ver Lista Anexos Material",3,"click",4,"ngIf"],["mat-mini-fab","","type","button","matTooltip","Ver Tabla de Equivalencias",1,"boton-secundario",3,"click"],["mat-mini-fab","","color","primary","type","button","matTooltip","Ver Tabla de Equivalencias",3,"click"],["mat-mini-fab","","type","button","matTooltip","Ver Lista Anexos Material",1,"boton-secundario",3,"click"],["mat-mini-fab","","type","button","color","primary","matTooltip","Ver Lista Anexos Material",3,"click"],["class","example-form-field","appearance","outline",4,"ngIf"],["appearance","outline",1,"example-form-field"],["class","label-error",4,"ngIf"],["matInput","","type","text",3,"maxlength","formControlName","ngModelChange"],["input",""],["align","end"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"label-error"],["matInput","","type","text",3,"maxlength","formControlName"],["matInput","","type","number",3,"formControlName"],["matInput","","type","text",3,"formControlName"],[3,"formControlName","compareWith","selectionChange"],[3,"formControlName","compareWith"],[3,"value",4,"ngIf"],["multiple","",3,"formControlName","compareWith"],[3,"formControlName"],["type","text","matInput","",3,"maxlength","matAutocomplete","formControlName"],[3,"displayWith"],["auto","matAutocomplete"],[3,"matColumnDef"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","type","button",3,"click"],["mat-icon-button","","color","primary","type","button",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,t){if(1&i){const i=N.Ub();N.Tb(0,"div",0),N.Tb(1,"div",1),N.Tb(2,"a",2),N.Tb(3,"mat-icon"),N.Bc(4,"home"),N.Sb(),N.Sb(),N.Tb(5,"a",3),N.Ac(6,oi,2,0,"span",4),N.Sb(),N.Tb(7,"a",3),N.Ac(8,ei,2,0,"span",4),N.Sb(),N.Tb(9,"a",3),N.Ac(10,ai,2,0,"span",4),N.Sb(),N.Tb(11,"a",3),N.Ac(12,ci,2,0,"span",4),N.Sb(),N.Tb(13,"a",3),N.Ac(14,ni,2,0,"span",4),N.Sb(),N.Tb(15,"a",3),N.Ac(16,si,2,0,"span",4),N.Sb(),N.Tb(17,"a",3),N.Ac(18,ri,2,0,"span",4),N.Sb(),N.Tb(19,"a",3),N.Ac(20,li,2,0,"span",4),N.Sb(),N.Tb(21,"a",3),N.Tb(22,"span",5),N.Bc(23," / Nueva Solicitud "),N.Sb(),N.Sb(),N.Ac(24,Oi,11,2,"div",6),N.Sb(),N.Ob(25,"br"),N.Tb(26,"div",7),N.Tb(27,"form",8,9),N.ac("ngSubmit",function(){return t.agregarSolicitud(t.solicitudForm.value)}),N.Tb(29,"mat-grid-list",10),N.Tb(30,"mat-grid-tile",11),N.Tb(31,"div",12),N.Tb(32,"mat-form-field",13),N.Tb(33,"mat-label"),N.Bc(34,"L\xednea de negocio"),N.Sb(),N.Tb(35,"mat-select",14),N.ac("selectionChange",function(){return t.filtrarReglas()}),N.Ac(36,_i,2,3,"mat-option",15),N.Sb(),N.Tb(37,"mat-hint"),N.Tb(38,"mat-error",16),N.Bc(39),N.Sb(),N.Sb(),N.Sb(),N.Bc(40," \xa0 "),N.Tb(41,"mat-form-field",13),N.Tb(42,"mat-label"),N.Bc(43,"Descripci\xf3n corta"),N.Sb(),N.Ob(44,"input",17),N.Tb(45,"mat-hint"),N.Tb(46,"mat-error",16),N.Bc(47),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(48,"mat-grid-tile",18),N.Tb(49,"div",19),N.Ac(50,di,2,1,"button",20),N.Bc(51," \xa0 "),N.Ac(52,Ii,2,1,"button",21),N.Bc(53," \xa0 "),N.Ac(54,bi,2,1,"button",21),N.Bc(55," \xa0 "),N.Ac(56,ui,2,0,"button",22),N.Sb(),N.Sb(),N.Tb(57,"mat-grid-tile",18),N.Tb(58,"div",12),N.Ac(59,Ci,2,0,"button",22),N.Bc(60," \xa0 "),N.Ac(61,Ti,2,0,"button",22),N.Bc(62," \xa0 "),N.Sb(),N.Sb(),N.Tb(63,"mat-grid-tile",23),N.Tb(64,"div",12),N.Tb(65,"input",24,25),N.ac("change",function(i){return t.onFileSelected(i)}),N.Sb(),N.Tb(67,"div",26),N.Ac(68,Ni,2,0,"button",22),N.Sb(),N.Sb(),N.Sb(),N.Tb(69,"mat-grid-tile",18),N.Tb(70,"div",19),N.Tb(71,"div",26),N.Tb(72,"span",27),N.Bc(73," Anexo Solicitud:"),N.Sb(),N.Bc(74," \xa0 "),N.Ac(75,mi,3,0,"button",28),N.Ac(76,hi,3,0,"button",29),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(77,"div",30),N.Tb(78,"div",31),N.Tb(79,"mat-grid-list",32),N.Tb(80,"mat-grid-tile"),N.Tb(81,"div",12),N.Bc(82," Materiales "),N.Sb(),N.Sb(),N.Tb(83,"mat-grid-tile"),N.Tb(84,"div",19),N.Tb(85,"button",33),N.ac("click",function(){N.tc(i);const o=N.rc(113);return t.existeDenominacionSapYBdAdd(o.value)}),N.Tb(86,"mat-icon"),N.Bc(87,"add"),N.Sb(),N.Sb(),N.Bc(88,"\xa0 "),N.Tb(89,"button",34),N.ac("click",function(){N.tc(i);const o=N.rc(113);return t.existeDenominacionSapYBdUpdate(o.value)}),N.Tb(90,"mat-icon"),N.Bc(91,"save"),N.Sb(),N.Sb(),N.Bc(92,"\xa0 "),N.Tb(93,"button",35),N.ac("click",function(){return t.limpiarMaterial()}),N.Tb(94,"mat-icon"),N.Bc(95,"clear"),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(96,"div",36),N.Tb(97,"form",37),N.Tb(98,"mat-grid-list",38),N.Tb(99,"mat-grid-tile",39),N.Tb(100,"div",12),N.Tb(101,"mat-form-field",13),N.Ac(102,Ei,2,0,"mat-label",40),N.Ac(103,Ai,2,0,"mat-label",40),N.Ob(104,"input",41),N.Sb(),N.Sb(),N.Sb(),N.Ac(105,gi,4,1,"mat-grid-tile",42),N.Tb(106,"mat-grid-tile",18),N.Tb(107,"div",19),N.Ac(108,Ri,6,4,"div",43),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Ob(109,"mat-divider"),N.Tb(110,"div",44),N.Bc(111," (*) Datos Obligatorios "),N.Tb(112,"form",37,45),N.Tb(114,"mat-grid-list",46),N.Ac(115,Io,38,37,"mat-grid-tile",47),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(116,"div",48),N.Tb(117,"table",49),N.Ac(118,So,3,3,"ng-container",50),N.Rb(119,51),N.Ac(120,po,2,0,"th",52),N.Ac(121,Ro,3,2,"td",53),N.Qb(),N.Rb(122,54),N.Ac(123,vo,2,0,"th",52),N.Ac(124,Po,3,2,"td",53),N.Qb(),N.Rb(125,55),N.Ac(126,Go,2,0,"th",52),N.Ac(127,Uo,7,0,"td",53),N.Qb(),N.Ac(128,Bo,1,0,"tr",56),N.Ac(129,ko,1,0,"tr",57),N.Sb(),N.Sb(),N.Sb()}2&i&&(N.Cb(6),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_PT),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_RS),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_MP),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_AO),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_AMPLIACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_MODIFICACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_BLOQUEO),N.Cb(4),N.kc("ngIf",t.estadoFlujoActualSolicitud),N.Cb(3),N.kc("formGroup",t.solicitudForm),N.Cb(9),N.kc("ngForOf",t.listadoLineaNegocio),N.Cb(2),N.kc("hidden",!t.formErrors.selectecLineaNegocio),N.Cb(1),N.Dc(" ",t.formErrors.selectecLineaNegocio," "),N.Cb(7),N.kc("hidden",!t.formErrors.descripcion_corta),N.Cb(1),N.Dc(" ",t.formErrors.descripcion_corta," "),N.Cb(3),N.kc("ngIf",t.correlativo),N.Cb(2),N.kc("ngIf",!t.correlativo),N.Cb(2),N.kc("ngIf",t.correlativo),N.Cb(2),N.kc("ngIf",t.correlativo),N.Cb(3),N.kc("ngIf",0==t.listadoMateriales.length&&t.correlativo),N.Cb(2),N.kc("ngIf",t.listadoMateriales.length>0),N.Cb(7),N.kc("ngIf",t.correlativo),N.Cb(7),N.kc("ngIf",t.existeAnexoSolicitud),N.Cb(1),N.kc("ngIf",!t.existeAnexoSolicitud&&t.correlativo),N.Cb(9),N.kc("disabled",t.itemForm.invalid||!t.correlativo||t.btnAdd),N.Cb(4),N.kc("disabled",t.itemForm.invalid||null==t.itemMaterialOld),N.Cb(8),N.kc("formGroup",t.filtroForm),N.Cb(5),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(1),N.kc("ngIf",t.TIPO_SOLICITUD!=t.TIPO_SOLICITUD_CREACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD!=t.TIPO_SOLICITUD_CREACION),N.Cb(3),N.kc("ngIf",t.activarEditarMaterial),N.Cb(4),N.kc("formGroup",t.itemForm),N.Cb(2),N.mc("cols","",t.SOLICITUD_DETALLE_NUMERO_COLUMNAS," "),N.Cb(1),N.kc("ngForOf",t.listadoCampoReglas),N.Cb(2),N.kc("dataSource",t.listadoMateriales),N.Cb(1),N.kc("ngForOf",t.listadoCampoReglas),N.Cb(10),N.kc("matHeaderRowDef",t.displayedColumns),N.Cb(1),N.kc("matRowDefColumns",t.displayedColumns))},directives:[a.c,q.a,e.m,n.w,n.p,n.h,$.a,$.c,X.c,X.g,w.a,n.o,n.g,e.l,X.f,X.b,H.b,n.c,Q.a,Z.a,W.a,K.j,K.c,K.e,K.b,K.g,K.i,Y.l,n.k,X.h,n.s,ii.a,ti.c,ti.a,K.d,K.a,K.f,K.h],pipes:[e.b],styles:[".camposSolicitud[_ngcontent-%COMP%]{padding-top:20px}.camposSolicitud[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{left:5px!important;position:absolute!important;width:90%}.file-input[_ngcontent-%COMP%]{display:none}.contentmain[_ngcontent-%COMP%]{padding-left:24px;padding-bottom:40px;width:97%!important}"]}),i})();var Vo=o("pp6c"),xo=o("x4pv");function Jo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Productos terminados "),N.Sb())}function yo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Repuestos y Suministros "),N.Sb())}function jo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Materias Primas "),N.Sb())}function zo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Activos y Otros "),N.Sb())}function qo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Creaci\xf3n "),N.Sb())}function $o(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Ampliaci\xf3n "),N.Sb())}function Xo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Modificaci\xf3n "),N.Sb())}function wo(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Bloqueo "),N.Sb())}function Ho(i,t){if(1&i&&(N.Tb(0,"div",44),N.Tb(1,"div"),N.Tb(2,"span",45),N.Bc(3,"N\xb0 Solicitud:\xa0\xa0\xa0"),N.Sb(),N.Tb(4,"span",46),N.Bc(5),N.Sb(),N.Sb(),N.Tb(6,"div"),N.Tb(7,"span",45),N.Bc(8,"Estado\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:\xa0\xa0\xa0"),N.Sb(),N.Tb(9,"span",46),N.Bc(10),N.Sb(),N.Sb(),N.Sb()),2&i){const i=N.ec();N.Cb(5),N.Cc(i.cabeceraSolicitud.correlativo),N.Cb(5),N.Cc(i.estadoFlujoActualSolicitud.nombre_estado)}}function Qo(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.nombre," / ",i.sociedad.codigo_sap," ")}}function Zo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",65),N.ac("click",function(){N.tc(i);const t=N.ec(2);return t.openDialogConfirmarAnularSolicitud(t.solicitudForm.value)}),N.Bc(1,"Anular"),N.Sb()}if(2&i){N.ec();const i=N.rc(2);N.kc("disabled",i.invalid)}}function Wo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){N.tc(i);const t=N.ec(2);return t.openDialogConfirmarEnviarActualizarSolicitud(t.solicitudForm.value)}),N.Bc(1,"Enviar a supervisi\xf3n"),N.Sb()}}function Ko(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).descargarFormato()}),N.Bc(1,"Descargar Formato"),N.Sb()}}function Yo(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).descargarListado()}),N.Bc(1,"Descargar Listado"),N.Sb()}}function ie(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(),N.rc(40).click()}),N.Bc(1," Carga Masiva "),N.Sb()}}function te(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",66),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function oe(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",67),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function ee(i,t){if(1&i){const i=N.Ub();N.Tb(0,"div",47),N.Tb(1,"form",48,49),N.ac("ngSubmit",function(){N.tc(i);const t=N.ec();return t.openDialogConfirmarActualizarSolicitud(t.solicitudForm.value)}),N.Tb(3,"mat-grid-list",50),N.Tb(4,"mat-grid-tile",27),N.Tb(5,"div",13),N.Tb(6,"mat-form-field",22),N.Tb(7,"mat-label"),N.Bc(8,"L\xednea de negocio"),N.Sb(),N.Tb(9,"mat-select",51),N.ac("selectionChange",function(){return N.tc(i),N.ec().filtrarReglas()}),N.Ac(10,Qo,2,3,"mat-option",52),N.Sb(),N.Tb(11,"mat-hint"),N.Tb(12,"mat-error",25),N.Bc(13),N.Sb(),N.Sb(),N.Sb(),N.Bc(14," \xa0 "),N.Tb(15,"mat-form-field",22),N.Tb(16,"mat-label"),N.Bc(17,"Descripci\xf3n corta"),N.Sb(),N.Ob(18,"input",53),N.Tb(19,"mat-hint"),N.Tb(20,"mat-error",25),N.Bc(21),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Ob(22,"mat-grid-tile",54),N.Tb(23,"mat-grid-tile",27),N.Tb(24,"div",14),N.Ac(25,Zo,2,1,"button",55),N.Bc(26," \xa0 "),N.Tb(27,"button",56),N.ac("click",function(){return N.tc(i),N.rc(2).ngSubmit.emit()}),N.Bc(28,"Guardar"),N.Sb(),N.Bc(29," \xa0 "),N.Ac(30,Wo,2,0,"button",57),N.Sb(),N.Sb(),N.Tb(31,"mat-grid-tile",27),N.Tb(32,"div",13),N.Ac(33,Ko,2,0,"button",57),N.Bc(34," \xa0 "),N.Ac(35,Yo,2,0,"button",57),N.Bc(36," \xa0 "),N.Sb(),N.Sb(),N.Tb(37,"mat-grid-tile",54),N.Tb(38,"div",13),N.Tb(39,"input",58,59),N.ac("change",function(t){return N.tc(i),N.ec().onFileSelected(t)}),N.Sb(),N.Tb(41,"div",60),N.Ac(42,ie,2,0,"button",57),N.Sb(),N.Sb(),N.Sb(),N.Tb(43,"mat-grid-tile",27),N.Tb(44,"div",14),N.Tb(45,"div",60),N.Tb(46,"span",61),N.Bc(47," Anexo Solicitud:"),N.Sb(),N.Bc(48," \xa0\xa0 "),N.Ac(49,te,3,0,"button",62),N.Ac(50,oe,3,0,"button",63),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.rc(2),t=N.ec();N.Cb(1),N.kc("formGroup",t.solicitudForm),N.Cb(8),N.kc("compareWith",t.compareLineaNegocio),N.Cb(1),N.kc("ngForOf",t.listadoLineaNegocio),N.Cb(2),N.kc("hidden",!t.formErrors.selectecLineaNegocio),N.Cb(1),N.Dc(" ",t.formErrors.selectecLineaNegocio," "),N.Cb(7),N.kc("hidden",!t.formErrors.descripcion_corta),N.Cb(1),N.Dc(" ",t.formErrors.descripcion_corta," "),N.Cb(4),N.kc("ngIf",t.correlativo),N.Cb(2),N.kc("disabled",i.invalid),N.Cb(3),N.kc("ngIf",t.correlativo),N.Cb(3),N.kc("ngIf",0==t.listadoMateriales.length&&t.correlativo),N.Cb(2),N.kc("ngIf",t.listadoMateriales.length>0),N.Cb(7),N.kc("ngIf",t.correlativo),N.Cb(7),N.kc("ngIf",t.existeAnexoSolicitud),N.Cb(1),N.kc("ngIf",!t.existeAnexoSolicitud)}}function ae(i,t){1&i&&(N.Tb(0,"mat-label"),N.Bc(1,"Ingrese c\xf3digo material Modelo"),N.Sb())}function ce(i,t){1&i&&(N.Tb(0,"mat-label"),N.Bc(1,"Ingrese c\xf3digo material"),N.Sb())}function ne(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-grid-tile",68),N.Tb(1,"div",13),N.Tb(2,"button",69),N.ac("click",function(){return N.tc(i),N.ec().filtroLlenar()}),N.Bc(3,"Llenar datos"),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.ec();N.Cb(2),N.kc("disabled",i.filtroForm.invalid)}}function se(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",74),N.ac("click",function(){return N.tc(i),N.ec(2).onSelectEquivalencias()}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function re(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",75),N.ac("click",function(){return N.tc(i),N.ec(2).onSelectEquivalencias()}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function le(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",76),N.ac("click",function(){return N.tc(i),N.ec(2).selectOpenAnexosMaterial()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Oe(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",77),N.ac("click",function(){return N.tc(i),N.ec(2).selectOpenAnexosMaterial()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function _e(i,t){if(1&i&&(N.Tb(0,"div",60),N.Ac(1,se,3,0,"button",70),N.Ac(2,re,3,0,"button",71),N.Bc(3," \xa0 "),N.Ac(4,le,3,0,"button",72),N.Ac(5,Oe,3,0,"button",73),N.Sb()),2&i){const i=N.ec();N.Cb(1),N.kc("ngIf",i.existeEquivalencias),N.Cb(1),N.kc("ngIf",!i.existeEquivalencias),N.Cb(2),N.kc("ngIf",i.existeAnexoMaterial),N.Cb(1),N.kc("ngIf",!i.existeAnexoMaterial)}}function de(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Ie(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,de,2,0,"span",80),N.Sb(),N.Tb(4,"input",81,82),N.ac("ngModelChange",function(){return N.tc(i),N.ec(2).existeDenominacion=!1}),N.Sb(),N.Tb(6,"mat-hint",83),N.Bc(7),N.Sb(),N.Tb(8,"button",84),N.ac("click",function(){return N.tc(i),N.ec(2).listadoDenominacion()}),N.Tb(9,"mat-icon"),N.Bc(10,"explore"),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function be(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ue(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,be,2,0,"span",80),N.Sb(),N.Ob(4,"input",86,82),N.Tb(6,"mat-hint",83),N.Bc(7),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function Ce(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Te(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ce,2,0,"span",80),N.Sb(),N.Ob(4,"input",86,82),N.Tb(6,"mat-hint",83),N.Bc(7),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function Ne(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function me(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ne,2,0,"span",80),N.Sb(),N.Ob(4,"input",86,82),N.Tb(6,"mat-hint",83),N.Bc(7),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.ec().$implicit;N.Cb(2),N.Dc("",t.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==t.regla_campo),N.Cb(1),N.lc("maxlength",t.longitud),N.lc("formControlName",t.codigo_interno),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",t.longitud,"")}}function he(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Ee(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,he,2,0,"span",80),N.Sb(),N.Ob(4,"input",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function Ae(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ge(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ae,2,0,"span",80),N.Sb(),N.Ob(4,"input",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function Se(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function pe(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Se,2,0,"span",80),N.Sb(),N.Ob(4,"input",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function De(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function fe(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,De,2,0,"span",80),N.Sb(),N.Ob(4,"input",88),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function Re(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ve(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function Le(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Re,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",89),N.ac("selectionChange",function(){return N.tc(i),N.ec(2).setearUnidadMedida()}),N.Ac(5,ve,2,2,"mat-option",52),N.Sb(),N.Sb()}if(2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaBase),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaBase)}}function Me(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Pe(i,t){1&i&&(N.Tb(0,"mat-option",64),N.Bc(1,"\xa0\xa0----- SELECCIONAR -----\xa0\xa0"),N.Sb())}function Ge(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function Ue(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Me,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,Pe,2,0,"mat-option",91),N.Ac(6,Ge,2,2,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaPeso),N.Cb(1),N.kc("ngIf","M"!=i.regla_campo),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaPeso)}}function Be(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ke(i,t){1&i&&(N.Tb(0,"mat-option",64),N.Bc(1,"\xa0\xa0----- SELECCIONAR -----\xa0\xa0"),N.Sb())}function Fe(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function Ve(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Be,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ke,2,0,"mat-option",91),N.Ac(6,Fe,2,2,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaVenta),N.Cb(1),N.kc("ngIf","M"!=i.regla_campo),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaVenta)}}function xe(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Je(i,t){1&i&&(N.Tb(0,"mat-option",64),N.Bc(1,"\xa0\xa0----- SELECCIONAR -----\xa0\xa0"),N.Sb())}function ye(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function je(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,xe,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,Je,2,0,"mat-option",91),N.Ac(6,ye,2,2,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareUnidadMedidaPedido),N.Cb(1),N.kc("ngIf","M"!=i.regla_campo),N.Cb(1),N.kc("ngForOf",t.listadoUnidadMedidaPedido)}}function ze(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function qe(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function $e(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ze,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",89),N.ac("selectionChange",function(){return N.tc(i),N.ec(2).filtrarListasPorCentro()}),N.Ac(5,qe,2,3,"mat-option",52),N.Sb(),N.Sb()}if(2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",t.CODIGO_INTERNO_CENTRO),N.kc("compareWith",t.compareCentro),N.Cb(1),N.kc("ngForOf",t.listadoCentroItem)}}function Xe(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function we(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function He(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Xe,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,we,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareOrganizacionVentas),N.Cb(1),N.kc("ngForOf",t.listadoOrganizacionVentasItem)}}function Qe(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Ze(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function We(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Qe,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,Ze,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareCanalDistribucion),N.Cb(1),N.kc("ngForOf",t.listadoCanalDistribucionItem)}}function Ke(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Ye(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function ia(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ke,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,Ye,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareAlmacen),N.Cb(1),N.kc("ngForOf",t.listadoAlmacenItem)}}function ta(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function oa(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function ea(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ta,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",92),N.Ac(5,oa,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareClase),N.Cb(1),N.kc("ngForOf",t.listadoClasificacionItem)}}function aa(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ca(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap,"\xa0/\xa0 ",i.nombre," ")}}function na(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,aa,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ca,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareTipoMaterial),N.Cb(1),N.kc("ngForOf",t.listadoTipoMaterial)}}function sa(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ra(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function la(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,sa,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ra,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoArticulo),N.Cb(1),N.kc("ngForOf",t.listadoGrupoArticulo)}}function Oa(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function _a(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function da(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Oa,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,_a,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareIdioma),N.Cb(1),N.kc("ngForOf",t.listadoIdioma)}}function Ia(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ba(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function ua(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ia,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ba,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoImputacionMaterial),N.Cb(1),N.kc("ngForOf",t.listadoGrupoImputacionMaterial)}}function Ca(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Ta(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Na(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ca,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,Ta,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareJerarquiaProducto),N.Cb(1),N.kc("ngForOf",t.listadoJerarquiaProducto)}}function ma(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ha(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Ea(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ma,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ha,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoMaterial1),N.Cb(1),N.kc("ngForOf",t.listadoGrupoMaterial1)}}function Aa(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ga(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function Sa(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Aa,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ga,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareGrupoMaterial2),N.Cb(1),N.kc("ngForOf",t.listadoGrupoMaterial2)}}function pa(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Da(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function fa(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,pa,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,Da,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareCategoriaValoracion),N.Cb(1),N.kc("ngForOf",t.listadoCategoriaValoracion)}}function Ra(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function va(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function La(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ra,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,va,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareMoneda),N.Cb(1),N.kc("ngForOf",t.listadoMoneda)}}function Ma(i,t){if(1&i&&(N.Tb(0,"section",79),N.Tb(1,"mat-checkbox",93),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Pa(i,t){if(1&i&&(N.Tb(0,"section",79),N.Tb(1,"mat-checkbox",93),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Ga(i,t){if(1&i&&(N.Tb(0,"section",79),N.Tb(1,"mat-checkbox",93),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Ua(i,t){if(1&i&&(N.Tb(0,"section",79),N.Tb(1,"mat-checkbox",93),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Ba(i,t){if(1&i&&(N.Tb(0,"section",79),N.Tb(1,"mat-checkbox",93),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function ka(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Fa(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,ka,2,0,"span",80),N.Sb(),N.Ob(4,"input",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function Va(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function xa(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Va,2,0,"span",80),N.Sb(),N.Ob(4,"input",87),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function Ja(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function ya(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," \xa0/\xa0 ",i.nombre," ")}}function ja(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,Ja,2,0,"span",80),N.Sb(),N.Tb(4,"mat-select",90),N.Ac(5,ya,2,3,"mat-option",52),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec();N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno),N.kc("compareWith",t.compareCentro_beneficio),N.Cb(1),N.kc("ngForOf",t.listadoCentroBeneficio)}}function za(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function qa(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,za,2,0,"span",80),N.Sb(),N.Ob(4,"textarea",88),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(2),N.Dc("",i.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==i.regla_campo),N.Cb(1),N.lc("formControlName",i.codigo_interno)}}function $a(i,t){1&i&&(N.Tb(0,"span",85),N.Bc(1,"*"),N.Sb())}function Xa(i,t){if(1&i&&(N.Tb(0,"mat-option",64),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.codigo_sap," - ",i.nombre," ")}}function wa(i,t){if(1&i&&(N.Tb(0,"mat-form-field",79),N.Tb(1,"mat-label"),N.Bc(2),N.Ac(3,$a,2,0,"span",80),N.Sb(),N.Ob(4,"input",94,82),N.Tb(6,"mat-hint",83),N.Bc(7),N.Sb(),N.Tb(8,"mat-autocomplete",95,96),N.Ac(10,Xa,2,3,"mat-option",52),N.fc(11,"async"),N.Sb(),N.Sb()),2&i){const i=N.rc(5),t=N.rc(9),o=N.ec().$implicit,e=N.ec();N.Cb(2),N.Dc("",o.etiqueta," "),N.Cb(1),N.kc("ngIf","M"==o.regla_campo),N.Cb(1),N.lc("maxlength",o.longitud),N.lc("formControlName",o.codigo_interno),N.kc("matAutocomplete",t),N.Cb(3),N.Ec("",(null==i.value?null:i.value.length)||0,"/",o.longitud,""),N.Cb(1),N.kc("displayWith",e.displayFn),N.Cb(2),N.kc("ngForOf",N.gc(11,9,e.filteredPartidaArancelaria))}}function Ha(i,t){if(1&i&&(N.Tb(0,"section",79),N.Tb(1,"mat-checkbox",93),N.Bc(2),N.Sb(),N.Sb()),2&i){const i=N.ec().$implicit;N.Cb(1),N.lc("formControlName",i.codigo_interno),N.Cb(1),N.Cc(i.etiqueta)}}function Qa(i,t){if(1&i&&(N.Tb(0,"mat-grid-tile"),N.Ac(1,Ie,11,6,"mat-form-field",78),N.Ac(2,ue,8,6,"mat-form-field",78),N.Ac(3,Te,8,6,"mat-form-field",78),N.Ac(4,me,8,6,"mat-form-field",78),N.Ac(5,Ee,5,3,"mat-form-field",78),N.Ac(6,ge,5,3,"mat-form-field",78),N.Ac(7,pe,5,3,"mat-form-field",78),N.Ac(8,fe,5,3,"mat-form-field",78),N.Ac(9,Le,6,5,"mat-form-field",78),N.Ac(10,Ue,7,6,"mat-form-field",78),N.Ac(11,Ve,7,6,"mat-form-field",78),N.Ac(12,je,7,6,"mat-form-field",78),N.Ac(13,$e,6,5,"mat-form-field",78),N.Ac(14,He,6,5,"mat-form-field",78),N.Ac(15,We,6,5,"mat-form-field",78),N.Ac(16,ia,6,5,"mat-form-field",78),N.Ac(17,ea,6,5,"mat-form-field",78),N.Ac(18,na,6,5,"mat-form-field",78),N.Ac(19,la,6,5,"mat-form-field",78),N.Ac(20,da,6,5,"mat-form-field",78),N.Ac(21,ua,6,5,"mat-form-field",78),N.Ac(22,Na,6,5,"mat-form-field",78),N.Ac(23,Ea,6,5,"mat-form-field",78),N.Ac(24,Sa,6,5,"mat-form-field",78),N.Ac(25,fa,6,5,"mat-form-field",78),N.Ac(26,La,6,5,"mat-form-field",78),N.Ac(27,Ma,3,2,"section",78),N.Ac(28,Pa,3,2,"section",78),N.Ac(29,Ga,3,2,"section",78),N.Ac(30,Ua,3,2,"section",78),N.Ac(31,Ba,3,2,"section",78),N.Ac(32,Fa,5,3,"mat-form-field",78),N.Ac(33,xa,5,3,"mat-form-field",78),N.Ac(34,ja,6,5,"mat-form-field",78),N.Ac(35,qa,5,3,"mat-form-field",78),N.Ac(36,wa,12,11,"mat-form-field",78),N.Ac(37,Ha,3,2,"section",78),N.Sb()),2&i){const i=t.$implicit,o=N.ec();N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_DENOMINACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_CODIGO_EAN),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_SECTOR),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_RAMO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PRECIO_BASE),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PRECIO_VARIABLE),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PESO_BRUTO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_TEXTO_COMERCIAL),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CENTRO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_ORGANIZACION_VENTAS),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CANAL_DISTRIBUCION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_ALMACEN),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CLASE_TAB),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_TIPO_MATERIAL),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPO_ARTICULO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_IDIOMA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_JERARQUIA_PRODUCTO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPOS_MATERIAL1),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_GRUPOS_MATERIAL2),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CATEGORIA_VALORACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_MONEDA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_CRITICOS),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_ESTRATEGICOS),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_IND_PED_AUTOMA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_VISTA_PLANIFICACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PRECIO_COTIZACION),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXT&&i.codigo_interno==o.CODIGO_INTERNO_PERIODO_VIDA),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_COMBO&&i.codigo_interno==o.CODIGO_INTERNO_CENTRO_BENEFICIO),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_INPUT_TEXTAREA&&i.codigo_interno==o.CODIGO_INTERNO_TEXTO_COMPRA),N.Cb(1),N.kc("ngIf",i.codigo_interno==o.CODIGO_INTERNO_PARTIDA_ARANCELARIA),N.Cb(1),N.kc("ngIf",0!=o.listadoMateriales.length&&i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX&&i.codigo_interno==o.CODIGO_INTERNO_AMPLIACION)}}function Za(i,t){if(1&i&&(N.Tb(0,"th",98),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function Wa(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"\xa0"),N.Sb(),N.Sb())}function Ka(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"done"),N.Sb(),N.Sb())}function Ya(i,t){if(1&i&&(N.Tb(0,"td",99),N.Ac(1,Wa,3,0,"span",23),N.Ac(2,Ka,3,0,"span",23),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]&&!i[o.codigo_interno]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"]&&i[o.codigo_interno])}}function ic(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,Za,2,1,"th",38),N.Ac(2,Ya,3,2,"td",39),N.Sb())}function tc(i,t){if(1&i&&(N.Tb(0,"th",98),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function oc(i,t){if(1&i&&(N.Tb(0,"span",85),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function ec(i,t){if(1&i&&(N.Tb(0,"span"),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function ac(i,t){if(1&i&&(N.Tb(0,"td",99),N.Ac(1,oc,2,1,"span",80),N.Ac(2,ec,2,1,"span",23),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"])}}function cc(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,tc,2,1,"th",38),N.Ac(2,ac,3,2,"td",39),N.Sb())}function nc(i,t){if(1&i&&(N.Rb(0,97),N.Ac(1,ic,3,0,"div",23),N.Ac(2,cc,3,0,"div",23),N.Qb()),2&i){const i=t.$implicit,o=N.ec();N.lc("matColumnDef",i.codigo_interno),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX),N.Cb(1),N.kc("ngIf",i.tipo_objeto!=o.TIPO_OBJETO_CHECKBOX)}}function sc(i,t){1&i&&(N.Tb(0,"th",98),N.Bc(1," Anexos "),N.Sb())}function rc(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",102),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function lc(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",103),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Oc(i,t){if(1&i&&(N.Tb(0,"td",99),N.Ac(1,rc,3,0,"button",100),N.Ac(2,lc,3,0,"button",101),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.anexo_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.anexo_material_contador)}}function _c(i,t){1&i&&(N.Tb(0,"th",98),N.Bc(1," Equivalencias "),N.Sb())}function dc(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",102),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function Ic(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",103),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function bc(i,t){if(1&i&&(N.Tb(0,"td",99),N.Ac(1,dc,3,0,"button",100),N.Ac(2,Ic,3,0,"button",101),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.equivalencia_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.equivalencia_material_contador)}}function uc(i,t){1&i&&(N.Tb(0,"th",98),N.Bc(1," Acciones "),N.Sb())}function Cc(i,t){if(1&i){const i=N.Ub();N.Tb(0,"td",99),N.Tb(1,"button",104),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().editarMaterial(o)}),N.Tb(2,"mat-icon"),N.Bc(3,"edit"),N.Sb(),N.Sb(),N.Tb(4,"button",104),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().eliminarMaterial(o)}),N.Tb(5,"mat-icon"),N.Bc(6,"delete"),N.Sb(),N.Sb(),N.Sb()}}function Tc(i,t){1&i&&N.Ob(0,"tr",105)}function Nc(i,t){1&i&&N.Ob(0,"tr",106)}let mc=(()=>{class i{constructor(i,t,o,e,a,c,r,l,O,_,d,I,b,u,C,T,N,m,h,E,A,g,S,p,D,f,R,v){this.formBuilder=i,this.formValidatorService=t,this.solicitudService=o,this.excelGeneratorService=e,this.nivel3Service=a,this.unidadMedidaService=c,this.centroService=r,this.organizacionVentaService=l,this.canalDistribucionService=O,this.almacenService=_,this.clasificacionService=d,this.activatedRoute=I,this.matDialog=b,this.router=u,this._snack=C,this.idiomaService=T,this.grupoArticuloService=N,this.tipoMaterialService=m,this.campoVistaService=h,this.categoriaValoracionService=E,this.grupoImputacionMaterialService=A,this.jerarquiaProductoService=g,this.grupoMaterial1Service=S,this.grupoMaterial2Service=p,this.centroBeneficioService=D,this.partidaArancelariaService=f,this.rutaActiva=R,this.equivalenciaService=v,this.ROL_SOLICITANTE=s.a.ROL_SOLICITANTE,this.TIPO_SOLICITUD=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_CREACION=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_AMPLIACION=s.a.TIPO_SOLICITUD_AMPLIACION,this.TIPO_SOLICITUD_MODIFICACION=s.a.TIPO_SOLICITUD_MODIFICACION,this.TIPO_SOLICITUD_BLOQUEO=s.a.TIPO_SOLICITUD_BLOQUEO,this.ESCENARIO_NIVEL1=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_PT=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_RS=s.a.ESCENARIO_NIVEL1_REPUESTOS_SUMINISTROS,this.ESCENARIO_NIVEL1_MP=s.a.ESCENARIO_NIVEL1_MATERIAS_PRIMAS,this.ESCENARIO_NIVEL1_AO=s.a.ESCENARIO_NIVEL1_ACTIVOS_OTROS,this.TIPO_OBJETO_INPUT_TEXT=s.a.TIPO_OBJETO_INPUT_TEXT,this.TIPO_OBJETO_INPUT_TEXTAREA=s.a.TIPO_OBJETO_INPUT_TEXTAREA,this.TIPO_OBJETO_COMBO=s.a.TIPO_OBJETO_COMBO,this.TIPO_OBJETO_CHECKBOX=s.a.TIPO_OBJETO_CHECKBOX,this.TIPO_DATO_CHAR=s.a.TIPO_DATO_CHAR,this.TIPO_DATO_NUM=s.a.TIPO_DATO_NUM,this.CODIGO_INTERNO_CLASE_INSPECCION_TAB=s.a.CODIGO_INTERNO_CLASE_INSPECCION_TAB,this.CODIGO_INTERNO_AREA_PLANIFICACION_TAB=s.a.CODIGO_INTERNO_AREA_PLANIFICACION_TAB,this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDAD_PESO,this.CODIGO_INTERNO_CENTRO=s.a.CODIGO_INTERNO_CENTRO,this.CODIGO_INTERNO_DENOMINACION=s.a.CODIGO_INTERNO_DENOMINACION,this.CODIGO_INTERNO_PESO_BRUTO=s.a.CODIGO_INTERNO_PESO_BRUTO,this.CODIGO_INTERNO_CENTRO_BENEFICIO=s.a.CODIGO_INTERNO_CENTRO_BENEFICIO,this.CODIGO_INTERNO_ORGANIZACION_VENTAS=s.a.CODIGO_INTERNO_ORGANIZACION_VENTAS,this.CODIGO_INTERNO_CANAL_DISTRIBUCION=s.a.CODIGO_INTERNO_CANAL_DISTRIBUCION,this.CODIGO_INTERNO_ALMACEN=s.a.CODIGO_INTERNO_ALMACEN,this.CODIGO_INTERNO_CLASE_TAB=s.a.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_ALMACEN_PRODUCCION=s.a.CODIGO_INTERNO_ALMACEN_PRODUCCION,this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION=s.a.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION,this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION=s.a.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION,this.CODIGO_INTERNO_CATEGORIA_VALORACION=s.a.CODIGO_INTERNO_CATEGORIA_VALORACION,this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA,this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT=s.a.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT,this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL=s.a.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL,this.CODIGO_INTERNO_JERARQUIA_PRODUCTO=s.a.CODIGO_INTERNO_JERARQUIA_PRODUCTO,this.CODIGO_INTERNO_GRUPOS_MATERIAL1=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL1,this.CODIGO_INTERNO_GRUPOS_MATERIAL2=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL2,this.CODIGO_INTERNO_TEXTO_COMERCIAL=s.a.CODIGO_INTERNO_TEXTO_COMERCIAL,this.CODIGO_INTERNO_GRUPO_TRANSPORTE=s.a.CODIGO_INTERNO_GRUPO_TRANSPORTE,this.CODIGO_INTERNO_GRUPO_CARGA=s.a.CODIGO_INTERNO_GRUPO_CARGA,this.CODIGO_INTERNO_IDIOMA=s.a.CODIGO_INTERNO_IDIOMA,this.CODIGO_INTERNO_TEXTO_COMPRA=s.a.CODIGO_INTERNO_TEXTO_COMPRA,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO,this.CODIGO_INTERNO_UMP_VAR=s.a.CODIGO_INTERNO_UMP_VAR,this.CODIGO_INTERNO_PRECIO_ESTANDAR=s.a.CODIGO_INTERNO_PRECIO_ESTANDAR,this.CODIGO_INTERNO_CODIGO_EAN=s.a.CODIGO_INTERNO_CODIGO_EAN,this.CODIGO_INTERNO_GRUPO_TIPO_POSICION=s.a.CODIGO_INTERNO_GRUPO_TIPO_POSICION,this.CODIGO_INTERNO_PARTIDA_ARANCELARIA=s.a.CODIGO_INTERNO_PARTIDA_ARANCELARIA,this.CODIGO_INTERNO_PRECIO_VARIABLE=s.a.CODIGO_INTERNO_PRECIO_VARIABLE,this.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD=s.a.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD,this.CODIGO_INTERNO_FORMULA_CONCRETO=s.a.CODIGO_INTERNO_FORMULA_CONCRETO,this.CODIGO_INTERNO_TIPO_MATERIAL=s.a.CODIGO_INTERNO_TIPO_MATERIAL,this.CODIGO_INTERNO_GRUPO_ARTICULO=s.a.CODIGO_INTERNO_GRUPO_ARTICULO,this.CODIGO_INTERNO_SECTOR=s.a.CODIGO_INTERNO_SECTOR,this.CODIGO_INTERNO_AMPLIACION=s.a.CODIGO_INTERNO_AMPLIACION,this.CODIGO_INTERNO_RAMO=s.a.CODIGO_INTERNO_RAMO,this.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_PRECIO_BASE=s.a.CODIGO_INTERNO_PRECIO_BASE,this.CODIGO_INTERNO_MONEDA=s.a.CODIGO_INTERNO_MONEDA,this.CODIGO_INTERNO_IND_PED_AUTOMA=s.a.CODIGO_INTERNO_IND_PED_AUTOMA,this.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO=s.a.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO,this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP=s.a.CODIGO_INTERNO_MATERIAL_CODIGO_SAP,this.CODIGO_INTERNO_CRITICOS=s.a.CODIGO_INTERNO_CRITICOS,this.CODIGO_INTERNO_ESTRATEGICOS=s.a.CODIGO_INTERNO_ESTRATEGICOS,this.CODIGO_INTERNO_VISTA_PLANIFICACION=s.a.CODIGO_INTERNO_VISTA_PLANIFICACION,this.CODIGO_INTERNO_PRECIO_COTIZACION=s.a.CODIGO_INTERNO_PRECIO_COTIZACION,this.CODIGO_INTERNO_PERIODO_VIDA=s.a.CODIGO_INTERNO_PERIODO_VIDA,this.SOLICITUD_DETALLE_NUMERO_COLUMNAS=s.a.SOLICITUD_DETALLE_NUMERO_COLUMNAS,this.listadoMateriales=[],this.listadoUnidadMedidaBase=[],this.listadoUnidadMedidaPeso=[],this.listadoUnidadMedidaVenta=[],this.listadoUnidadMedidaPedido=[],this.listadoCentros=[],this.listadoOrganizaciones=[],this.listadoReglasVista=[],this.listadoCampoReglas=[],this.listadoCentroItem=[],this.listadoOrganizacionVentasItem=[],this.listadoCanalDistribucionItem=[],this.listadoAlmacenItem=[],this.listadoClasificacionItem=[],this.listadoLineaNegocio=[],this.listadoIdioma=[],this.listadoGrupoArticulo=[],this.listadoTipoMaterial=[],this.listadoResponsableControlProduccion=[],this.listadoPerfilControlFabricacion=[],this.listadoCategoriaValoracion=[],this.listadoGrupoEstadisticaMaterial=[],this.listadoGrupoImputacionMaterial=[],this.listadoJerarquiaProducto=[],this.listadoGrupoMaterial1=[],this.listadoGrupoMaterial2=[],this.listadoGrupoTransporte=[],this.listadoGrupoCarga=[],this.listadoCentroBeneficio=[],this.listadoMoneda=s.a.LISTADO_MONEDA,this.jsonDescargaFormato=[],this.cantidadCampos=0,this.camposMaterialModelo=[],this.listadoCampoVista=[],this.formErrors={selectecLineaNegocio:"",descripcion_corta:"",selectedCentro:"",selectedAlmacen:"",codigoModelo:null,denominacion:null},this.formErrorsItem={},this.formErrorsFiltro={},this.validationMessages={selectecLineaNegocio:{required:"L\xednea de negocio es requerido."},descripcion_corta:{required:"Descripci\xf3n corta de solicitud es requerida."},codigoModelo:{required:"C\xf3digo de Modelo es requerido"}},this.displayedColumns=[],this.submitted=!1,this.fileName="",this.activarEditarMaterial=!1,this.botonLlenarDatos=!1,this.MENSAJE_ACTUALIZAR_SOLICITUD=s.a.MENSAJE_ACTUALIZAR_SOLICITUD,this.MENSAJE_AGREGAR_MATERIAL=s.a.MENSAJE_AGREGAR_MATERIAL,this.MENSAJE_ELIMINAR_MATERIAL=s.a.MENSAJE_ELIMINAR_MATERIAL,this.MENSAJE_ACTUALIZAR_MATERIAL=s.a.MENSAJE_ACTUALIZAR_MATERIAL,this.MENSAJE_CARGA_MASIVA=s.a.MENSAJE_CARGA_MASIVA,this.MENSAJE_ENVIO_SOLICITUD=s.a.MENSAJE_ENVIO_SOLICITUD,this.MENSAJE_ANULAR_SOLICITUD=s.a.MENSAJE_ANULAR_SOLICITUD,this.MENSAJE_CARGAR_ANEXO_SOLICITUD=s.a.MENSAJE_CARGAR_ANEXO_SOLICITUD,this.MENSAJE_CARGAR_ANEXO_MATERIAL=s.a.MENSAJE_CARGAR_ANEXO_MATERIAL,this.MENSAJE_ELIMINAR_ANEXO_SOLICITUD=s.a.MENSAJE_ELIMINAR_ANEXO_SOLICITUD,this.MENSAJE_ELIMINAR_ANEXO_MATERIAL=s.a.MENSAJE_ELIMINAR_ANEXO_MATERIAL,this.existeDenominacion=!1,this.cantidadErrores=0,this.camposErrores="",this.myControl=new n.e,this.listadoPartidaArancelaria=[],this.btnAdd=!1,this.existeAnexoSolicitud=!1,this.existeAnexoMaterial=!1,this.existeEquivalencias=!1,this.ESCENARIO_NIVEL1=this.rutaActiva.snapshot.params.nivelEscenario,this.id_solicitud=this.activatedRoute.snapshot.params.id,this.TIPO_SOLICITUD=parseInt(this.rutaActiva.snapshot.params.tipoSolicitud),this.initForm(),this.obtenerSolicitud(),this.obtenerUrlSolicitud(),this.estadoActualSolicitud(this.id_solicitud)}ngOnInit(){this.getListarNivel3Solicitud(),this.getListarUnidadMedida(),this.getListarCanalDistribucion(),this.getListarClasificacion(),this.getListarIdioma(),this.getListarGrupoArticulo(),this.getListarTipoMaterial(),this.getListarCampoVista(),this.getListarCategoriaValoracion(),this.getListarGrupoImputacionMaterial(),this.getListarJerarquiaProducto(),this.getListarGrupoMaterial1(),this.getListarGrupoMaterial2(),this.filtrarPartidaArnacelaria(),this.getListadoMateriales()}filtrarPartidaArnacelaria(){var i;return Object(c.a)(this,void 0,void 0,function*(){this.filteredPartidaArancelaria=null===(i=this.itemForm.get(this.CODIGO_INTERNO_PARTIDA_ARANCELARIA))||void 0===i?void 0:i.valueChanges.pipe(Object(u.a)(""),Object(C.a)(i=>"string"==typeof i?i:i.codigo_sap),Object(C.a)(i=>i?this._filtrarPartidaArancelaria(i):this.listadoPartidaArancelaria.slice()))})}displayFn(i){return i&&i.codigo_sap?i.codigo_sap:""}_filtrarPartidaArancelaria(i){return i.length>2?this.partidaArancelariaService.getFiltrarPartidaArancelaria(i).then(i=>{this.listadoPartidaArancelaria=i}):this.listadoPartidaArancelaria=[],this.listadoPartidaArancelaria}initForm(){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudForm=this.formBuilder.group({selectecLineaNegocio:[null,n.v.required],descripcion_corta:["",n.v.required],files:new n.e(""),fileAnexoSolicitud:[""]}),this.solicitudForm.valueChanges.subscribe(()=>{this.formErrors=this.formValidatorService.handleFormChanges(this.solicitudForm,this.formErrors,this.validationMessages,this.submitted)}),this.filtroForm=this.formBuilder.group({selectedCentro:[{value:"",disabled:!0}],selectedAlmacen:[{value:"",disabled:!0}],codigoModelo:[{value:"",disabled:!0}],fileAnexoMaterial:[""]}),this.filtroForm.valueChanges.subscribe(()=>{this.formErrorsFiltro=this.formValidatorService.handleFormChanges(this.filtroForm,this.formErrorsFiltro,this.validationMessages,!0)}),this.itemForm=this.formBuilder.group({[this.CODIGO_INTERNO_DENOMINACION]:[{value:"",disabled:!0}],unidad_medida_base:[{value:"",disabled:!0}],peso_bruto:[{value:"",disabled:!0}],unidad_medida_peso:[{value:"",disabled:!0}],centro_codigo_sap:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CENTRO_BENEFICIO]:[{value:"",disabled:!0}],organizacion_ventas:[{value:"",disabled:!0}],canal_distribucion:[{value:"",disabled:!0}],almacen_codigo_sap:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CLASE_TAB]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_ALMACEN_PRODUCCION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CATEGORIA_VALORACION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_JERARQUIA_PRODUCTO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPOS_MATERIAL1]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPOS_MATERIAL2]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_TEXTO_COMERCIAL]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_TRANSPORTE]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_CARGA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_IDIOMA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_TEXTO_COMPRA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_UMP_VAR]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PRECIO_ESTANDAR]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_CODIGO_EAN]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_TIPO_POSICION]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PARTIDA_ARANCELARIA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PRECIO_VARIABLE]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_FORMULA_CONCRETO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_GRUPO_ARTICULO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_TIPO_MATERIAL]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_SECTOR]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_AMPLIACION]:[{value:!1,disabled:!0}],[this.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_PRECIO_BASE]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_MONEDA]:[{value:"",disabled:!0}],[this.CODIGO_INTERNO_IND_PED_AUTOMA]:[{value:!1,disabled:!0}],[this.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO]:[{value:!1,disabled:!0}],[this.CODIGO_INTERNO_CRITICOS]:[""],[this.CODIGO_INTERNO_ESTRATEGICOS]:[""],[this.CODIGO_INTERNO_VISTA_PLANIFICACION]:[""],[this.CODIGO_INTERNO_PRECIO_COTIZACION]:[""],[this.CODIGO_INTERNO_PERIODO_VIDA]:[""]}),this.itemForm.valueChanges.subscribe(()=>{this.formErrorsItem=this.formValidatorService.handleFormChanges(this.itemForm,this.formErrorsItem,this.validationMessages,!0)})})}obtenerSolicitud(){this.solicitudService.obtenerSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE}).then(i=>{this.cabeceraSolicitud=i.objeto,this.listadoMateriales=i.objeto.materiales_solicitud,this.correlativo=this.cabeceraSolicitud.correlativo,console.log("metodo obtenerSolicitud listadoMateriales---\x3e"+JSON.stringify(this.listadoMateriales)),this.cargarDataCabecera(),this.filtrarReglas()})}cargarDataCabecera(){this.solicitudForm.get("selectecLineaNegocio").setValue(this.cabeceraSolicitud.escenarioNivel3?this.cabeceraSolicitud.escenarioNivel3:null),this.solicitudForm.get("descripcion_corta").setValue(this.cabeceraSolicitud.descripcion_corta?this.cabeceraSolicitud.descripcion_corta:""),this.EscenarioNivel3_Old=this.solicitudForm.get("selectecLineaNegocio").value}filtrarReglas(){let i=this.solicitudForm.get("selectecLineaNegocio").value;this.sociedad=i.sociedad,this.getListarCentro(),this.getListarCentroBeneficioPorSociedad(this.sociedad.codigo_sap),this.getListarOrganizacionVentas(),this.getListadoCampoReglas(i.id,this.ROL_SOLICITANTE,this.TIPO_SOLICITUD)}habilitarControles(){var i,t,o;console.log("entro a habilitarControles"),null===(i=this.filtroForm.get("selectedCentro"))||void 0===i||i.enable(),null===(t=this.filtroForm.get("selectedAlmacen"))||void 0===t||t.enable(),null===(o=this.filtroForm.get("codigoModelo"))||void 0===o||o.enable(),this.listadoCampoReglas.forEach(i=>{var t;i.codigo_interno!=this.CODIGO_INTERNO_AMPLIACION&&(null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.enable())})}getListarUnidadMedida(){this.unidadMedidaService.getListarUnidadMedida().then(i=>{this.listadoUnidadMedidaBase=i.lista,this.listadoUnidadMedidaPeso=i.lista,this.listadoUnidadMedidaVenta=i.lista,this.listadoUnidadMedidaPedido=i.lista})}getListarCentro(){this.centroService.getListarCentroPorSociedad(this.sociedad.codigo_sap).then(i=>{this.listadoCentroItem=i.lista,this.listadoCentros=i.lista})}getListarOrganizacionVentas(){this.organizacionVentaService.getListarCentroOrganizacionVentaxSociedad(this.sociedad.codigo_sap).then(i=>{this.listadoOrganizacionVentasItem=i.lista,this.listadoOrganizaciones=i.lista})}getListarCategoriaValoracion(){var i,t;let o=(null===(i=this.itemForm.get(this.CODIGO_INTERNO_TIPO_MATERIAL))||void 0===i?void 0:i.value)?null===(t=this.itemForm.get(this.CODIGO_INTERNO_TIPO_MATERIAL))||void 0===t?void 0:t.value:"";null!=o&&""!=o?this.categoriaValoracionService.getListarCategoriaValoracionPorTipoMaterial(o).then(i=>{this.listadoCategoriaValoracion=i.lista}):this.categoriaValoracionService.getListarCategoriaValoracion().then(i=>{this.listadoCategoriaValoracion=i.lista})}getListarGrupoImputacionMaterial(){this.grupoImputacionMaterialService.getListarGrupoImputacionMaterial().then(i=>{this.listadoGrupoImputacionMaterial=i.lista})}getListarJerarquiaProducto(){this.jerarquiaProductoService.getListarJerarquiaProducto().then(i=>{this.listadoJerarquiaProducto=i.lista})}getListarGrupoMaterial1(){this.grupoMaterial1Service.getListarGrupoMaterial1().then(i=>{this.listadoGrupoMaterial1=i.lista})}getListarGrupoMaterial2(){this.grupoMaterial2Service.getListarGrupoMaterial2().then(i=>{this.listadoGrupoMaterial2=i.lista})}getListarCanalDistribucion(){this.canalDistribucionService.getListarCanalDistribucion().then(i=>{this.listadoCanalDistribucionItem=i.lista})}getListarAlmacen(i){this.almacenService.getListarAlmacen(i).then(i=>{this.listadoAlmacenItem=i.lista})}getListarClasificacion(){this.clasificacionService.getListarClasificacion().then(i=>{this.listadoClasificacionItem=i.lista})}getListarCentroBeneficioPorSociedad(i){this.centroBeneficioService.getListarCentroBeneficioPorSociedad(i).then(i=>{this.listadoCentroBeneficio=i.lista})}filtrarListasPorCentro(){var i;let t=null===(i=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===i?void 0:i.value;this.getListarAlmacen(t.codigo_sap)}getListadoCampoReglas(i,t,o){return Object(c.a)(this,void 0,void 0,function*(){let e=0,a=[],c=[];this.displayedColumns=[],this.solicitudService.getListadoCampoReglas(i,t,o).then(i=>{let t=i.lista,o='"id_material_solicitud": "", "';if(o=this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION?o+this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO+'":"",':o+this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP+'":"",',1==i.resultado){for(let i=0;i<t.length;i++)if(null!=t[i].tipo_objeto){e++;let c=t[i].codigo_interno;this.displayedColumns.push(t[i].codigo_interno),1==e?o=o+'"'+c+'": ""':t[i].codigo_interno!=this.CODIGO_INTERNO_AMPLIACION&&(console.log("peru--\x3e"+t[i].codigo_interno),o=o+',"'+c+'": ""'),a.push(t[i])}this.displayedColumns.push("anexos"),this.displayedColumns.push("equivalencias"),this.displayedColumns.push("acciones"),o=JSON.parse("[{"+o+"}]"),c=o,this.cantidadCampos=e,this.listadoCampoReglas=a,this.jsonDescargaFormato=c}console.log(" listado campos reglas vista--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.habilitarControles(),this.initCamposMateriales(),console.log(" Json Descarga Formato--\x3e"+JSON.stringify(c))})})}agregarMaterialCreacion(i){return Object(c.a)(this,void 0,void 0,function*(){{let t=yield this.mapearCamposMaterial(i),o={id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,material:{campos:t}};console.log("material---\x3e"+JSON.stringify(o)),this.solicitudService.agregarMaterial(o).then(i=>{this._snack.open(this.MENSAJE_AGREGAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales(),this.limpiarMaterial()})}})}getListarNivel3Solicitud(){return Object(c.a)(this,void 0,void 0,function*(){this.nivel3Service.getListarNivel3SolicitudPorUsuario({id_rol:this.ROL_SOLICITANTE,id_tipo_solicitud:this.TIPO_SOLICITUD,codigo_escenario_nivel1:this.ESCENARIO_NIVEL1}).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})})}openDialogConfirmarActualizarSolicitud(i){return Object(c.a)(this,void 0,void 0,function*(){let t=this.solicitudForm.get("selectecLineaNegocio").value,o="";o=this.comparaIdLineaNegocio(this.EscenarioNivel3_Old,t)?"Grabar Cambios":"Se borraran el detalle de la solicitud. Confirmar",this.matDialog.open(r.a,{disableClose:!0,data:o}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarSolicitud(i):(this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null),this.filtrarReglas())})})}comparaIdLineaNegocio(i,t){return i.id==t.id}actualizarSolicitud(i){this.solicitudService.actualizarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_solicitud:this.id_solicitud}).then(t=>{1==t.resultado&&(this.EscenarioNivel3_Old=i.selectecLineaNegocio,this.estadoActualSolicitud(this.id_solicitud),this.habilitarControles(),this.getListadoMateriales(),JSON.stringify(t),this._snack.open(this.MENSAJE_ACTUALIZAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}))})}getListadoMateriales(){this.solicitudService.getListadoMateriales(this.id_solicitud,this.ROL_SOLICITANTE).then(i=>{this.listadoMateriales=i.lista})}mapearCamposMaterial(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){let e=(null===(t=this.filtroForm.get("codigoModelo"))||void 0===t?void 0:t.value)?null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value:"",a=[];return""!=e&&this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION&&a.push({codigo_interno:s.a.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO,valor:e}),this.listadoCampoReglas.forEach((t,o)=>{var e;if(null===(e=this.itemForm.get(t.codigo_interno))||void 0===e?void 0:e.enabled){if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXT){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,a.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXTAREA){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,a.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_CHECKBOX&&a.push({codigo_interno:t.codigo_interno,valor:i[t.codigo_interno]?"X":""}),t.tipo_objeto==this.TIPO_OBJETO_COMBO)if("_tab"==t.codigo_interno.substr(-4)){let o=[],e=[];i[t.codigo_interno].length&&(e=i[t.codigo_interno]),e!=[]&&e.forEach(i=>{o.push({valor:i.codigo_sap})}),a.push({codigo_interno:t.codigo_interno,valores:o})}else{let o="";i[t.codigo_interno]&&(o=i[t.codigo_interno].codigo_sap?i[t.codigo_interno].codigo_sap:""),a.push({codigo_interno:t.codigo_interno,valor:o})}}}),a})}descargarFormato(){this.excelGeneratorService.exportAsExcelFile(this.jsonDescargaFormato,"Solicitante")}descargarListado(){let i="",t=[],o=0,e=[],a=0,c=[];console.log(this.listadoCampoReglas.length+" listadoarsa--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.listadoMateriales.forEach(n=>{o=1,t=[],a++,i='{"id_material_solicitud":'+n.id_material_solicitud+', "',i=this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION?i+this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO+'":"'+n[this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO]+'"':i+this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP+'":"'+n[this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]+'"',this.listadoCampoReglas.forEach(e=>{if(e.codigo_interno!=this.CODIGO_INTERNO_AMPLIACION){let a="null"==n[e.codigo_interno+"_valor"]||null==n[e.codigo_interno+"_valor"]?"":n[e.codigo_interno+"_valor"];a=a.split(/\n/i).join("@@@"),o++,i=i+', "'+[e.codigo_interno]+'":"'+a+'"',n[e.codigo_interno+"_error"]&&t.push(o)}}),t.length>0&&e.push({fila:a,posicion:t}),i+="}",console.log("super fila--\x3e"+i),c.push(JSON.parse(i))}),this.jsonDescargaFormato=c,this.excelGeneratorService.exportListadoAsExcelFile(c,e,"Solicitante-"+this.correlativo)}descargarListadoOLD(){let i="",t=[],o=0,e=[],a=0,c=[];this.listadoMateriales.forEach(n=>{o=1,t=[],a++,i='{"id_material_solicitud":'+n.id_material_solicitud,n.denominacion&&(o++,i=i+', "'+this.CODIGO_INTERNO_DENOMINACION+'":"'+n.denominacion_valor+'"',n.denominacion_error&&t.push(o)),n.unidad_medida_base&&(o++,i=i+',"'+this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE+'":"'+n.unidad_medida_base_valor+'"',n.unidad_medida_base_error&&t.push(o)),n.peso_bruto&&(o++,i=i+',"'+this.CODIGO_INTERNO_PESO_BRUTO+'":"'+n.peso_bruto_valor+'"',n.peso_bruto_error&&t.push(o)),n.unidad_medida_peso&&(o++,i=i+',"'+this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO+'":"'+n.unidad_medida_peso_valor+'"',n.unidad_medida_peso_error&&t.push(o)),n[this.CODIGO_INTERNO_CENTRO]&&(o++,i=i+',"'+this.CODIGO_INTERNO_CENTRO+'":"'+n[this.CODIGO_INTERNO_CENTRO+"_valor"]+'"',n[this.CODIGO_INTERNO_CENTRO+"_error"]&&t.push(o)),n.organizacion_ventas&&(o++,i=i+',"'+this.CODIGO_INTERNO_ORGANIZACION_VENTAS+'":"'+n.organizacion_ventas_valor+'"',n.organizacion_ventas_error&&t.push(o)),n.canal_distribucion&&(o++,i=i+',"'+this.CODIGO_INTERNO_CANAL_DISTRIBUCION+'":"'+n.canal_distribucion_valor+'"',n.canal_distribucion_error&&t.push(o)),n[this.CODIGO_INTERNO_ALMACEN]&&(o++,i=i+',"'+this.CODIGO_INTERNO_ALMACEN+'":"'+n[this.CODIGO_INTERNO_ALMACEN+"_valor"]+'"',n[this.CODIGO_INTERNO_ALMACEN+"_error"]&&t.push(o)),n[this.CODIGO_INTERNO_CLASE_TAB]&&(o++,i=i+',"'+this.CODIGO_INTERNO_CLASE_TAB+'":"'+n[this.CODIGO_INTERNO_CLASE_TAB+"_valor"]+'"',n[this.CODIGO_INTERNO_CLASE_TAB+"_error"]&&n[this.CODIGO_INTERNO_CLASE_TAB+"_error"].search("true")>=0&&t.push(o)),t.length>0&&e.push({fila:a,posicion:t}),i+="}",c.push(JSON.parse(i))}),console.log("filaError---\x3e"+JSON.stringify(e)),console.log("FilaArray---\x3e"+JSON.stringify(c)),this.jsonDescargaFormato=c,this.excelGeneratorService.exportListadoAsExcelFile(c,e,"sample")}onFileSelected(i){this.excelGeneratorService.onFileSeleted(this.TIPO_SOLICITUD,i,[this.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_CLASE_INSPECCION_TAB,this.CODIGO_INTERNO_AREA_PLANIFICACION_TAB]).then(i=>{this.cargaMasiva(i),this.solicitudForm.get("files").reset()})}cargaMasiva(i){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.cargaMasivaCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.cargaMasivaAmpliacion(i)}}cargaMasivaCreacion(i){this.solicitudService.cargaMasiva({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,materiales:i}).then(i=>{console.log("resultado---\x3e"+JSON.stringify(i)),this._snack.open(this.MENSAJE_CARGA_MASIVA,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()})}cargaMasivaAmpliacion(i){this.solicitudService.cargaMasivaAmpliacion({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,materiales:i}).then(i=>{console.log("resultado---\x3e"+JSON.stringify(i)),1==i.resultado?this._snack.open(this.MENSAJE_CARGA_MASIVA,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}):this.openDialogErrorSap(i.mensaje),this.getListadoMateriales()})}editarMaterial(i){var t,o,e,a,n;return Object(c.a)(this,void 0,void 0,function*(){this.habilitarControles(),this.obtenerUrlMaterial(i.id_material_solicitud),this.obtenerEquivalencias(i.id_material_solicitud),this.btnAdd=!1,console.log("editar material--\x3e"+JSON.stringify(i)),this.itemMaterialOld=i,this.activarEditarMaterial=!0;let c=i[this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO]?i[this.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO]:"";null===(t=this.filtroForm.get("codigoModelo"))||void 0===t||t.setValue(c),this.listadoCampoReglas.forEach(t=>{var o,e,a,c,n,r,l;if(null===(o=this.itemForm.get(t.codigo_interno))||void 0===o||o.setValue(""),!i[t.codigo_interno+"_error"]){let o=null==i[t.codigo_interno+"_valor"]?"":i[t.codigo_interno+"_valor"];if(t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXT&&(null===(e=this.itemForm.get(t.codigo_interno))||void 0===e||e.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXTAREA&&(null===(a=this.itemForm.get(t.codigo_interno))||void 0===a||a.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_CHECKBOX){let o=!1;"X"==i[t.codigo_interno+"_valor"]&&(o=!0),null===(c=this.itemForm.get(t.codigo_interno))||void 0===c||c.setValue(o)}if(t.tipo_objeto==s.a.TIPO_OBJETO_COMBO)if("_tab"==t.codigo_interno.substr(-4)){let e=[];if(o){let a=o.split(","),c=i[t.codigo_interno+"_id"].split(","),n=i[t.codigo_interno+"_descripcion"].split(",");for(let i=0;i<c.length;i++)e.push({id_clasificacion:c[i],codigo_sap:a[i],nombre:n[i]}),console.log(JSON.stringify({id_clasificacion:c[i],codigo_sap:a[i],nombre:n[i]}))}console.log("editar "+t.codigo_interno.substr(-4)+"---\x3e"+JSON.stringify(e)),null===(n=this.itemForm.get(t.codigo_interno))||void 0===n||n.setValue(e)}else t.codigo_interno==this.CODIGO_INTERNO_CENTRO&&this.getListarAlmacen(o),""==o?null===(r=this.itemForm.get(t.codigo_interno))||void 0===r||r.setValue(""):null===(l=this.itemForm.get(t.codigo_interno))||void 0===l||l.setValue({codigo_sap:o})}}),"X"==i[this.CODIGO_INTERNO_AMPLIACION+"_valor"]?(null===(o=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===o||o.disable(),null===(e=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===e||e.disable(),null===(a=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===a||a.disable(),this.btnAdd=!0):yield this.solicitudService.esPadre(this.id_solicitud,null===(n=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===n?void 0:n.value).then(t=>{var o,e,a;t.existe&&0==i[this.CODIGO_INTERNO_DENOMINACION+"_error"]&&(null===(o=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===o||o.disable(),null===(e=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===e||e.disable(),null===(a=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===a||a.disable(),this.btnAdd=!0)})})}editarMaterialOLD(i){var t,o,e,a,c,n,s,r,l,O;if(this.itemMaterialOld=i,console.log("editar material--\x3e"+JSON.stringify(i)),i[this.CODIGO_INTERNO_DENOMINACION+"_valor"]&&(null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t||t.setValue(i.denominacion_valor)),i.unidad_medida_base&&(null===(o=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE))||void 0===o||o.setValue({codigo_sap:i.unidad_medida_base_valor})),i[this.CODIGO_INTERNO_PESO_BRUTO+"_valor"]&&(null===(e=this.itemForm.get(this.CODIGO_INTERNO_PESO_BRUTO))||void 0===e||e.setValue(i.peso_bruto_valor)),i[this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO+"_valor"]&&(null===(a=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO))||void 0===a||a.setValue({codigo_sap:i.unidad_medida_peso_valor})),i[this.CODIGO_INTERNO_CENTRO+"_valor"]&&(this.getListarAlmacen(i[this.CODIGO_INTERNO_CENTRO+"_valor"]),null===(c=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===c||c.setValue({codigo_sap:i[this.CODIGO_INTERNO_CENTRO+"_valor"]})),i[this.CODIGO_INTERNO_CENTRO_BENEFICIO+"_valor"]&&(null===(n=this.itemForm.get(this.CODIGO_INTERNO_CENTRO_BENEFICIO))||void 0===n||n.setValue({codigo_sap:i.centro_beneficio_valor})),i[this.CODIGO_INTERNO_ORGANIZACION_VENTAS+"_valor"]&&(null===(s=this.itemForm.get(this.CODIGO_INTERNO_ORGANIZACION_VENTAS))||void 0===s||s.setValue({codigo_sap:i.organizacion_ventas_valor})),i[this.CODIGO_INTERNO_CANAL_DISTRIBUCION+"_valor"]&&(null===(r=this.itemForm.get(this.CODIGO_INTERNO_CANAL_DISTRIBUCION))||void 0===r||r.setValue({codigo_sap:i.canal_distribucion_valor})),i[this.CODIGO_INTERNO_ALMACEN+"_valor"]&&(null===(l=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===l||l.setValue({codigo_sap:i[this.CODIGO_INTERNO_ALMACEN+"_valor"]})),i[this.CODIGO_INTERNO_CLASE_TAB+"_valor"]){let t=i[this.CODIGO_INTERNO_CLASE_TAB+"_valor"].split(","),o=i[this.CODIGO_INTERNO_CLASE_TAB+"_id"].split(","),e=i[this.CODIGO_INTERNO_CLASE_TAB+"_descripcion"].split(","),a=[];for(let i=0;i<o.length;i++)a.push({id_clasificacion:o[i],codigo_sap:t[i],nombre:e[i]});null===(O=this.itemForm.get("clase"))||void 0===O||O.setValue(a)}}eliminarMaterial(i){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.eliminarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.eliminarAmpliacion(i)}}eliminarCreacion(i){let t;t=i.ampliacion?_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL:_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL_AMPLIADOS,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.solicitudService.eliminarMaterial(i).then(i=>{console.log(JSON.stringify(i)),this._snack.open(this.MENSAJE_ELIMINAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()}):this.getListadoMateriales()})}eliminarAmpliacion(i){let t;this.itemMaterialOld=i,t=i.ampliacion?_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL:_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL_AMPLIADOS,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.solicitudService.eliminarMaterialAmpliaci\u00f3n(this.id_solicitud,this.itemMaterialOld.id_material_solicitud).then(i=>{console.log(JSON.stringify(i)),this._snack.open(this.MENSAJE_ELIMINAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()}):this.getListadoMateriales()})}compareLineaNegocio(i,t){return i.id===t.id}compareUnidadMedidaBase(i,t){return i.codigo_sap===t.codigo_sap}compareUnidadMedidaPeso(i,t){return i.codigo_sap===t.codigo_sap}compareCentro(i,t){return i.codigo_sap===t.codigo_sap}compareCentro_beneficio(i,t){return i.codigo_sap===t.codigo_sap}compareOrganizacionVentas(i,t){return i.codigo_sap===t.codigo_sap}compareCanalDistribucion(i,t){return i.codigo_sap===t.codigo_sap}compareAlmacen(i,t){return i.codigo_sap===t.codigo_sap}compareAlmacenProduccion(i,t){return i.codigo_sap===t.codigo_sap}compareClase(i,t){return i&&t?i.codigo_sap===t.codigo_sap:i===t}compareUnidadMedidaVenta(i,t){return i.codigo_sap===t.codigo_sap}compareUnidadMedidaPedido(i,t){return i.codigo_sap===t.codigo_sap}compareResponsableControlProduccion(i,t){return i.codigo_sap===t.codigo_sap}comparePerfilControlFabricacion(i,t){return i.codigo_sap===t.codigo_sap}compareCategoriaValoracion(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoEstadisticaMaterial(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoImputacionMaterial(i,t){return i.codigo_sap===t.codigo_sap}compareJerarquiaProducto(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoMaterial1(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoMaterial2(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoTransporte(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoCarga(i,t){return i.codigo_sap===t.codigo_sap}compareIdioma(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoTipoPosicion(i,t){return i.codigo_sap===t.codigo_sap}comparePartidaArancelaria(i,t){return i.codigo_sap===t.codigo_sap}compareGrupoArticulo(i,t){return i.codigo_sap===t.codigo_sap}compareTipoMaterial(i,t){return i.codigo_sap===t.codigo_sap}compareMoneda(i,t){return i.codigo_sap===t.codigo_sap}compareClaseInspeccion(i,t){return i&&t?i.codigo_sap===t.codigo_sap:i===t}mapearCamposMaterialActualizar(i,t){var o,e;let a=(null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value)?null===(e=this.filtroForm.get("codigoModelo"))||void 0===e?void 0:e.value:"",c=[];return""!=a&&this.TIPO_SOLICITUD==this.TIPO_SOLICITUD_CREACION&&c.push({codigo_interno:s.a.CODIGO_INTERNO_MATERIAL_CODIGO_MODELO,valor:a}),this.listadoCampoReglas.forEach((t,o)=>{var e;if(null===(e=this.itemForm.get(t.codigo_interno))||void 0===e?void 0:e.enabled){if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXT){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,c.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_INPUT_TEXTAREA){let o=i[t.codigo_interno]?i[t.codigo_interno]:"";o="null"==o?"":o,c.push({codigo_interno:t.codigo_interno,valor:o})}if(t.tipo_objeto==this.TIPO_OBJETO_CHECKBOX&&c.push({codigo_interno:t.codigo_interno,valor:i[t.codigo_interno]?"X":""}),t.tipo_objeto==this.TIPO_OBJETO_COMBO)if("_tab"==t.codigo_interno.substr(-4)){let o="",e=[],a=0;i[t.codigo_interno]&&i[t.codigo_interno].forEach(i=>{a++,o=1==a?i.codigo_sap:o+","+i.codigo_sap,e.push({valor:i.codigo_sap})}),c.push({codigo_interno:t.codigo_interno,valores:e})}else{let o="";i[t.codigo_interno]&&(o=i[t.codigo_interno].codigo_sap?i[t.codigo_interno].codigo_sap:""),c.push({codigo_interno:t.codigo_interno,valor:o})}}}),console.log("campos--\x3e"+JSON.stringify(c)),c}openDialogConfirmarEnviarActualizarSolicitud(i){return Object(c.a)(this,void 0,void 0,function*(){this.cantidadErrores=0,yield this.existeErrores();let t="";this.cantidadErrores>0?(t=_.a.warnig.MENSAJE_EXISTE_ERRORES_AL_GRABAR_SOLICITUD+this.camposErrores,this.matDialog.open(O.a,{disableClose:!0,data:t}).afterClosed().subscribe(i=>{})):(t=_.a.warnig.MENSAJE_APROBAR_SOLICITUD,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarEnviarSolicitud(i):this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null)}))})}openDialogConfirmarEnviarActualizarSolicitud33(i){return Object(c.a)(this,void 0,void 0,function*(){let t=this.solicitudForm.get("selectecLineaNegocio").value,o="";this.cantidadErrores=0,yield this.existeErrores(),0==this.cantidadErrores&&this.listadoMateriales.length>0&&(o=this.comparaIdLineaNegocio(this.EscenarioNivel3_Old,t)?"Guardar cambios y enviar solicitud al supervisor":"Se borrar\xe1 el detalle de la solicitud. Confirmar guardar cambios y env\xedo al supervisor",this.matDialog.open(r.a,{disableClose:!0,data:o}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarEnviarSolicitud(i):this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null)}))})}actualizarEnviarSolicitud(i){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudService.actualizarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_solicitud:this.id_solicitud}).then(t=>Object(c.a)(this,void 0,void 0,function*(){1==t.resultado&&(this.EscenarioNivel3_Old=i.selectecLineaNegocio,this._snack.open(this.MENSAJE_ENVIO_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.aprobarSolicitud())}))})}aprobarSolicitud(){this.solicitudService.aprobarSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,motivo:""}).then(i=>{this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])})}limpiarMaterial(){return Object(c.a)(this,void 0,void 0,function*(){this.btnAdd=!1,this.listadoCampoReglas.forEach(i=>{var t,o,e;null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.setValue(""),null===(o=this.itemForm.get(i.codigo_interno))||void 0===o||o.enable(),i.codigo_interno==this.CODIGO_INTERNO_AMPLIACION&&(null===(e=this.itemForm.get(i.codigo_interno))||void 0===e||e.disable())}),yield this.initCamposMateriales(),this.itemMaterialOld=null,this.camposMaterialModelo=[]})}openDialogConfirmarAnularSolicitud(i){this.matDialog.open(r.a,{disableClose:!0,data:"Confirma la anulaci\xf3n de la solicitud ?"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.solicitudService.anularSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE}).then(i=>{1==i.resultado&&(this._snack.open(this.MENSAJE_ANULAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1]))}):console.log("no se anul\xf3 la solicitud")})}listadoDenominacion(){var i;let t=null===(i=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===i?void 0:i.value;t=t.toUpperCase().trim(),""!=t&&this.matDialog.open(l.a,{disableClose:!1,data:t.toUpperCase().trim(),width:"50%",height:"50%"}).afterClosed().subscribe(i=>{})}estadoActualSolicitud(i){this.solicitudService.estadoActual(i).then(i=>{this.estadoFlujoActualSolicitud=i})}initCamposMaterialesOLD(){this.listadoCampoReglas.forEach(i=>{var t,o,e,a,c,s,r,l,O,_,d,I,b,u,C,T,N,m,h,E,A,g,S,p,D,f,R,v;i.codigo_interno==this.CODIGO_INTERNO_DENOMINACION&&(null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t||t.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE&&(null===(o=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE))||void 0===o||o.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_PESO_BRUTO&&(null===(e=this.itemForm.get(this.CODIGO_INTERNO_PESO_BRUTO))||void 0===e||e.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO&&(null===(a=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO))||void 0===a||a.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CENTRO&&(null===(c=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===c||c.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CENTRO_BENEFICIO&&(null===(s=this.itemForm.get(this.CODIGO_INTERNO_CENTRO_BENEFICIO))||void 0===s||s.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_ORGANIZACION_VENTAS&&(null===(r=this.itemForm.get(this.CODIGO_INTERNO_ORGANIZACION_VENTAS))||void 0===r||r.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CANAL_DISTRIBUCION&&(null===(l=this.itemForm.get(this.CODIGO_INTERNO_CANAL_DISTRIBUCION))||void 0===l||l.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_ALMACEN&&(null===(O=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===O||O.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CLASE_TAB&&(null===(_=this.itemForm.get(this.CODIGO_INTERNO_CLASE_TAB))||void 0===_||_.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_ALMACEN_PRODUCCION&&(null===(d=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN_PRODUCCION))||void 0===d||d.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION&&(null===(I=this.itemForm.get(this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION))||void 0===I||I.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION&&(null===(b=this.itemForm.get(this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION))||void 0===b||b.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_CATEGORIA_VALORACION&&(null===(u=this.itemForm.get(this.CODIGO_INTERNO_CATEGORIA_VALORACION))||void 0===u||u.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA&&(null===(C=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA))||void 0===C||C.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT&&(null===(T=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT))||void 0===T||T.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL&&(null===(N=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL))||void 0===N||N.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_JERARQUIA_PRODUCTO&&(null===(m=this.itemForm.get(this.CODIGO_INTERNO_JERARQUIA_PRODUCTO))||void 0===m||m.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPOS_MATERIAL1&&(null===(h=this.itemForm.get(this.CODIGO_INTERNO_GRUPOS_MATERIAL1))||void 0===h||h.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPOS_MATERIAL2&&(null===(E=this.itemForm.get(this.CODIGO_INTERNO_GRUPOS_MATERIAL2))||void 0===E||E.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_TEXTO_COMERCIAL&&(null===(A=this.itemForm.get(this.CODIGO_INTERNO_TEXTO_COMERCIAL))||void 0===A||A.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_TRANSPORTE&&(null===(g=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_TRANSPORTE))||void 0===g||g.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_GRUPO_CARGA&&(null===(S=this.itemForm.get(this.CODIGO_INTERNO_GRUPO_CARGA))||void 0===S||S.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_IDIOMA&&(null===(p=this.itemForm.get(this.CODIGO_INTERNO_IDIOMA))||void 0===p||p.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO&&(null===(D=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO))||void 0===D||D.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_UMP_VAR&&(null===(f=this.itemForm.get(this.CODIGO_INTERNO_UMP_VAR))||void 0===f||f.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_TEXTO_COMPRA&&(null===(R=this.itemForm.get(this.CODIGO_INTERNO_TEXTO_COMPRA))||void 0===R||R.setValidators([n.v.required,n.v.maxLength(i.longitud)])),i.codigo_interno==this.CODIGO_INTERNO_PRECIO_ESTANDAR&&(null===(v=this.itemForm.get(this.CODIGO_INTERNO_PRECIO_ESTANDAR))||void 0===v||v.setValidators([n.v.required,n.v.maxLength(i.longitud)]))})}existeErrores(){return Object(c.a)(this,void 0,void 0,function*(){console.log("arsa2--\x3e"+JSON.stringify(this.listadoMateriales)),console.log("arsa3--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.camposErrores="";let i=0,t=0,o=" ",e=" ",a=[],c=[];0==this.listadoMateriales.length&&(this.cantidadErrores=1),this.listadoMateriales.forEach(n=>{this.listadoCampoReglas.forEach(s=>{if("M"==s.regla_campo){let r=s.codigo_interno;null!=n[r+"_valor"]&&""!=n[r+"_valor"]||(t++,e=e+s.codigo_interno+" ",c.push(t)),1==n[r+"_error"]&&(i++,o=o+s.codigo_interno+". ",a.push(i))}}),this.camposErrores=o,this.cantidadErrores=i+t,console.log({error:i,vacio:t})})})}openSnackBarError(i,t,o){this._snack.open(i,t,{duration:2e3,panelClass:["mat-toolbar",o],verticalPosition:"bottom",horizontalPosition:"right"})}cambioDenominacionActualizarMaterial(i){return!(!i.denominacion||i.denominacion==this.itemMaterialOld.denominacion_valor)}existeDenominacionSapYBdAdd(i){return Object(c.a)(this,void 0,void 0,function*(){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.agregarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.agregarAmpliacion(i)}})}agregarCreacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),yield this.solicitudService.existeDenominacionSAP(e).then(t=>Object(c.a)(this,void 0,void 0,function*(){if(t)return this.existeDenominacion=t,this.openSnackBarError(_.a.error.MENSAJE_ERROR_DENOMINACION_SAP,"","mat-primary"),this.existeDenominacion;t||(yield this.solicitudService.existeDenominacionDb(e).then(t=>{this.existeDenominacion=t.existe,this.agregarMaterialCreacion(i)}))}))})}agregarAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),this.agregarMaterialAmpliacion(i)})}existeDenominacionSapYBdUpdate(i){return Object(c.a)(this,void 0,void 0,function*(){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.actualizarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.actualizarAmpliacion(i)}})}actualizarCreacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),this.cambioDenominacionActualizarMaterial(i)?yield this.solicitudService.existeDenominacionSAP(e).then(t=>Object(c.a)(this,void 0,void 0,function*(){if(t)return this.existeDenominacion=t,this.openSnackBarError(_.a.error.MENSAJE_ERROR_DENOMINACION_SAP,"","mat-primary"),this.limpiarMaterial(),this.existeDenominacion;t||(yield this.solicitudService.existeDenominacionDb(e).then(t=>Object(c.a)(this,void 0,void 0,function*(){this.existeDenominacion=t.existe,this.actualizarMaterial(i)})))})):this.actualizarMaterial(i)})}actualizarAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){this.itemForm.get(this.CODIGO_INTERNO_CENTRO),this.itemForm.get(this.CODIGO_INTERNO_ALMACEN);let e=null===(t=this.itemForm.get(this.CODIGO_INTERNO_DENOMINACION))||void 0===t?void 0:t.value;(null===(o=this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION))||void 0===o?void 0:o.value)&&this.itemForm.get(this.CODIGO_INTERNO_AMPLIACION),e=e.toUpperCase().trim(),this.actualizarMaterialAmpliacion(i)})}actualizarMaterial(i){let t=this.mapearCamposMaterialActualizar(i,this.itemMaterialOld),o={id_solicitud:this.id_solicitud,id_material_solicitud:this.itemMaterialOld.id_material_solicitud,id_rol:this.ROL_SOLICITANTE,material:{campos:t}};console.log("actualizar material---\x3e"+JSON.stringify(o)),this.solicitudService.actualizarMaterial(o).then(i=>{var t;this._snack.open(this.MENSAJE_ACTUALIZAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),console.log("lo que hay en el file "+(null===(t=this.filtroForm.get("fileAnexoMaterial"))||void 0===t?void 0:t.value)),this.activarEditarMaterial=!1,this.getListadoMateriales(),this.limpiarMaterial()})}initCamposMateriales(){return Object(c.a)(this,void 0,void 0,function*(){console.log(" initCamposMateriales listado reglas vista--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.listadoCampoReglas.forEach(i=>{var t,o,e,a,c,r,l,O,_;if(i.tipo_dato==this.TIPO_DATO_NUM?null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.setValidators([n.v.pattern("\\-?\\d*\\.?\\d{1,"+i.longitud_decimal+"}")]):null===(o=this.itemForm.get(i.codigo_interno))||void 0===o||o.setValidators([n.v.maxLength(i.longitud)]),i.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXT&&(null===(e=this.itemForm.get(i.codigo_interno))||void 0===e||e.setValue(i.valor_defecto)),i.tipo_objeto==s.a.TIPO_OBJETO_CHECKBOX){let t=!1;"X"==i.valor_defecto&&(t=!0),null===(a=this.itemForm.get(i.codigo_interno))||void 0===a||a.setValue(t)}if(i.tipo_objeto==s.a.TIPO_OBJETO_COMBO){let t=null==i.valor_defecto?"":i.valor_defecto;i.codigo_interno==this.CODIGO_INTERNO_CLASE_TAB?null===(c=this.itemForm.get(i.codigo_interno))||void 0===c||c.setValue([]):(i.codigo_interno==this.CODIGO_INTERNO_CENTRO&&this.getListarAlmacen(i.valor_defecto),null===(r=this.itemForm.get(i.codigo_interno))||void 0===r||r.setValue({codigo_sap:t}))}"M"==i.regla_campo&&(i.tipo_dato==this.TIPO_DATO_NUM?null===(l=this.itemForm.get(i.codigo_interno))||void 0===l||l.setValidators([n.v.required,n.v.pattern("\\-?\\d*\\.?\\d{1,"+i.longitud_decimal+"}")]):null===(O=this.itemForm.get(i.codigo_interno))||void 0===O||O.setValidators([n.v.required,n.v.maxLength(i.longitud)])),null===(_=this.itemForm.get(i.codigo_interno))||void 0===_||_.updateValueAndValidity()})})}seguimientoSolicitud(){this.matDialog.open(xo.a,{disableClose:!1,data:this.id_solicitud,height:"70%",width:"80%"}).afterClosed().subscribe(i=>{})}flujoSolicitud(){this.matDialog.open(Vo.a,{disableClose:!1,data:this.id_solicitud,width:"50%"}).afterClosed().subscribe(i=>{})}getDecimal(i){let t=i.split(",");return t[1]?t[1].replace("0",""):""}getListarGrupoArticulo(){this.grupoArticuloService.getListarGrupoArticulo().then(i=>{this.listadoGrupoArticulo=i.lista})}getListarTipoMaterial(){this.tipoMaterialService.getListarTipoMaterial().then(i=>{this.listadoTipoMaterial=i.lista})}getListarIdioma(){this.idiomaService.getListarIdioma().then(i=>{this.listadoIdioma=i.lista})}getMaterialCodigoModelo(i){this.solicitudService.getMaterialCodigoModelo({codigo_modelo:i}).then(i=>{let t=i.lista;1==i.resultado&&t.length>0&&t.forEach(i=>{})})}llenarCentroyAlmacen(){var i,t;let o=null===(i=this.filtroForm.get("selectedCentro"))||void 0===i?void 0:i.value;null===(t=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===t||t.setValue({codigo_sap:o.codigo_sap}),this.getListarAlmacen(o.codigo_sap)}filtroLlenar(){var i;let t=null===(i=this.filtroForm.get("codigoModelo"))||void 0===i?void 0:i.value;this.solicitudService.getMaterialCodigoModelo({material:{codigo:t}}).then(i=>{this.camposMaterialModelo=i,console.log("material modelo--\x3e"+t+"......."+JSON.stringify(i)),this.camposMaterialModelo.length>0?this.llenarDatosCodigoModelo(this.camposMaterialModelo):this.openSnackBarError(_.a.error.MENSAJE_ERROR_DENOMINACION_NO_EXISTE_SAP,"","mat-primary")})}llenarDatos(i,t){return Object(c.a)(this,void 0,void 0,function*(){return i.forEach((i,t)=>{var o,e,a;i.codigo_interno==this.CODIGO_INTERNO_DENOMINACION&&(null===(o=this.itemForm.get(i.codigo_interno))||void 0===o||o.setValue(i.valor)),(null===(e=this.itemForm.get(i.codigo_interno))||void 0===e?void 0:e.valid)&&(null===(a=this.itemForm.get(i.codigo_interno))||void 0===a||a.setValue(i.valor),console.log(t+"--\x3e"+i.codigo_interno))}),t})}llenarDatosCodigoModelo(i){return Object(c.a)(this,void 0,void 0,function*(){this.listadoCampoReglas.forEach(t=>{i.forEach((i,o)=>{var e,a,c,n,r,l;if(t.codigo_interno==i.codigo_interno){null===(e=this.itemForm.get(t.codigo_interno))||void 0===e||e.setValue("");let o=null==i.valor?"":i.valor;if(t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXT&&(null===(a=this.itemForm.get(i.codigo_interno))||void 0===a||a.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_INPUT_TEXTAREA&&(null===(c=this.itemForm.get(i.codigo_interno))||void 0===c||c.setValue(o)),t.tipo_objeto==s.a.TIPO_OBJETO_CHECKBOX){let o=!1;"X"==i.codigo_interno&&(o=!0),null===(n=this.itemForm.get(t.codigo_interno))||void 0===n||n.setValue(o)}t.tipo_objeto==s.a.TIPO_OBJETO_COMBO&&(t.codigo_interno==this.CODIGO_INTERNO_CENTRO&&this.getListarAlmacen(o),""==o?null===(r=this.itemForm.get(t.codigo_interno))||void 0===r||r.setValue(""):null===(l=this.itemForm.get(t.codigo_interno))||void 0===l||l.setValue({codigo_sap:o}))}})})})}getListarCampoVista(){this.campoVistaService.getListarCampoVista().then(i=>{this.listadoCampoVista=i})}setValorPorDefecto(){this.listadoCampoReglas.forEach(i=>{var t;let o=i.valor_defecto;"input-text"==i.tipo_objeto&&null!=i.valor_defecto&&""!=i.valor_defecto&&(console.log("el dato de regla input"+JSON.stringify(i)),null===(t=this.itemForm.get(i.codigo_interno))||void 0===t||t.setValue(o)),"combo"==i.tipo_objeto&&null!=i.valor_defecto&&""!=i.valor_defecto&&(console.log("el dato de regla combo"+JSON.stringify(i)),this.itemForm.controls[i.codigo_interno].setValue(o))})}setearUnidadMedida(){var i,t,o;(null===(i=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE))||void 0===i?void 0:i.value)&&(null===(t=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA))||void 0===t||t.setValue({codigo_sap:""}),null===(o=this.itemForm.get(this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO))||void 0===o||o.setValue({codigo_sap:""}))}openDialogAnexosSolicitud(){this.matDialog.open(b.a,{disableClose:!0,data:{id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE},width:"50%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.obtenerUrlSolicitud()})}openDialogAnexosMaterial(i){this.matDialog.open(I.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:this.ROL_SOLICITANTE}}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.getListadoMateriales(),this.obtenerUrlMaterial(this.itemMaterialOld.id_material_solicitud)})}selectOpenAnexosMaterial(){this.openDialogAnexosMaterial({id_material_solicitud:this.itemMaterialOld.id_material_solicitud})}onSelectEquivalencias(){this.openDialogEquivalencias({id_material_solicitud:this.itemMaterialOld.id_material_solicitud})}openDialogEquivalencias(i){this.matDialog.open(d.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:this.ROL_SOLICITANTE},width:"80%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("se cerr\xf3 el dialog de equivalencias"),this.getListadoMateriales(),this.obtenerEquivalencias(this.itemMaterialOld.id_material_solicitud)})}longitudTransformar(i){return parseInt(i)}existeDenominacionCentroAlmacenSAP(){var i,t,o,e,a;return Object(c.a)(this,void 0,void 0,function*(){let c=!1,n=null===(i=this.filtroForm.get("codigoModelo"))||void 0===i?void 0:i.value,s=(null===(t=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===t?void 0:t.value)?null===(o=this.itemForm.get(this.CODIGO_INTERNO_CENTRO))||void 0===o?void 0:o.value:"",r=(null===(e=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===e?void 0:e.value)?null===(a=this.itemForm.get(this.CODIGO_INTERNO_ALMACEN))||void 0===a?void 0:a.value:"";return this.solicitudService.getMaterialCodigoModelo({material:{codigo:n,centro:s,almacen:r}}).then(i=>i.length>0?(c=!0,c):(c=!1,c)),c})}agregarMaterialAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){let e=(null===(t=this.filtroForm.get("codigoModelo"))||void 0===t?void 0:t.value)?null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value:"";{let t=yield this.mapearCamposMaterial(i);this.solicitudService.agregarMaterialAmpliacion(this.id_solicitud,{material:{campos:t,[this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]:e}}).then(i=>{console.log("resppuesta al agregar material amplicacion--\x3e"+JSON.stringify(i));let t=this.MENSAJE_AGREGAR_MATERIAL;0==i.resultado?(t=i.mensaje,this.openSnackBarError(t,"","mat-primary")):this._snack.open(t,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales(),this.limpiarMaterial()})}})}actualizarMaterialAmpliacion(i){var t,o;return Object(c.a)(this,void 0,void 0,function*(){let e=(null===(t=this.filtroForm.get("codigoModelo"))||void 0===t?void 0:t.value)?null===(o=this.filtroForm.get("codigoModelo"))||void 0===o?void 0:o.value:"";{let t=this.mapearCamposMaterialActualizar(i,this.itemMaterialOld);this.solicitudService.actualizarMaterialAmpliacion(this.id_solicitud,this.itemMaterialOld.id_material_solicitud,{material:{campos:t,[this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]:e}}).then(i=>{console.log("resppuesta al agregar material amplicacion--\x3e"+JSON.stringify(i));let t=this.MENSAJE_ACTUALIZAR_MATERIAL;0==i.resultado?(t=i.mensaje,this.openSnackBarError(t,"","mat-primary")):this._snack.open(t,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales(),this.limpiarMaterial()})}})}openDialogErrorSap(i){this.matDialog.open(T.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i&&console.log("se cerr\xf3 el dialog del error")})}obtenerUrlSolicitud(){this.solicitudService.obtenerUrlSolicitud(this.id_solicitud).then(i=>{this.existeAnexoSolicitud=1==i.resultado})}obtenerUrlMaterial(i){this.solicitudService.obtenerUrlMaterial(i).then(i=>{this.existeAnexoMaterial=1==i.resultado})}obtenerEquivalencias(i){this.equivalenciaService.getListaEquivalencias(i).then(i=>{this.existeEquivalencias=i.length>0})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(n.d),N.Nb(m.a),N.Nb(h.a),N.Nb(E.a),N.Nb(A.a),N.Nb(g.a),N.Nb(S.a),N.Nb(p.a),N.Nb(D.a),N.Nb(f.a),N.Nb(R.a),N.Nb(a.a),N.Nb(v.b),N.Nb(a.b),N.Nb(L.a),N.Nb(M.a),N.Nb(P.a),N.Nb(G.a),N.Nb(B),N.Nb(k.a),N.Nb(F.a),N.Nb(V.a),N.Nb(x.a),N.Nb(J.a),N.Nb(y.a),N.Nb(j.a),N.Nb(a.a),N.Nb(z.a))},i.\u0275cmp=N.Hb({type:i,selectors:[["app-editar-solicitud-ptc"]],decls:89,vars:26,consts:[[1,"contentmain"],[1,"breadcumb"],["routerLink","/dashboard/principal"],["routerLink","#"],["class","bread-item",4,"ngIf"],[1,"bread-item"],["colspan","6",1,"derecha"],["mat-raised-button","","color","accent","type","button",3,"click"],["class","cuadro-solicitud",4,"ngIf"],["class","cabecera",4,"ngIf"],[1,"cuadro-separador"],[1,"materiales-titulo"],["cols","2","rowHeight","80px"],[1,"izquierda"],[1,"derecha"],["mat-mini-fab","","matTooltip","Agregar Material",1,"boton-secundario",3,"disabled","click"],["mat-mini-fab","","matTooltip","Guardar Material",1,"boton-secundario",3,"disabled","click"],["mat-mini-fab","","matTooltip","Limpiar Material",1,"boton-secundario",3,"click"],[1,"generador"],[3,"formGroup"],["cols","10","rowHeight","85px"],["colspan","5"],["appearance","outline"],[4,"ngIf"],["matInput","","placeholder","Codigo Material","formControlName","codigoModelo"],[3,"hidden"],["colspan","1",4,"ngIf"],["colspan","4"],["class","file-upload",4,"ngIf"],[1,"camposSolicitud"],[1,"form-detail",3,"formGroup"],["materialForm","ngForm"],["rowHeight","80px",3,"cols"],[4,"ngFor","ngForOf"],[1,"content-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","anexos"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","equivalencias"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"cuadro-solicitud"],[1,"labelSolicitud"],[1,"numeroSolicitud"],[1,"cabecera"],[3,"formGroup","ngSubmit"],["cabeceraForm","ngForm"],["cols","10","rowHeight","75px"],["formControlName","selectecLineaNegocio",3,"compareWith","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Descripci\xf3n corta","formControlName","descripcion_corta"],["colspan","2"],["mat-raised-button","","color","accent","type","button","matTooltip","anular solicitud",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"disabled","click"],["mat-raised-button","","color","accent","type","button",3,"click",4,"ngIf"],["type","file","formControlName","files",1,"file-input",3,"change"],["fileUpload",""],[1,"file-upload"],[1,"fontLabel"],["mat-mini-fab","","color","accent","type","button","class","upload-btn","matTooltip","Cargar Anexo",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button","class","upload-btn","matTooltip","Cargar Anexo",3,"click",4,"ngIf"],[3,"value"],["mat-raised-button","","color","accent","type","button","matTooltip","anular solicitud",3,"disabled","click"],["mat-mini-fab","","color","accent","type","button","matTooltip","Cargar Anexo",1,"upload-btn",3,"click"],["mat-mini-fab","","color","primary","type","button","matTooltip","Cargar Anexo",1,"upload-btn",3,"click"],["colspan","1"],["mat-raised-button","","color","accent","name","btnLLenardatos",3,"disabled","click"],["mat-mini-fab","","color","accent","type","button","class","boton-secundario","matTooltip","Ver Tabla de Equivalencias",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button","class","boton-secundario","matTooltip","Ver Tabla de Equivalencias",3,"click",4,"ngIf"],["mat-mini-fab","","type","button","class","boton-secundario","matTooltip","Ver Lista Anexos Material",3,"click",4,"ngIf"],["mat-mini-fab","","type","button","color","primary","matTooltip","Ver Lista Anexos Material",3,"click",4,"ngIf"],["mat-mini-fab","","color","accent","type","button","matTooltip","Ver Tabla de Equivalencias",1,"boton-secundario",3,"click"],["mat-mini-fab","","color","primary","type","button","matTooltip","Ver Tabla de Equivalencias",1,"boton-secundario",3,"click"],["mat-mini-fab","","type","button","matTooltip","Ver Lista Anexos Material",1,"boton-secundario",3,"click"],["mat-mini-fab","","type","button","color","primary","matTooltip","Ver Lista Anexos Material",3,"click"],["class","example-form-field","appearance","outline",4,"ngIf"],["appearance","outline",1,"example-form-field"],["class","label-error",4,"ngIf"],["matInput","","type","text",3,"maxlength","formControlName","ngModelChange"],["input",""],["align","end"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"label-error"],["matInput","","type","text",3,"maxlength","formControlName"],["matInput","","type","number",3,"formControlName"],["matInput","","type","text",3,"formControlName"],[3,"formControlName","compareWith","selectionChange"],[3,"formControlName","compareWith"],[3,"value",4,"ngIf"],["multiple","",3,"formControlName","compareWith"],[3,"formControlName"],["type","text","matInput","",3,"maxlength","matAutocomplete","formControlName"],[3,"displayWith"],["auto","matAutocomplete"],[3,"matColumnDef"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","accent","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","type","button",3,"click"],["mat-icon-button","","color","primary","type","button",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,t){if(1&i){const i=N.Ub();N.Tb(0,"div",0),N.Tb(1,"div",1),N.Tb(2,"a",2),N.Tb(3,"mat-icon"),N.Bc(4,"home"),N.Sb(),N.Sb(),N.Tb(5,"a",3),N.Ac(6,Jo,2,0,"span",4),N.Sb(),N.Tb(7,"a",3),N.Ac(8,yo,2,0,"span",4),N.Sb(),N.Tb(9,"a",3),N.Ac(10,jo,2,0,"span",4),N.Sb(),N.Tb(11,"a",3),N.Ac(12,zo,2,0,"span",4),N.Sb(),N.Tb(13,"a",3),N.Ac(14,qo,2,0,"span",4),N.Sb(),N.Tb(15,"a",3),N.Ac(16,$o,2,0,"span",4),N.Sb(),N.Tb(17,"a",3),N.Ac(18,Xo,2,0,"span",4),N.Sb(),N.Tb(19,"a",3),N.Ac(20,wo,2,0,"span",4),N.Sb(),N.Tb(21,"a",3),N.Tb(22,"span",5),N.Bc(23," / Editar Solicitud "),N.Sb(),N.Sb(),N.Tb(24,"div",6),N.Tb(25,"button",7),N.ac("click",function(){return t.seguimientoSolicitud()}),N.Bc(26,"Seguimiento"),N.Sb(),N.Bc(27," \xa0 "),N.Tb(28,"button",7),N.ac("click",function(){return t.flujoSolicitud()}),N.Bc(29,"Flujo"),N.Sb(),N.Ac(30,Ho,11,2,"div",8),N.Sb(),N.Sb(),N.Ob(31,"br"),N.Ac(32,ee,51,15,"div",9),N.Tb(33,"div",10),N.Tb(34,"div",11),N.Tb(35,"mat-grid-list",12),N.Tb(36,"mat-grid-tile"),N.Tb(37,"div",13),N.Bc(38," Materiales "),N.Sb(),N.Sb(),N.Tb(39,"mat-grid-tile"),N.Tb(40,"div",14),N.Tb(41,"button",15),N.ac("click",function(){N.tc(i);const o=N.rc(72);return t.existeDenominacionSapYBdAdd(o.value)}),N.Tb(42,"mat-icon"),N.Bc(43,"add"),N.Sb(),N.Sb(),N.Bc(44,"\xa0 "),N.Tb(45,"button",16),N.ac("click",function(){N.tc(i);const o=N.rc(72);return t.existeDenominacionSapYBdUpdate(o.value)}),N.Tb(46,"mat-icon"),N.Bc(47,"save"),N.Sb(),N.Sb(),N.Bc(48,"\xa0 "),N.Tb(49,"button",17),N.ac("click",function(){return t.limpiarMaterial()}),N.Tb(50,"mat-icon"),N.Bc(51,"clear"),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(52,"div",18),N.Tb(53,"form",19),N.Tb(54,"mat-grid-list",20),N.Tb(55,"mat-grid-tile",21),N.Tb(56,"div",13),N.Tb(57,"mat-form-field",22),N.Ac(58,ae,2,0,"mat-label",23),N.Ac(59,ce,2,0,"mat-label",23),N.Ob(60,"input",24),N.Tb(61,"mat-hint"),N.Tb(62,"mat-error",25),N.Bc(63),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Ac(64,ne,4,1,"mat-grid-tile",26),N.Tb(65,"mat-grid-tile",27),N.Tb(66,"div",14),N.Ac(67,_e,6,4,"div",28),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Ob(68,"mat-divider"),N.Tb(69,"div",29),N.Bc(70," (*) Datos Obligatorios "),N.Tb(71,"form",30,31),N.Tb(73,"mat-grid-list",32),N.Ac(74,Qa,38,37,"mat-grid-tile",33),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(75,"div",34),N.Tb(76,"table",35),N.Ac(77,nc,3,3,"ng-container",36),N.Rb(78,37),N.Ac(79,sc,2,0,"th",38),N.Ac(80,Oc,3,2,"td",39),N.Qb(),N.Rb(81,40),N.Ac(82,_c,2,0,"th",38),N.Ac(83,bc,3,2,"td",39),N.Qb(),N.Rb(84,41),N.Ac(85,uc,2,0,"th",38),N.Ac(86,Cc,7,0,"td",39),N.Qb(),N.Ac(87,Tc,1,0,"tr",42),N.Ac(88,Nc,1,0,"tr",43),N.Sb(),N.Sb(),N.Sb()}2&i&&(N.Cb(6),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_PT),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_RS),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_MP),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_AO),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_AMPLIACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_MODIFICACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_BLOQUEO),N.Cb(10),N.kc("ngIf",t.cabeceraSolicitud&&t.listadoMateriales&&t.estadoFlujoActualSolicitud),N.Cb(2),N.kc("ngIf",t.cabeceraSolicitud&&t.listadoMateriales),N.Cb(9),N.kc("disabled",t.itemForm.invalid||!t.correlativo||t.btnAdd),N.Cb(4),N.kc("disabled",t.itemForm.invalid||null==t.itemMaterialOld),N.Cb(8),N.kc("formGroup",t.filtroForm),N.Cb(5),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(1),N.kc("ngIf",t.TIPO_SOLICITUD!=t.TIPO_SOLICITUD_CREACION),N.Cb(3),N.kc("hidden",!t.formErrors.codigoModelo),N.Cb(1),N.Dc(" ",t.formErrors.codigoModelo," "),N.Cb(1),N.kc("ngIf",t.TIPO_SOLICITUD!=t.TIPO_SOLICITUD_CREACION),N.Cb(3),N.kc("ngIf",t.activarEditarMaterial),N.Cb(4),N.kc("formGroup",t.itemForm),N.Cb(2),N.mc("cols","",t.SOLICITUD_DETALLE_NUMERO_COLUMNAS," "),N.Cb(1),N.kc("ngForOf",t.listadoCampoReglas),N.Cb(2),N.kc("dataSource",t.listadoMateriales),N.Cb(1),N.kc("ngForOf",t.listadoCampoReglas),N.Cb(10),N.kc("matHeaderRowDef",t.displayedColumns),N.Cb(1),N.kc("matRowDefColumns",t.displayedColumns))},directives:[a.c,q.a,e.m,Q.a,$.a,$.c,Z.a,n.w,n.p,n.h,X.c,H.b,n.c,n.o,n.g,X.f,X.b,W.a,e.l,K.j,K.c,K.e,K.b,K.g,K.i,X.g,w.a,Y.l,n.k,X.h,n.s,ii.a,ti.c,ti.a,K.d,K.a,K.f,K.h],pipes:[e.b],styles:[".camposSolicitud[_ngcontent-%COMP%]{padding-top:20px}.camposSolicitud[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{left:5px!important;position:absolute!important;width:90%}.file-input[_ngcontent-%COMP%]{display:none}.statusCharged[_ngcontent-%COMP%]{font-size:7pt;color:green}.contentmain[_ngcontent-%COMP%]{padding-left:24px;padding-bottom:40px;width:97%!important}"]}),i})(),hc=(()=>{class i{constructor(i){this.resourceService=i}getListarEstado(){let i=[];return new Promise((t,o)=>{this.resourceService.getResource("/estadoSolicitud/listar").toPromise().then(o=>{o&&0!==Object.keys(o).length?(i=o,t(i)):(console.log("no estados encontradas..."),t([]))}).catch(i=>{console.log("error status="+i.status+", msg="+i.message),o(i)})})}}return i.\u0275fac=function(t){return new(t||i)(N.Xb(U.a))},i.\u0275prov=N.Jb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ec=o("B21Q"),Ac=o("iadO"),gc=o("8LU1"),Sc=o("XNiG");function pc(i,t){if(1&i&&(N.Tb(0,"mat-option",19),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i," ")}}function Dc(i,t){if(1&i){const i=N.Ub();N.Tb(0,"mat-form-field",16),N.Tb(1,"mat-select",17),N.ac("selectionChange",function(t){return N.tc(i),N.ec(2)._changePageSize(t.value)}),N.Ac(2,pc,2,2,"mat-option",18),N.Sb(),N.Sb()}if(2&i){const i=N.ec(2);N.kc("appearance",i._formFieldAppearance)("color",i.color),N.Cb(1),N.kc("value",i.pageSize)("disabled",i.disabled)("aria-label",i._intl.itemsPerPageLabel),N.Cb(1),N.kc("ngForOf",i._displayedPageSizeOptions)}}function fc(i,t){if(1&i&&(N.Tb(0,"div",20),N.Bc(1),N.Sb()),2&i){const i=N.ec(2);N.Cb(1),N.Cc(i.pageSize)}}function Rc(i,t){if(1&i&&(N.Tb(0,"div",12),N.Tb(1,"div",13),N.Bc(2),N.Sb(),N.Ac(3,Dc,3,6,"mat-form-field",14),N.Ac(4,fc,2,1,"div",15),N.Sb()),2&i){const i=N.ec();N.Cb(2),N.Dc(" ",i._intl.itemsPerPageLabel," "),N.Cb(1),N.kc("ngIf",i._displayedPageSizeOptions.length>1),N.Cb(1),N.kc("ngIf",i._displayedPageSizeOptions.length<=1)}}function vc(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",21),N.ac("click",function(){return N.tc(i),N.ec().firstPage()}),N.dc(),N.Tb(1,"svg",7),N.Ob(2,"path",22),N.Sb(),N.Sb()}if(2&i){const i=N.ec();N.kc("matTooltip",i._intl.firstPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),N.Db("aria-label",i._intl.firstPageLabel)}}function Lc(i,t){if(1&i){const i=N.Ub();N.dc(),N.cc(),N.Tb(0,"button",23),N.ac("click",function(){return N.tc(i),N.ec().lastPage()}),N.dc(),N.Tb(1,"svg",7),N.Ob(2,"path",24),N.Sb(),N.Sb()}if(2&i){const i=N.ec();N.kc("matTooltip",i._intl.lastPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),N.Db("aria-label",i._intl.lastPageLabel)}}let Mc=(()=>{class i{constructor(){this.changes=new Sc.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(i,t,o)=>{if(0==o||0==t)return`0 of ${o}`;const e=i*t;return`${e+1} \u2013 ${e<(o=Math.max(o,0))?Math.min(e+t,o):e+t} of ${o}`}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Object(N.Jb)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const Pc={provide:Mc,deps:[[new N.C,new N.L,Mc]],useFactory:function(i){return i||new Mc}},Gc=new N.s("MAT_PAGINATOR_DEFAULT_OPTIONS");class Uc{}const Bc=Object(Y.x)(Object(Y.z)(Uc));let kc=(()=>{class i extends Bc{constructor(i,t,o){if(super(),this._intl=i,this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new N.o,this._intlChanges=i.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){const{pageSize:i,pageSizeOptions:t,hidePageSize:e,showFirstLastButtons:a}=o;null!=i&&(this._pageSize=i),null!=t&&(this._pageSizeOptions=t),null!=e&&(this._hidePageSize=e),null!=a&&(this._showFirstLastButtons=a)}}get pageIndex(){return this._pageIndex}set pageIndex(i){this._pageIndex=Math.max(Object(gc.f)(i),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(i){this._length=Object(gc.f)(i),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(i){this._pageSize=Math.max(Object(gc.f)(i),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(i){this._pageSizeOptions=(i||[]).map(i=>Object(gc.f)(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(i){this._hidePageSize=Object(gc.c)(i)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(i){this._showFirstLastButtons=Object(gc.c)(i)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const i=this.pageIndex;this.pageIndex++,this._emitPageEvent(i)}previousPage(){if(!this.hasPreviousPage())return;const i=this.pageIndex;this.pageIndex--,this._emitPageEvent(i)}firstPage(){if(!this.hasPreviousPage())return;const i=this.pageIndex;this.pageIndex=0,this._emitPageEvent(i)}lastPage(){if(!this.hasNextPage())return;const i=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(i)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const i=this.getNumberOfPages()-1;return this.pageIndex<i&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(i){const t=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/i)||0,this.pageSize=i,this._emitPageEvent(t)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((i,t)=>i-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(i){this.page.emit({previousPageIndex:i,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(Mc),N.Nb(N.h),N.Nb(void 0))},i.\u0275dir=N.Ib({type:i,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[N.zb]}),i})(),Fc=(()=>{class i extends kc{constructor(i,t,o){super(i,t,o),o&&null!=o.formFieldAppearance&&(this._formFieldAppearance=o.formFieldAppearance)}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(Mc),N.Nb(N.h),N.Nb(Gc,8))},i.\u0275cmp=N.Hb({type:i,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[N.zb],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,t){1&i&&(N.Tb(0,"div",0),N.Tb(1,"div",1),N.Ac(2,Rc,5,3,"div",2),N.Tb(3,"div",3),N.Tb(4,"div",4),N.Bc(5),N.Sb(),N.Ac(6,vc,3,5,"button",5),N.Tb(7,"button",6),N.ac("click",function(){return t.previousPage()}),N.dc(),N.Tb(8,"svg",7),N.Ob(9,"path",8),N.Sb(),N.Sb(),N.cc(),N.Tb(10,"button",9),N.ac("click",function(){return t.nextPage()}),N.dc(),N.Tb(11,"svg",7),N.Ob(12,"path",10),N.Sb(),N.Sb(),N.Ac(13,Lc,3,5,"button",11),N.Sb(),N.Sb(),N.Sb()),2&i&&(N.Cb(2),N.kc("ngIf",!t.hidePageSize),N.Cb(3),N.Dc(" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),N.Cb(1),N.kc("ngIf",t.showFirstLastButtons),N.Cb(1),N.kc("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),N.Db("aria-label",t._intl.previousPageLabel),N.Cb(3),N.kc("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),N.Db("aria-label",t._intl.nextPageLabel),N.Cb(3),N.kc("ngIf",t.showFirstLastButtons))},directives:[e.m,Q.a,Z.a,X.c,w.a,e.l,Y.l],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),i})(),Vc=(()=>{class i{}return i.\u0275mod=N.Lb({type:i}),i.\u0275inj=N.Kb({factory:function(t){return new(t||i)},providers:[Pc],imports:[[e.c,Q.b,w.b,Z.b,Y.h]]}),i})();function xc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Productos terminados "),N.Sb())}function Jc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Repuestos y Suministros "),N.Sb())}function yc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Materias Primas "),N.Sb())}function jc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Activos y Otros "),N.Sb())}function zc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Creaci\xf3n "),N.Sb())}function qc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Ampliaci\xf3n "),N.Sb())}function $c(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Modificaci\xf3n "),N.Sb())}function Xc(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Bloqueo "),N.Sb())}function wc(i,t){if(1&i&&(N.Tb(0,"mat-option",35),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.codigo_sap," ")}}function Hc(i,t){if(1&i&&(N.Tb(0,"mat-option",35),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.nombre," / ",i.sociedad.codigo_sap," ")}}function Qc(i,t){if(1&i&&(N.Tb(0,"mat-option",35),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc("",i.nombre," ")}}function Zc(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," C\xf3digo Solicitud "),N.Sb())}function Wc(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.correlativo," ")}}function Kc(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Descripci\xf3n Corta "),N.Sb())}function Yc(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.descripcion_corta," ")}}function tn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Fecha y Hora "),N.Sb())}function on(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.fc(2,"date"),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",N.hc(2,1,i.fecha_creacion,"dd/MM/yyyy")," ")}}function en(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Creador "),N.Sb())}function an(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.creado_por.nombre," ")}}function cn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Estado "),N.Sb())}function nn(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.estadoSolicitud.nombre," ")}}function sn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Acciones "),N.Sb())}function rn(i,t){if(1&i){const i=N.Ub();N.Tb(0,"td",37),N.Tb(1,"button",38,39),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().verDetalleSolicitud(o)}),N.Bc(3," Ver "),N.Sb(),N.Sb()}}function ln(i,t){1&i&&N.Ob(0,"tr",40)}function On(i,t){1&i&&N.Ob(0,"tr",41)}let _n=(()=>{class i{constructor(i,t,o,e,a,c,n,r){this.router=i,this.formBuilder=t,this.formValidatorService=o,this.solicitudService=e,this.nivel3Service=a,this.estadoSolicitudService=c,this.sociedadService=n,this.rutaActiva=r,this.resultsLength=0,this.itemPerPage=s.a.CANTIDAD_FILAS,this.page=1,this.ESCENARIO_NIVEL1="",this.ESCENARIO_NIVEL1_PT=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_RS=s.a.ESCENARIO_NIVEL1_REPUESTOS_SUMINISTROS,this.ESCENARIO_NIVEL1_MP=s.a.ESCENARIO_NIVEL1_MATERIAS_PRIMAS,this.ESCENARIO_NIVEL1_AO=s.a.ESCENARIO_NIVEL1_ACTIVOS_OTROS,this.ESTADO_SOLICITUD_EN_SOLICITANTE=s.a.ESTADO_SOLICITUD_EN_SOLICITANTE,this.ESTADO_SOLICITUD_EN_SUPERVISION=s.a.ESTADO_SOLICITUD_EN_SUPERVISION,this.ESTADO_SOLICITUD_EN_CALIDAD=s.a.ESTADO_SOLICITUD_EN_CALIDAD,this.ESTADO_SOLICITUD_EN_COSTOS=s.a.ESTADO_SOLICITUD_EN_COSTOS,this.ESTADO_SOLICITUD_EN_CONTROL_GESTION=s.a.ESTADO_SOLICITUD_EN_CONTROL_GESTION,this.ESTADO_SOLICITUD_EN_COMERCIAL=s.a.ESTADO_SOLICITUD_EN_COMERCIAL,this.ESTADO_SOLICITUD_EN_ADMINISTRACION=s.a.ESTADO_SOLICITUD_EN_ADMINISTRACION,this.ESTADO_SOLICITUD_EN_SAP=s.a.ESTADO_SOLICITUD_EN_SAP,this.ESTADO_SOLICITUD_FINALIZADO=s.a.ESTADO_SOLICITUD_FINALIZADO,this.displayedColumns=["codigo","descripcion_corta","fecha_hora","creador","estado","id"],this.listadoSolicitudes=[],this.listadoEstado=[],this.listadoAreas=[],this.listadoLineaNegocio=[],this.submitted=!1,this.listadoSociedades=[],this.TIPO_SOLICITUD=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_CREACION=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_AMPLIACION=s.a.TIPO_SOLICITUD_AMPLIACION,this.TIPO_SOLICITUD_MODIFICACION=s.a.TIPO_SOLICITUD_MODIFICACION,this.TIPO_SOLICITUD_BLOQUEO=s.a.TIPO_SOLICITUD_BLOQUEO,this.ESCENARIO_NIVEL1=this.rutaActiva.snapshot.params.nivelEscenario,this.TIPO_SOLICITUD=parseInt(this.rutaActiva.snapshot.params.tipoSolicitud)}getListarSociedades(){return Object(c.a)(this,void 0,void 0,function*(){this.listadoSociedades=yield this.sociedadService.getListarSociedades()})}ngOnInit(){this.initForm(),this.getListarSociedades(),this.getListarEstadoSolicitud()}initForm(){this.filtroForm=this.formBuilder.group({sociedad:[""],selectecLineaNegocio:[""],fecha_inicio:[""],fecha_fin:[""],estado:[""]})}getListarNivel3Solicitud(){this.nivel3Service.getListarNivel3SolicitudPorUsuario({id_rol:s.a.ROL_SOLICITANTE,id_tipo_solicitud:this.TIPO_SOLICITUD,codigo_escenario_nivel1:this.ESCENARIO_NIVEL1}).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})}getListarNivel3xSociedad(){console.log("antes");let i=this.filtroForm.get("sociedad").value;console.log(i.id),this.nivel3Service.getListarNivel3SolicitudPorIdSociedad(i.id).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})}getListarEstadoSolicitud(){this.estadoSolicitudService.getListarEstado().then(i=>{1==i.resultado&&(this.listadoEstado=i.lista)})}filtrarSolicitud(){let i=this.filtroForm.get("estado").value,t=this.filtroForm.get("selectecLineaNegocio").value,o=this.filtroForm.get("fecha_inicio").value,e=this.filtroForm.get("fecha_fin").value,a={id_escenario_nivel1:""==this.ESCENARIO_NIVEL1?null:this.ESCENARIO_NIVEL1,id_estado_solicitud:""==i?null:i.id,id_escenario_nivel3:""==t?null:t.id,id_tipo_solicitud:this.TIPO_SOLICITUD,fecha_inicio:""==o?null:o,fecha_fin:""==e?null:e,cantidad_filas:this.itemPerPage,pagina:this.page};this.solicitudService.contarMisSolicitudes(a).then(i=>{this.resultsLength=i.cantidad,console.log("cantidad---\x3e"+JSON.stringify(this.resultsLength)),this.solicitudService.buscarMisSolicitudes(a).then(i=>{console.log("listado de solicitudes--\x3e"+JSON.stringify(i.lista)),this.listadoSolicitudes=i.lista})})}verDetalleSolicitud(i){console.log(JSON.stringify(i)),i.estadoSolicitud&&this.ESTADO_SOLICITUD_EN_SOLICITANTE==i.estadoSolicitud.id&&this.router.navigate(["/shared",this.TIPO_SOLICITUD,"verSolicitud",i.id]),i.estadoSolicitud&&this.ESTADO_SOLICITUD_EN_SUPERVISION==i.estadoSolicitud.id&&this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"verSolicitud",i.id]),!i.estadoSolicitud||i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_CALIDAD&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_COSTOS&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_CONTROL_GESTION&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_COMERCIAL&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_ADMINISTRACION&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_SAP||this.router.navigate(["/shared",this.TIPO_SOLICITUD,"verSolicitud",i.id]),i.estadoSolicitud&&this.ESTADO_SOLICITUD_FINALIZADO==i.estadoSolicitud.id&&this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"verSolicitud",i.id])}onPaginateChange(i,t){this.page=t.pageIndex+1;let o=this.filtroForm.get("estado").value,e=this.filtroForm.get("selectecLineaNegocio").value,a=this.filtroForm.get("fecha_inicio").value,c=this.filtroForm.get("fecha_fin").value,n={id_estado_solicitud:""==o?null:o.id,id_escenario_nivel3:""==e?null:e.id,id_tipo_solicitud:this.TIPO_SOLICITUD,fecha_inicio:""==a?null:a,fecha_fin:""==c?null:c,cantidad_filas:this.itemPerPage,pagina:this.page};console.log("numero de pagina--\x3e"+this.page),this.solicitudService.buscarMisSolicitudes(n).then(i=>{this.listadoSolicitudes=i.lista})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(a.b),N.Nb(n.d),N.Nb(m.a),N.Nb(h.a),N.Nb(A.a),N.Nb(hc),N.Nb(Ec.a),N.Nb(a.a))},i.\u0275cmp=N.Hb({type:i,selectors:[["app-listar-solicitud-ptc"]],decls:94,vars:22,consts:[[1,"contentmain"],[1,"breadcumb"],["routerLink","/dashboard/principal"],["routerLink","#"],["class","bread-item",4,"ngIf"],[1,"bread-item"],[1,"filtros"],[3,"formGroup","ngSubmit"],["cols","8","rowHeight","80px"],[1,"izquierda"],["appearance","outline"],["formControlName","sociedad","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","selectecLineaNegocio"],["matInput","","formControlName","fecha_inicio",3,"matDatepicker"],["matSuffix","",3,"for"],["color","primary"],["picker1",""],["matInput","","formControlName","fecha_fin",3,"matDatepicker"],["picker2",""],["formControlName","estado"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],[1,"content-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","descripcion_corta"],["matColumnDef","fecha_hora"],["matColumnDef","creador"],["matColumnDef","estado"],["matColumnDef","id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-flat-button","","color","accent",3,"click"],["asignar_rol",""],["mat-header-row",""],["mat-row",""]],template:function(i,t){if(1&i&&(N.Tb(0,"div",0),N.Tb(1,"div",1),N.Tb(2,"a",2),N.Tb(3,"mat-icon"),N.Bc(4,"home"),N.Sb(),N.Sb(),N.Tb(5,"a",3),N.Ac(6,xc,2,0,"span",4),N.Sb(),N.Tb(7,"a",3),N.Ac(8,Jc,2,0,"span",4),N.Sb(),N.Tb(9,"a",3),N.Ac(10,yc,2,0,"span",4),N.Sb(),N.Tb(11,"a",3),N.Ac(12,jc,2,0,"span",4),N.Sb(),N.Tb(13,"a",3),N.Ac(14,zc,2,0,"span",4),N.Sb(),N.Tb(15,"a",3),N.Ac(16,qc,2,0,"span",4),N.Sb(),N.Tb(17,"a",3),N.Ac(18,$c,2,0,"span",4),N.Sb(),N.Tb(19,"a",3),N.Ac(20,Xc,2,0,"span",4),N.Sb(),N.Tb(21,"a",3),N.Tb(22,"span",5),N.Bc(23," / Consulta de Solicitudes. "),N.Sb(),N.Sb(),N.Sb(),N.Ob(24,"br"),N.Tb(25,"div",6),N.Tb(26,"form",7),N.ac("ngSubmit",function(){return t.filtrarSolicitud()}),N.Tb(27,"mat-grid-list",8),N.Tb(28,"mat-grid-tile"),N.Tb(29,"div",9),N.Tb(30,"mat-form-field",10),N.Tb(31,"mat-label"),N.Bc(32,"Sociedades"),N.Sb(),N.Tb(33,"mat-select",11),N.ac("selectionChange",function(){return t.getListarNivel3xSociedad()}),N.Ac(34,wc,2,2,"mat-option",12),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(35,"mat-grid-tile"),N.Tb(36,"div",9),N.Tb(37,"mat-form-field",10),N.Tb(38,"mat-label"),N.Bc(39,"Linea de Negocio"),N.Sb(),N.Tb(40,"mat-select",13),N.Ac(41,Hc,2,3,"mat-option",12),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(42,"mat-grid-tile"),N.Tb(43,"div",9),N.Tb(44,"mat-form-field",10),N.Tb(45,"mat-label"),N.Bc(46,"Fecha Inicio"),N.Sb(),N.Ob(47,"input",14),N.Ob(48,"mat-datepicker-toggle",15),N.Ob(49,"mat-datepicker",16,17),N.Sb(),N.Sb(),N.Sb(),N.Tb(51,"mat-grid-tile"),N.Tb(52,"div",9),N.Tb(53,"mat-form-field",10),N.Tb(54,"mat-label"),N.Bc(55,"Fecha Fin"),N.Sb(),N.Ob(56,"input",18),N.Ob(57,"mat-datepicker-toggle",15),N.Ob(58,"mat-datepicker",16,19),N.Sb(),N.Sb(),N.Sb(),N.Tb(60,"mat-grid-tile"),N.Tb(61,"div",9),N.Tb(62,"mat-form-field",10),N.Tb(63,"mat-label"),N.Bc(64,"Estado"),N.Sb(),N.Tb(65,"mat-select",20),N.Ac(66,Qc,2,2,"mat-option",12),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(67,"mat-grid-tile"),N.Tb(68,"div",9),N.Tb(69,"button",21),N.Bc(70,"Buscar"),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(71,"div",22),N.Tb(72,"table",23),N.Rb(73,24),N.Ac(74,Zc,2,0,"th",25),N.Ac(75,Wc,2,1,"td",26),N.Qb(),N.Rb(76,27),N.Ac(77,Kc,2,0,"th",25),N.Ac(78,Yc,2,1,"td",26),N.Qb(),N.Rb(79,28),N.Ac(80,tn,2,0,"th",25),N.Ac(81,on,3,4,"td",26),N.Qb(),N.Rb(82,29),N.Ac(83,en,2,0,"th",25),N.Ac(84,an,2,1,"td",26),N.Qb(),N.Rb(85,30),N.Ac(86,cn,2,0,"th",25),N.Ac(87,nn,2,1,"td",26),N.Qb(),N.Rb(88,31),N.Ac(89,sn,2,0,"th",25),N.Ac(90,rn,4,0,"td",26),N.Qb(),N.Ac(91,ln,1,0,"tr",32),N.Ac(92,On,1,0,"tr",33),N.Sb(),N.Tb(93,"mat-paginator",34),N.ac("page",function(i){return t.pageEvent=i,t.onPaginateChange(t.filtroForm.value,i)}),N.Sb(),N.Sb(),N.Sb()),2&i){const i=N.rc(50),o=N.rc(59);N.Cb(6),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_PT),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_RS),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_MP),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_AO),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_AMPLIACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_MODIFICACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_BLOQUEO),N.Cb(6),N.kc("formGroup",t.filtroForm),N.Cb(8),N.kc("ngForOf",t.listadoSociedades),N.Cb(7),N.kc("ngForOf",t.listadoLineaNegocio),N.Cb(6),N.kc("matDatepicker",i),N.Cb(1),N.kc("for",i),N.Cb(8),N.kc("matDatepicker",o),N.Cb(1),N.kc("for",o),N.Cb(9),N.kc("ngForOf",t.listadoEstado),N.Cb(3),N.kc("disabled",t.filtroForm.invalid),N.Cb(3),N.kc("dataSource",t.listadoSolicitudes),N.Cb(19),N.kc("matHeaderRowDef",t.displayedColumns),N.Cb(1),N.kc("matRowDefColumns",t.displayedColumns),N.Cb(1),N.kc("length",t.resultsLength)("pageSize",t.itemPerPage)}},directives:[a.c,q.a,e.m,n.w,n.p,n.h,$.a,$.c,X.c,X.g,w.a,n.o,n.g,n.u,e.l,H.b,n.c,Ac.b,Ac.d,X.h,Ac.a,Q.a,K.j,K.c,K.e,K.b,K.g,K.i,Fc,Y.l,K.d,K.a,K.f,K.h],pipes:[e.e],styles:["mat-form-field[_ngcontent-%COMP%]{width:70%}"]}),i})();function dn(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Productos terminados "),N.Sb())}function In(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Repuestos y Suministros "),N.Sb())}function bn(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Materias Primas "),N.Sb())}function un(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Activos y Otros "),N.Sb())}function Cn(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Creaci\xf3n "),N.Sb())}function Tn(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Ampliaci\xf3n "),N.Sb())}function Nn(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Modificaci\xf3n "),N.Sb())}function mn(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Bloqueo "),N.Sb())}function hn(i,t){if(1&i&&(N.Tb(0,"mat-option",35),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.nombre," / ",i.sociedad.codigo_sap," ")}}function En(i,t){if(1&i&&(N.Tb(0,"mat-option",35),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc("",i.nombre," ")}}function An(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," C\xf3digo Solicitud "),N.Sb())}function gn(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.correlativo," ")}}function Sn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Descripci\xf3n Corta "),N.Sb())}function pn(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.descripcion_corta," ")}}function Dn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Fecha y Hora "),N.Sb())}function fn(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.fc(2,"date"),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",N.hc(2,1,i.fecha_creacion,"dd/MM/yyyy")," ")}}function Rn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Creador "),N.Sb())}function vn(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.creado_por.nombre," ")}}function Ln(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Estado "),N.Sb())}function Mn(i,t){if(1&i&&(N.Tb(0,"td",37),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.Dc(" ",i.estadoSolicitud.nombre," ")}}function Pn(i,t){1&i&&(N.Tb(0,"th",36),N.Bc(1," Acciones "),N.Sb())}function Gn(i,t){1&i&&(N.Tb(0,"span"),N.Bc(1,"Ver"),N.Sb())}function Un(i,t){1&i&&(N.Tb(0,"span"),N.Bc(1,"Editar"),N.Sb())}function Bn(i,t){if(1&i){const i=N.Ub();N.Tb(0,"td",37),N.Tb(1,"button",38,39),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().verDetalleSolicitud(o)}),N.Ac(3,Gn,2,0,"span",40),N.Ac(4,Un,2,0,"span",40),N.Sb(),N.Sb()}if(2&i){const i=t.$implicit,o=N.ec();N.Cb(3),N.kc("ngIf",o.ESTADO_SOLICITUD_FINALIZADO==i.estadoSolicitud.id),N.Cb(1),N.kc("ngIf",o.ESTADO_SOLICITUD_FINALIZADO!=i.estadoSolicitud.id)}}function kn(i,t){1&i&&N.Ob(0,"tr",41)}function Fn(i,t){1&i&&N.Ob(0,"tr",42)}let Vn=(()=>{class i{constructor(i,t,o,e,a,c,n){this.router=i,this.formBuilder=t,this.formValidatorService=o,this.solicitudService=e,this.nivel3Service=a,this.estadoSolicitudService=c,this.rutaActiva=n,this.resultsLength=0,this.itemPerPage=s.a.CANTIDAD_FILAS,this.page=s.a.PAGINA_INICIO,this.TIPO_SOLICITUD=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_CREACION=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_AMPLIACION=s.a.TIPO_SOLICITUD_AMPLIACION,this.TIPO_SOLICITUD_MODIFICACION=s.a.TIPO_SOLICITUD_MODIFICACION,this.TIPO_SOLICITUD_BLOQUEO=s.a.TIPO_SOLICITUD_BLOQUEO,this.ESCENARIO_NIVEL1="",this.ESCENARIO_NIVEL1_PT=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_RS=s.a.ESCENARIO_NIVEL1_REPUESTOS_SUMINISTROS,this.ESCENARIO_NIVEL1_MP=s.a.ESCENARIO_NIVEL1_MATERIAS_PRIMAS,this.ESCENARIO_NIVEL1_AO=s.a.ESCENARIO_NIVEL1_ACTIVOS_OTROS,this.ESTADO_SOLICITUD_EN_SOLICITANTE=s.a.ESTADO_SOLICITUD_EN_SOLICITANTE,this.ESTADO_SOLICITUD_EN_SUPERVISION=s.a.ESTADO_SOLICITUD_EN_SUPERVISION,this.ESTADO_SOLICITUD_EN_CALIDAD=s.a.ESTADO_SOLICITUD_EN_CALIDAD,this.ESTADO_SOLICITUD_EN_COSTOS=s.a.ESTADO_SOLICITUD_EN_COSTOS,this.ESTADO_SOLICITUD_EN_CONTROL_GESTION=s.a.ESTADO_SOLICITUD_EN_CONTROL_GESTION,this.ESTADO_SOLICITUD_EN_COMERCIAL=s.a.ESTADO_SOLICITUD_EN_COMERCIAL,this.ESTADO_SOLICITUD_EN_ADMINISTRACION=s.a.ESTADO_SOLICITUD_EN_ADMINISTRACION,this.ESTADO_SOLICITUD_EN_SAP=s.a.ESTADO_SOLICITUD_EN_SAP,this.ESTADO_SOLICITUD_FINALIZADO=s.a.ESTADO_SOLICITUD_FINALIZADO,this.displayedColumns=["codigo","descripcion_corta","fecha_hora","creador","estado","id"],this.listadoSolicitudes=[],this.listadoEstado=[],this.listadoAreas=[],this.listadoLineaNegocio=[],this.submitted=!1,this.ESCENARIO_NIVEL1=this.rutaActiva.snapshot.params.nivelEscenario,this.TIPO_SOLICITUD=parseInt(this.rutaActiva.snapshot.params.tipoSolicitud),this.initForm()}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.getListarNivel3Solicitud(),this.getListarEstadoSolicitud(),yield this.filtrarSolicitud()})}initForm(){this.filtroForm=this.formBuilder.group({selectecLineaNegocio:[""],fecha_inicio:[""],fecha_fin:[""],estado:[""]})}getListarNivel3Solicitud(){console.log("nivel1--\x3e"+this.ESCENARIO_NIVEL1),this.nivel3Service.getListarNivel3SolicitudPorUsuario({id_rol:s.a.ROL_SOLICITANTE,id_tipo_solicitud:this.TIPO_SOLICITUD,codigo_escenario_nivel1:this.ESCENARIO_NIVEL1}).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})}getListarEstadoSolicitud(){this.estadoSolicitudService.getListarEstado().then(i=>{1==i.resultado&&(this.listadoEstado=i.lista)})}filtrarSolicitud(){return Object(c.a)(this,void 0,void 0,function*(){let i=this.filtroForm.get("estado").value,t=this.filtroForm.get("selectecLineaNegocio").value,o=this.filtroForm.get("fecha_inicio").value,e=this.filtroForm.get("fecha_fin").value,a={id_escenario_nivel1:""==this.ESCENARIO_NIVEL1?null:this.ESCENARIO_NIVEL1,id_estado_solicitud:""==i?null:i.id,id_escenario_nivel3:""==t?null:t.id,id_tipo_solicitud:this.TIPO_SOLICITUD,fecha_inicio:""==o?null:o,fecha_fin:""==e?null:e,cantidad_filas:this.itemPerPage,pagina:this.page};this.solicitudService.contarMisPendientes(a).then(i=>{this.resultsLength=i.cantidad,console.log("cantidad---\x3e"+JSON.stringify(this.resultsLength)),this.solicitudService.buscarMisPendientes(a).then(i=>Object(c.a)(this,void 0,void 0,function*(){console.log("listado de solicitudes--\x3e"+JSON.stringify(i.lista)),this.listadoSolicitudes=yield i.lista}))})})}verDetalleSolicitud(i){console.log(JSON.stringify(i)),i.estadoSolicitud&&this.ESTADO_SOLICITUD_EN_SOLICITANTE==i.estadoSolicitud.id&&this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"editarSolicitud",this.ESCENARIO_NIVEL1,i.id]),i.estadoSolicitud&&this.ESTADO_SOLICITUD_EN_SUPERVISION==i.estadoSolicitud.id&&this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"verSolicitud",this.ESCENARIO_NIVEL1,i.id]),!i.estadoSolicitud||i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_CALIDAD&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_COSTOS&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_CONTROL_GESTION&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_COMERCIAL&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_ADMINISTRACION&&i.estadoSolicitud.id!=this.ESTADO_SOLICITUD_EN_SAP||this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"editarSolicitudGestor",this.ESCENARIO_NIVEL1,i.id]),i.estadoSolicitud&&this.ESTADO_SOLICITUD_FINALIZADO==i.estadoSolicitud.id&&this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"verSolicitud",i.id])}onPaginateChange(i,t){this.page=t.pageIndex+1;let o=this.filtroForm.get("estado").value,e=this.filtroForm.get("selectecLineaNegocio").value,a=this.filtroForm.get("fecha_inicio").value,c=this.filtroForm.get("fecha_fin").value,n={id_estado_solicitud:""==o?null:o.id,id_escenario_nivel3:""==e?null:e.id,id_tipo_solicitud:this.TIPO_SOLICITUD,fecha_inicio:""==a?null:a,fecha_fin:""==c?null:c,cantidad_filas:this.itemPerPage,pagina:this.page};console.log("numero de pagina--\x3e"+this.page),this.solicitudService.buscarMisPendientes(n).then(i=>{this.listadoSolicitudes=i.lista})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(a.b),N.Nb(n.d),N.Nb(m.a),N.Nb(h.a),N.Nb(A.a),N.Nb(hc),N.Nb(a.a))},i.\u0275cmp=N.Hb({type:i,selectors:[["app-bandeja-solicitud-pendiente-ptc"]],decls:94,vars:22,consts:[[1,"contentmain"],[1,"breadcumb"],["routerLink","/dashboard/principal"],["routerLink","#"],["class","bread-item",4,"ngIf"],[1,"bread-item"],[1,"filtros"],[3,"formGroup","ngSubmit"],["cols","6","rowHeight","80px"],[1,"izquierda"],["appearance","outline"],["formControlName","selectecLineaNegocio"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","fecha_inicio",3,"matDatepicker"],["matSuffix","",3,"for"],["color","primary"],["picker1",""],["matInput","","formControlName","fecha_fin",3,"matDatepicker"],["picker2",""],["formControlName","estado"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],[1,"content-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","descripcion_corta"],["matColumnDef","fecha_hora"],["matColumnDef","creador"],["matColumnDef","estado"],["matColumnDef","id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","page"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-flat-button","","color","accent",3,"click"],["asignar_rol",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(i,t){if(1&i&&(N.Tb(0,"div",0),N.Tb(1,"div",1),N.Tb(2,"a",2),N.Tb(3,"mat-icon"),N.Bc(4,"home"),N.Sb(),N.Sb(),N.Tb(5,"a",3),N.Ac(6,dn,2,0,"span",4),N.Sb(),N.Tb(7,"a",3),N.Ac(8,In,2,0,"span",4),N.Sb(),N.Tb(9,"a",3),N.Ac(10,bn,2,0,"span",4),N.Sb(),N.Tb(11,"a",3),N.Ac(12,un,2,0,"span",4),N.Sb(),N.Tb(13,"a",3),N.Ac(14,Cn,2,0,"span",4),N.Sb(),N.Tb(15,"a",3),N.Ac(16,Tn,2,0,"span",4),N.Sb(),N.Tb(17,"a",3),N.Ac(18,Nn,2,0,"span",4),N.Sb(),N.Tb(19,"a",3),N.Ac(20,mn,2,0,"span",4),N.Sb(),N.Tb(21,"a",3),N.Tb(22,"span",5),N.Bc(23," / Mis Pendientes"),N.Sb(),N.Sb(),N.Sb(),N.Ob(24,"br"),N.Tb(25,"div",6),N.Tb(26,"form",7),N.ac("ngSubmit",function(){return t.filtrarSolicitud()}),N.Tb(27,"mat-grid-list",8),N.Tb(28,"mat-grid-tile"),N.Tb(29,"div",9),N.Tb(30,"mat-form-field",10),N.Tb(31,"mat-label"),N.Bc(32,"Linea de Negocio"),N.Sb(),N.Tb(33,"mat-select",11),N.Tb(34,"mat-option",12),N.Bc(35,"Seleccionar"),N.Sb(),N.Ac(36,hn,2,3,"mat-option",13),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(37,"mat-grid-tile"),N.Tb(38,"div",9),N.Tb(39,"mat-form-field",10),N.Tb(40,"mat-label"),N.Bc(41,"Fecha Inicio"),N.Sb(),N.Ob(42,"input",14),N.Ob(43,"mat-datepicker-toggle",15),N.Ob(44,"mat-datepicker",16,17),N.Sb(),N.Sb(),N.Sb(),N.Tb(46,"mat-grid-tile"),N.Tb(47,"div",9),N.Tb(48,"mat-form-field",10),N.Tb(49,"mat-label"),N.Bc(50,"Fecha Fin"),N.Sb(),N.Ob(51,"input",18),N.Ob(52,"mat-datepicker-toggle",15),N.Ob(53,"mat-datepicker",16,19),N.Sb(),N.Sb(),N.Sb(),N.Tb(55,"mat-grid-tile"),N.Tb(56,"div",9),N.Tb(57,"mat-form-field",10),N.Tb(58,"mat-label"),N.Bc(59,"Estado"),N.Sb(),N.Tb(60,"mat-select",20),N.Tb(61,"mat-option",12),N.Bc(62,"Mis Pendientes"),N.Sb(),N.Ac(63,En,2,2,"mat-option",13),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(64,"mat-grid-tile"),N.Tb(65,"div",9),N.Tb(66,"button",21),N.Bc(67,"Buscar"),N.Sb(),N.Bc(68,"\xa0\xa0 "),N.Tb(69,"button",21),N.Bc(70,"Refrescar"),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Tb(71,"div",22),N.Tb(72,"table",23),N.Rb(73,24),N.Ac(74,An,2,0,"th",25),N.Ac(75,gn,2,1,"td",26),N.Qb(),N.Rb(76,27),N.Ac(77,Sn,2,0,"th",25),N.Ac(78,pn,2,1,"td",26),N.Qb(),N.Rb(79,28),N.Ac(80,Dn,2,0,"th",25),N.Ac(81,fn,3,4,"td",26),N.Qb(),N.Rb(82,29),N.Ac(83,Rn,2,0,"th",25),N.Ac(84,vn,2,1,"td",26),N.Qb(),N.Rb(85,30),N.Ac(86,Ln,2,0,"th",25),N.Ac(87,Mn,2,1,"td",26),N.Qb(),N.Rb(88,31),N.Ac(89,Pn,2,0,"th",25),N.Ac(90,Bn,5,2,"td",26),N.Qb(),N.Ac(91,kn,1,0,"tr",32),N.Ac(92,Fn,1,0,"tr",33),N.Sb(),N.Tb(93,"mat-paginator",34),N.ac("page",function(i){return t.pageEvent=i,t.onPaginateChange(t.filtroForm.value,i)}),N.Sb(),N.Sb(),N.Sb()),2&i){const i=N.rc(45),o=N.rc(54);N.Cb(6),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_PT),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_RS),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_MP),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_AO),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_AMPLIACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_MODIFICACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_BLOQUEO),N.Cb(6),N.kc("formGroup",t.filtroForm),N.Cb(10),N.kc("ngForOf",t.listadoLineaNegocio),N.Cb(6),N.kc("matDatepicker",i),N.Cb(1),N.kc("for",i),N.Cb(8),N.kc("matDatepicker",o),N.Cb(1),N.kc("for",o),N.Cb(11),N.kc("ngForOf",t.listadoEstado),N.Cb(3),N.kc("disabled",t.filtroForm.invalid),N.Cb(3),N.kc("disabled",t.filtroForm.invalid),N.Cb(3),N.kc("dataSource",t.listadoSolicitudes),N.Cb(19),N.kc("matHeaderRowDef",t.displayedColumns),N.Cb(1),N.kc("matRowDefColumns",t.displayedColumns),N.Cb(1),N.kc("length",t.resultsLength)("pageSize",t.itemPerPage)}},directives:[a.c,q.a,e.m,n.w,n.p,n.h,$.a,$.c,X.c,X.g,w.a,n.o,n.g,Y.l,e.l,H.b,n.c,Ac.b,Ac.d,X.h,Ac.a,Q.a,K.j,K.c,K.e,K.b,K.g,K.i,Fc,K.d,K.a,K.f,K.h],pipes:[e.e],styles:["mat-form-field[_ngcontent-%COMP%]{width:180px}"]}),i})();var xn=o("g8fB");function Jn(i,t){if(1&i&&(N.Tb(0,"div",19),N.Tb(1,"div"),N.Tb(2,"span",20),N.Bc(3,"N\xb0 Solicitud:\xa0\xa0\xa0"),N.Sb(),N.Tb(4,"span",21),N.Bc(5),N.Sb(),N.Sb(),N.Tb(6,"div"),N.Tb(7,"span",20),N.Bc(8,"Estado\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:\xa0\xa0\xa0"),N.Sb(),N.Tb(9,"span",21),N.Bc(10),N.Sb(),N.Sb(),N.Sb()),2&i){const i=N.ec();N.Cb(5),N.Cc(i.cabeceraSolicitud.correlativo),N.Cb(5),N.Cc(i.estadoFlujoActualSolicitud.nombre_estado)}}function yn(i,t){if(1&i&&(N.Tb(0,"mat-option",41),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Dc(" ",i.nombre," ")}}function jn(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",42),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function zn(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",43),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function qn(i,t){if(1&i){const i=N.Ub();N.Tb(0,"div",22),N.Tb(1,"form",23,24),N.Tb(3,"mat-grid-list",25),N.Tb(4,"mat-grid-tile",26),N.Tb(5,"div",27),N.Tb(6,"mat-form-field",28),N.Tb(7,"mat-label"),N.Bc(8,"L\xednea de negocio"),N.Sb(),N.Tb(9,"mat-select",29),N.Ac(10,yn,2,2,"mat-option",30),N.Sb(),N.Tb(11,"mat-hint"),N.Tb(12,"mat-error",31),N.Bc(13),N.Sb(),N.Sb(),N.Sb(),N.Bc(14," \xa0 "),N.Tb(15,"mat-form-field",28),N.Tb(16,"mat-label"),N.Bc(17,"Descripci\xf3n corta"),N.Sb(),N.Ob(18,"input",32),N.Tb(19,"mat-hint"),N.Tb(20,"mat-error",31),N.Bc(21),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Ob(22,"mat-grid-tile",33),N.Tb(23,"mat-grid-tile",26),N.Tb(24,"div",34),N.Tb(25,"button",7),N.ac("click",function(){return N.tc(i),N.ec().aprobarSolicitud()}),N.Bc(26,"Aprobar"),N.Sb(),N.Bc(27," \xa0 "),N.Tb(28,"button",35),N.ac("click",function(){N.tc(i);const t=N.ec();return t.openDialogConfirmarRechazarSolicitud(t.solicitudForm.value)}),N.Bc(29,"Rechazar"),N.Sb(),N.Sb(),N.Sb(),N.Tb(30,"mat-grid-tile",36),N.Tb(31,"div",34),N.Tb(32,"div",37),N.Tb(33,"span",38),N.Bc(34," Anexo Solicitud:"),N.Sb(),N.Bc(35," \xa0 "),N.Ac(36,jn,3,0,"button",39),N.Ac(37,zn,3,0,"button",40),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.rc(2),t=N.ec();N.Cb(1),N.kc("formGroup",t.solicitudForm),N.Cb(8),N.kc("compareWith",t.compareLineaNegocio)("disabled",!0),N.Cb(1),N.kc("ngForOf",t.listadoLineaNegocio),N.Cb(2),N.kc("hidden",!t.formErrors.selectecLineaNegocio),N.Cb(1),N.Dc(" ",t.formErrors.selectecLineaNegocio," "),N.Cb(5),N.kc("readonly",!0),N.Cb(2),N.kc("hidden",!t.formErrors.descripcion_corta),N.Cb(1),N.Dc(" ",t.formErrors.descripcion_corta," "),N.Cb(7),N.kc("disabled",i.invalid),N.Cb(8),N.kc("ngIf",t.existeAnexoSolicitud),N.Cb(1),N.kc("ngIf",!t.existeAnexoSolicitud)}}function $n(i,t){if(1&i&&(N.Tb(0,"th",46),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function Xn(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"\xa0"),N.Sb(),N.Sb())}function wn(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"done"),N.Sb(),N.Sb())}function Hn(i,t){if(1&i&&(N.Tb(0,"td",47),N.Ac(1,Xn,3,0,"span",45),N.Ac(2,wn,3,0,"span",45),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]&&!i[o.codigo_interno]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"]&&i[o.codigo_interno])}}function Qn(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,$n,2,1,"th",14),N.Ac(2,Hn,3,2,"td",15),N.Sb())}function Zn(i,t){if(1&i&&(N.Tb(0,"th",46),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function Wn(i,t){if(1&i&&(N.Tb(0,"span",49),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function Kn(i,t){if(1&i&&(N.Tb(0,"span"),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function Yn(i,t){if(1&i&&(N.Tb(0,"td",47),N.Ac(1,Wn,2,1,"span",48),N.Ac(2,Kn,2,1,"span",45),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit,e=N.ec();N.Cb(1),N.kc("ngIf",1==e.isErrorCampo(i,o.codigo_interno)),N.Cb(1),N.kc("ngIf",0==e.isErrorCampo(i,o.codigo_interno))}}function is(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,Zn,2,1,"th",14),N.Ac(2,Yn,3,2,"td",15),N.Sb())}function ts(i,t){if(1&i&&(N.Rb(0,44),N.Ac(1,Qn,3,0,"div",45),N.Ac(2,is,3,0,"div",45),N.Qb()),2&i){const i=t.$implicit,o=N.ec();N.lc("matColumnDef",i.codigo_interno),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX),N.Cb(1),N.kc("ngIf",i.tipo_objeto!=o.TIPO_OBJETO_CHECKBOX)}}function os(i,t){1&i&&(N.Tb(0,"th",46),N.Bc(1," Anexos "),N.Sb())}function es(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",52),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function as(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",53),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function cs(i,t){if(1&i&&(N.Tb(0,"td",47),N.Ac(1,es,3,0,"button",50),N.Ac(2,as,3,0,"button",51),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.anexo_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.anexo_material_contador)}}function ns(i,t){1&i&&(N.Tb(0,"th",46),N.Bc(1," Equivalencias "),N.Sb())}function ss(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",52),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function rs(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",53),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function ls(i,t){if(1&i&&(N.Tb(0,"td",47),N.Ac(1,ss,3,0,"button",50),N.Ac(2,rs,3,0,"button",51),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.equivalencia_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.equivalencia_material_contador)}}function Os(i,t){1&i&&N.Ob(0,"tr",54)}function _s(i,t){1&i&&N.Ob(0,"tr",55)}let ds=(()=>{class i{constructor(i,t,o,e,a,c,n,r,l,O,d,I,b,u,C,T){this.formBuilder=i,this.formValidatorService=t,this.solicitudService=o,this.excelGeneratorService=e,this.nivel3Service=a,this.unidadMedidaService=c,this.centroService=n,this.organizacionVentaService=r,this.canalDistribucionService=l,this.almacenService=O,this.clasificacionService=d,this.activatedRoute=I,this.router=b,this._snack=u,this.matDialog=C,this.rutaActiva=T,this.TIPO_SOLICITUD=s.a.TIPO_SOLICITUD_CREACION,this.ROL_SOLICITANTE=s.a.ROL_SOLICITANTE,this.TIPO_OBJETO_INPUT_TEXT=s.a.TIPO_OBJETO_INPUT_TEXT,this.TIPO_OBJETO_COMBO=s.a.TIPO_OBJETO_COMBO,this.TIPO_OBJETO_CHECKBOX=s.a.TIPO_OBJETO_CHECKBOX,this.ESCENARIO_NIVEL1=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDAD_PESO,this.CODIGO_INTERNO_CENTRO=s.a.CODIGO_INTERNO_CENTRO,this.CODIGO_INTERNO_DENOMINACION=s.a.CODIGO_INTERNO_DENOMINACION,this.CODIGO_INTERNO_PESO_BRUTO=s.a.CODIGO_INTERNO_PESO_BRUTO,this.CODIGO_INTERNO_CENTRO_BENEFICIO=s.a.CODIGO_INTERNO_CENTRO_BENEFICIO,this.CODIGO_INTERNO_ORGANIZACION_VENTAS=s.a.CODIGO_INTERNO_ORGANIZACION_VENTAS,this.CODIGO_INTERNO_CANAL_DISTRIBUCION=s.a.CODIGO_INTERNO_CANAL_DISTRIBUCION,this.CODIGO_INTERNO_ALMACEN=s.a.CODIGO_INTERNO_ALMACEN,this.CODIGO_INTERNO_CLASE_TAB=s.a.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_ALMACEN_PRODUCCION=s.a.CODIGO_INTERNO_ALMACEN_PRODUCCION,this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION=s.a.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION,this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION=s.a.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION,this.CODIGO_INTERNO_CATEGORIA_VALORACION=s.a.CODIGO_INTERNO_CATEGORIA_VALORACION,this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA,this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT=s.a.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT,this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL=s.a.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL,this.CODIGO_INTERNO_JERARQUIA_PRODUCTO=s.a.CODIGO_INTERNO_JERARQUIA_PRODUCTO,this.CODIGO_INTERNO_GRUPOS_MATERIAL1=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL1,this.CODIGO_INTERNO_GRUPOS_MATERIAL2=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL2,this.CODIGO_INTERNO_TEXTO_COMERCIAL=s.a.CODIGO_INTERNO_TEXTO_COMERCIAL,this.CODIGO_INTERNO_GRUPO_TRANSPORTE=s.a.CODIGO_INTERNO_GRUPO_TRANSPORTE,this.CODIGO_INTERNO_GRUPO_CARGA=s.a.CODIGO_INTERNO_GRUPO_CARGA,this.CODIGO_INTERNO_IDIOMA=s.a.CODIGO_INTERNO_IDIOMA,this.CODIGO_INTERNO_TEXTO_COMPRA=s.a.CODIGO_INTERNO_TEXTO_COMPRA,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO,this.CODIGO_INTERNO_UMP_VAR=s.a.CODIGO_INTERNO_UMP_VAR,this.CODIGO_INTERNO_PRECIO_ESTANDAR=s.a.CODIGO_INTERNO_PRECIO_ESTANDAR,this.CODIGO_INTERNO_CODIGO_EAN=s.a.CODIGO_INTERNO_CODIGO_EAN,this.CODIGO_INTERNO_GRUPO_TIPO_POSICION=s.a.CODIGO_INTERNO_GRUPO_TIPO_POSICION,this.CODIGO_INTERNO_PARTIDA_ARANCELARIA=s.a.CODIGO_INTERNO_PARTIDA_ARANCELARIA,this.CODIGO_INTERNO_PRECIO_VARIABLE=s.a.CODIGO_INTERNO_PRECIO_VARIABLE,this.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD=s.a.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD,this.CODIGO_INTERNO_FORMULA_CONCRETO=s.a.CODIGO_INTERNO_FORMULA_CONCRETO,this.CODIGO_INTERNO_TIPO_MATERIAL=s.a.CODIGO_INTERNO_TIPO_MATERIAL,this.CODIGO_INTERNO_GRUPO_ARTICULO=s.a.CODIGO_INTERNO_GRUPO_ARTICULO,this.CODIGO_INTERNO_SECTOR=s.a.CODIGO_INTERNO_SECTOR,this.CODIGO_INTERNO_AMPLIACION=s.a.CODIGO_INTERNO_AMPLIACION,this.CODIGO_INTERNO_RAMO=s.a.CODIGO_INTERNO_RAMO,this.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_PRECIO_BASE=s.a.CODIGO_INTERNO_PRECIO_BASE,this.CODIGO_INTERNO_MONEDA=s.a.CODIGO_INTERNO_MONEDA,this.CODIGO_INTERNO_IND_PED_AUTOMA=s.a.CODIGO_INTERNO_IND_PED_AUTOMA,this.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO,this.SOLICITUD_DETALLE_NUMERO_COLUMNAS=s.a.SOLICITUD_DETALLE_NUMERO_COLUMNAS,this.listadoMateriales=[],this.listadoUnidadMedidaBase=[],this.listadoUnidadMedidaPeso=[],this.listadoCentros=[],this.listadoOrganizaciones=[],this.listadoReglasVista=[],this.listadoCampoReglas=[],this.listadoCentroItem=[],this.listadoOrganizacionVentasItem=[],this.listadoCanalDistribucionItem=[],this.listadoAlmacenItem=[],this.listadoClasificacionItem=[],this.listadoLineaNegocio=[],this.jsonDescargaFormato=[],this.cantidadCampos=0,this.formErrors={selectecLineaNegocio:"",descripcion_corta:"",selectedCentro:"",selectedAlmacen:"",codigoModelo:""},this.validationMessages={selectecLineaNegocio:{required:"L\xednea de negocio es requerido."},descripcion_corta:{required:"Descripci\xf3n corta de solicitud es requerida."}},this.displayedColumns=[],this.submitted=!1,this.fileName="no hay archivo",this.MENSAJE_RECHAZAR_SOLICITUD=_.a.confirmation.MENSAJE_RECHAZAR_SOLICITUD,this.MENSAJE_APROBAR_SOLICITUD=_.a.confirmation.MENSAJE_APROBAR_SOLICITUD,this.MSG_ERROR_NO_ANEXO=_.a.error.MSG_ERROR_NO_ANEXO,this.existeAnexoSolicitud=!1,this.existeAnexoMaterial=!1,this.ESCENARIO_NIVEL1=this.rutaActiva.snapshot.params.nivelEscenario,this.TIPO_SOLICITUD=this.rutaActiva.snapshot.params.tipoSolicitud,this.initForm(),this.id_solicitud=this.activatedRoute.snapshot.params.id,this.estadoActualSolicitud(this.id_solicitud)}ngOnInit(){this.getListarNivel3Solicitud(),this.getListarUnidadMedida(),this.getListarCanalDistribucion(),this.getListarClasificacion(),this.obtenerUrlSolicitud()}initForm(){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudForm=this.formBuilder.group({selectecLineaNegocio:[null,n.v.required],descripcion_corta:["",n.v.required]}),this.solicitudForm.valueChanges.subscribe(()=>{this.formErrors=this.formValidatorService.handleFormChanges(this.solicitudForm,this.formErrors,this.validationMessages,this.submitted)})})}obtenerSolicitud(){this.solicitudService.obtenerSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR}).then(i=>{this.cabeceraSolicitud=i.objeto,this.listadoMateriales=i.objeto.materiales_solicitud,this.cargarDataCabecera(),this.filtrarReglas()})}cargarDataCabecera(){this.solicitudForm.get("selectecLineaNegocio").setValue(this.cabeceraSolicitud.escenarioNivel3?this.cabeceraSolicitud.escenarioNivel3:null),this.solicitudForm.get("descripcion_corta").setValue(this.cabeceraSolicitud.descripcion_corta?this.cabeceraSolicitud.descripcion_corta:"")}filtrarReglas(){let i=this.solicitudForm.get("selectecLineaNegocio").value;this.sociedad=i.sociedad,this.getListarCentro(),this.getListarOrganizacionVentas(),this.getListadoCampoReglas(i.id,this.ROL_SOLICITANTE,this.TIPO_SOLICITUD)}getListarUnidadMedida(){this.unidadMedidaService.getListarUnidadMedida().then(i=>{this.listadoUnidadMedidaBase=i.lista,this.listadoUnidadMedidaPeso=i.lista})}getListarCentro(){this.centroService.getListarCentroPorSociedad(this.sociedad.codigo_sap).then(i=>{this.listadoCentroItem=i.lista})}getListarOrganizacionVentas(){this.organizacionVentaService.getListarCentroOrganizacionVentaxSociedad(this.sociedad.codigo_sap).then(i=>{this.listadoOrganizacionVentasItem=i.lista})}getListarCanalDistribucion(){this.canalDistribucionService.getListarCanalDistribucion().then(i=>{this.listadoCanalDistribucionItem=i.lista})}getListarAlmacen(i){this.almacenService.getListarAlmacen(i).then(i=>{this.listadoAlmacenItem=i.lista})}getListarClasificacion(){this.clasificacionService.getListarClasificacion().then(i=>{this.listadoClasificacionItem=i.lista})}getListadoCampoReglas(i,t,o){return Object(c.a)(this,void 0,void 0,function*(){let e=0,a=[],c=[];this.displayedColumns=[],this.solicitudService.getListadoCampoReglas(i,t,o).then(i=>{let t=i.lista,o='"id_material_solicitud": "",';if(1==i.resultado){for(let i=0;i<t.length;i++)if(null!=t[i].tipo_objeto){e++;let c=t[i].codigo_interno;this.displayedColumns.push(t[i].codigo_interno),o=1==e?o+'"'+c+'": 0':o+',"'+c+'": 0',a.push(t[i])}this.displayedColumns.push("anexos"),this.displayedColumns.push("equivalencias"),o=JSON.parse("[{"+o+"}]"),c=o,this.cantidadCampos=e,this.listadoCampoReglas=a,this.jsonDescargaFormato=c}})})}getListarNivel3Solicitud(){return Object(c.a)(this,void 0,void 0,function*(){this.nivel3Service.getListarNivel3Solicitud().then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})})}comparaIdLineaNegocio(i,t){return i.id==t.id}getListadoMateriales(){this.solicitudService.getListadoMateriales(this.id_solicitud,this.ROL_SOLICITANTE).then(i=>{this.listadoMateriales=i.lista})}mapearCamposMaterial(i){let t=[];if(i.denominacion&&t.push({codigo_interno:this.CODIGO_INTERNO_DENOMINACION,valor:i.denominacion.toUpperCase().trim()}),i.unidad_medida_base&&t.push({codigo_interno:this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE,valor:i.unidad_medida_base.codigo_sap}),i.peso_bruto&&t.push({codigo_interno:this.CODIGO_INTERNO_PESO_BRUTO,valor:i.peso_bruto}),i.unidad_medida_peso&&t.push({codigo_interno:this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO,valor:i.unidad_medida_peso.codigo_sap}),i[this.CODIGO_INTERNO_CENTRO]&&t.push({codigo_interno:this.CODIGO_INTERNO_CENTRO,valor:i[this.CODIGO_INTERNO_CENTRO].codigo_sap}),i[this.CODIGO_INTERNO_CENTRO].codigo_centro_beneficio&&t.push({codigo_interno:this.CODIGO_INTERNO_CENTRO_BENEFICIO,valor:i[this.CODIGO_INTERNO_CENTRO].codigo_centro_beneficio}),i.organizacion_ventas&&t.push({codigo_interno:this.CODIGO_INTERNO_ORGANIZACION_VENTAS,valor:i.organizacion_ventas.codigo_sap}),i.canal_distribucion&&t.push({codigo_interno:this.CODIGO_INTERNO_CANAL_DISTRIBUCION,valor:i.canal_distribucion.codigo_sap}),i[this.CODIGO_INTERNO_ALMACEN]&&t.push({codigo_interno:this.CODIGO_INTERNO_ALMACEN,valor:i[this.CODIGO_INTERNO_ALMACEN].codigo_sap}),i[this.CODIGO_INTERNO_CLASE_TAB]){let o=[];i.clase.forEach(i=>{o.push({valor:i.codigo_sap})}),t.push({codigo_interno:this.CODIGO_INTERNO_CLASE_TAB,valores:o})}return i[this.CODIGO_INTERNO_SECTOR]&&t.push({codigo_interno:this.CODIGO_INTERNO_SECTOR,valor:i[this.CODIGO_INTERNO_SECTOR].toUpperCase().trim()}),i[this.CODIGO_INTERNO_TEXTO_COMPRA]&&t.push({codigo_interno:this.CODIGO_INTERNO_TEXTO_COMPRA,valor:i[this.CODIGO_INTERNO_TEXTO_COMPRA].toUpperCase().trim()}),i[this.CODIGO_INTERNO_IDIOMA]&&t.push({codigo_interno:this.CODIGO_INTERNO_IDIOMA,valor:i[this.CODIGO_INTERNO_IDIOMA].codigo_sap}),i[this.CODIGO_INTERNO_GRUPO_ARTICULO]&&t.push({codigo_interno:this.CODIGO_INTERNO_GRUPO_ARTICULO,valor:i[this.CODIGO_INTERNO_GRUPO_ARTICULO].codigo_sap}),i[this.CODIGO_INTERNO_TIPO_MATERIAL]&&t.push({codigo_interno:this.CODIGO_INTERNO_TIPO_MATERIAL,valor:i[this.CODIGO_INTERNO_TIPO_MATERIAL].codigo_sap}),t}filtroLlenar(i){console.log(JSON.stringify(i))}descargarFormato(){this.excelGeneratorService.exportAsExcelFile(this.jsonDescargaFormato,"sample")}compareLineaNegocio(i,t){return i.id===t.id}compareUnidadMedidaBase(i,t){return i.codigo_sap===t.codigo_sap}compareUnidadMedidaPeso(i,t){return i.codigo_sap===t.codigo_sap}compareCentro(i,t){return i.codigo_sap===t.codigo_sap}compareCentro_beneficio(i,t){return i.codigo_sap===t.codigo_sap}compareOrganizacionVentas(i,t){return i.codigo_sap===t.codigo_sap}compareCanalDistribucion(i,t){return i.codigo_sap===t.codigo_sap}compareAlmacen(i,t){return i.codigo_sap===t.codigo_sap}compareClase(i,t){return i&&t?i.codigo_sap===t.codigo_sap:i===t}aprobarSolicitud(){this.matDialog.open(r.a,{disableClose:!0,data:_.a.warnig.MENSAJE_APROBAR_SOLICITUD}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i&&this.solicitudService.aprobarSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,motivo:""}).then(i=>{this._snack.open(this.MENSAJE_APROBAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),console.log("escenrio nivel 1---\x3e"+this.ESCENARIO_NIVEL1),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])})})}openDialogConfirmarRechazarSolicitud(i){this.matDialog.open(xn.a,{disableClose:!0,data:{mensaje:_.a.warnig.MENSAJE_DIALOGO_MOTIVO_RECHAZO,id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,orden:this.estadoFlujoActualSolicitud.orden}}).afterClosed().subscribe(i=>{if(console.log("construyendo el envio : "+JSON.stringify(i)),"CONFIRM_DLG_YES"==i.respuesta){console.log(" ha optado por rechazar la solicitud");let t={id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,motivo:i.motivo,id_motivo_rechazo:i.id_motivo_rechazo};console.log("enviando : "+JSON.stringify(t)),this.solicitudService.rechazarSolicitud(t).then(i=>{1==i.resultado&&(this._snack.open(this.MENSAJE_RECHAZAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1]))})}else console.log("no se rechaz\xf3 la solicitud")})}seguimientoSolicitud(){this.matDialog.open(xo.a,{disableClose:!1,data:this.id_solicitud,width:"80%"}).afterClosed().subscribe(i=>{})}flujoSolicitud(){this.matDialog.open(Vo.a,{disableClose:!1,data:this.id_solicitud,width:"50%"}).afterClosed().subscribe(i=>{})}estadoActualSolicitud(i){this.solicitudService.estadoActual(i).then(i=>{this.estadoFlujoActualSolicitud=i,this.ROL_GESTOR=this.estadoFlujoActualSolicitud.id_rol,this.obtenerSolicitud()})}obtenerUrlSolicitud(){this.solicitudService.obtenerUrlSolicitud(this.id_solicitud).then(i=>{this.existeAnexoSolicitud=1==i.resultado})}isErrorCampo(i,t){return"_tab"==t.substr(-4)&&i[t+"_error"]?!(i[t+"_error"].split("true").length>0):i[t+"_error"]}openDialogAnexosMaterial(i){this.matDialog.open(I.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:s.a.ROL_SUPERVISOR}}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.getListadoMateriales()})}openDialogAnexosSolicitud(){this.matDialog.open(b.a,{disableClose:!0,data:{id_solicitud:this.id_solicitud,id_rol:s.a.ROL_SUPERVISOR},width:"50%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i.respuesta||console.log("no se rechaz\xf3 la solicitud")})}openDialogEquivalencias(i){this.matDialog.open(d.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:s.a.ROL_SUPERVISOR},width:"80%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("se cerr\xf3 el dialog de equivalencias"),this.getListadoMateriales()})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(n.d),N.Nb(m.a),N.Nb(h.a),N.Nb(E.a),N.Nb(A.a),N.Nb(g.a),N.Nb(S.a),N.Nb(p.a),N.Nb(D.a),N.Nb(f.a),N.Nb(R.a),N.Nb(a.a),N.Nb(a.b),N.Nb(L.a),N.Nb(v.b),N.Nb(a.a))},i.\u0275cmp=N.Hb({type:i,selectors:[["app-ver-solicitud-pendiente-ptc"]],decls:37,vars:6,consts:[[1,"contentmain"],[1,"breadcumb"],["routerLink","/dashboard/principal"],["routerLink","#"],[1,"bread-item"],["routerLink","/productosTerminados/consultarSolicitudesPendientesSupervisor"],["colspan","6",1,"derecha"],["mat-raised-button","","color","accent","type","button",3,"click"],["class","cuadro-solicitud",4,"ngIf"],["class","cabecera",4,"ngIf"],[1,"content-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","anexos"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","equivalencias"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"cuadro-solicitud"],[1,"labelSolicitud"],[1,"numeroSolicitud"],[1,"cabecera"],[3,"formGroup"],["cabeceraForm","ngForm"],["cols","10","rowHeight","75px"],["colspan","4"],[1,"izquierda"],["appearance","outline"],["formControlName","selectecLineaNegocio",3,"compareWith","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"hidden"],["matInput","","placeholder","Descripci\xf3n corta","formControlName","descripcion_corta",3,"readonly"],["colspan","2"],[1,"derecha"],["mat-raised-button","","color","accent","type","button","matTooltip","rechazar solicitud",3,"disabled","click"],["colspan","10"],[1,"file-upload"],[1,"fontLabel"],["mat-mini-fab","","color","accent","type","button","matTooltip","Descargar Anexo",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button","matTooltip","Descargar Anexo",3,"click",4,"ngIf"],[3,"value"],["mat-mini-fab","","color","accent","type","button","matTooltip","Descargar Anexo",3,"click"],["mat-mini-fab","","color","primary","type","button","matTooltip","Descargar Anexo",3,"click"],[3,"matColumnDef"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["class","label-error",4,"ngIf"],[1,"label-error"],["mat-icon-button","","color","accent","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","type","button",3,"click"],["mat-icon-button","","color","primary","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,t){1&i&&(N.Tb(0,"div",0),N.Tb(1,"div",1),N.Tb(2,"a",2),N.Tb(3,"mat-icon"),N.Bc(4,"home"),N.Sb(),N.Sb(),N.Tb(5,"a",3),N.Tb(6,"span",4),N.Bc(7," / Productos terminados "),N.Sb(),N.Sb(),N.Tb(8,"a",3),N.Tb(9,"span",4),N.Bc(10," / Creaci\xf3n "),N.Sb(),N.Sb(),N.Tb(11,"a",5),N.Tb(12,"span",4),N.Bc(13," / Consulta de Solicitudes Pendientes "),N.Sb(),N.Sb(),N.Tb(14,"a",3),N.Tb(15,"span",4),N.Bc(16," / Aprobar Solicitud "),N.Sb(),N.Sb(),N.Tb(17,"div",6),N.Tb(18,"button",7),N.ac("click",function(){return t.seguimientoSolicitud()}),N.Bc(19,"Seguimiento"),N.Sb(),N.Bc(20," \xa0 "),N.Tb(21,"button",7),N.ac("click",function(){return t.flujoSolicitud()}),N.Bc(22,"Flujo"),N.Sb(),N.Ac(23,Jn,11,2,"div",8),N.Sb(),N.Sb(),N.Ob(24,"br"),N.Ac(25,qn,38,12,"div",9),N.Tb(26,"div",10),N.Tb(27,"table",11),N.Ac(28,ts,3,3,"ng-container",12),N.Rb(29,13),N.Ac(30,os,2,0,"th",14),N.Ac(31,cs,3,2,"td",15),N.Qb(),N.Rb(32,16),N.Ac(33,ns,2,0,"th",14),N.Ac(34,ls,3,2,"td",15),N.Qb(),N.Ac(35,Os,1,0,"tr",17),N.Ac(36,_s,1,0,"tr",18),N.Sb(),N.Sb(),N.Sb()),2&i&&(N.Cb(23),N.kc("ngIf",t.cabeceraSolicitud&&t.listadoMateriales),N.Cb(2),N.kc("ngIf",t.cabeceraSolicitud&&t.listadoMateriales),N.Cb(2),N.kc("dataSource",t.listadoMateriales),N.Cb(1),N.kc("ngForOf",t.listadoCampoReglas),N.Cb(7),N.kc("matHeaderRowDef",t.displayedColumns),N.Cb(1),N.kc("matRowDefColumns",t.displayedColumns))},directives:[a.c,q.a,Q.a,e.m,K.j,e.l,K.c,K.e,K.b,K.g,K.i,n.w,n.p,n.h,$.a,$.c,X.c,X.g,w.a,n.o,n.g,X.f,X.b,H.b,n.c,Z.a,Y.l,K.d,K.a,K.f,K.h],styles:[".camposSolicitudHidden[_ngcontent-%COMP%], .file-input[_ngcontent-%COMP%]{display:none}"]}),i})();var Is=o("VslX");function bs(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Productos terminados "),N.Sb())}function us(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Repuestos y Suministros "),N.Sb())}function Cs(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Materias Primas "),N.Sb())}function Ts(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Activos y Otros "),N.Sb())}function Ns(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Creaci\xf3n "),N.Sb())}function ms(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Ampliaci\xf3n "),N.Sb())}function hs(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Modificaci\xf3n "),N.Sb())}function Es(i,t){1&i&&(N.Tb(0,"span",5),N.Bc(1," / Bloqueo "),N.Sb())}function As(i,t){if(1&i&&(N.Tb(0,"div",23),N.Tb(1,"div"),N.Tb(2,"span",24),N.Bc(3,"N\xb0 Solicitud:\xa0\xa0\xa0"),N.Sb(),N.Tb(4,"span",25),N.Bc(5),N.Sb(),N.Sb(),N.Tb(6,"div"),N.Tb(7,"span",24),N.Bc(8,"Estado\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0:\xa0\xa0\xa0"),N.Sb(),N.Tb(9,"span",25),N.Bc(10),N.Sb(),N.Sb(),N.Sb()),2&i){const i=N.ec();N.Cb(5),N.Cc(i.cabeceraSolicitud.correlativo),N.Cb(5),N.Cc(i.estadoFlujoActualSolicitud.nombre_estado)}}function gs(i,t){if(1&i&&(N.Tb(0,"mat-option",49),N.Bc(1),N.Sb()),2&i){const i=t.$implicit;N.kc("value",i),N.Cb(1),N.Ec(" ",i.nombre," / ",i.sociedad.codigo_sap," ")}}function Ss(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",50),N.ac("click",function(){N.tc(i);const t=N.ec(2);return t.openDialogConfirmarAnularSolicitud(t.solicitudForm.value)}),N.Bc(1,"Anular"),N.Sb()}if(2&i){N.ec();const i=N.rc(2);N.kc("disabled",i.invalid)}}function ps(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogConfirmarAprobarSolicitud()}),N.Bc(1,"Aprobar"),N.Sb()}}function Ds(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogConfirmarEnviarSAP()}),N.Bc(1,"Enviar a SAP"),N.Sb()}}function fs(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogConfirmarRechazarSolicitud()}),N.Bc(1,"Rechazar"),N.Sb()}}function Rs(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogFinalizarSolicitud()}),N.Bc(1,"Finalizar"),N.Sb()}}function vs(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(2).descargarListado()}),N.Bc(1,"Descargar Listado"),N.Sb()}}function Ls(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",7),N.ac("click",function(){return N.tc(i),N.ec(),N.rc(41).click()}),N.Bc(1," Carga Masiva "),N.Sb()}}function Ms(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",51),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Ps(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",52),N.ac("click",function(){return N.tc(i),N.ec(2).openDialogAnexosSolicitud()}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function Gs(i,t){if(1&i){const i=N.Ub();N.Tb(0,"div",26),N.Tb(1,"form",27,28),N.Tb(3,"mat-grid-list",29),N.Tb(4,"mat-grid-tile",30),N.Tb(5,"div",31),N.Tb(6,"mat-form-field",32),N.Tb(7,"mat-label"),N.Bc(8,"L\xednea de negocio"),N.Sb(),N.Tb(9,"mat-select",33),N.ac("selectionChange",function(){return N.tc(i),N.ec().filtrarReglas()}),N.Ac(10,gs,2,3,"mat-option",34),N.Sb(),N.Tb(11,"mat-hint"),N.Tb(12,"mat-error",35),N.Bc(13),N.Sb(),N.Sb(),N.Sb(),N.Bc(14," \xa0 "),N.Tb(15,"mat-form-field",32),N.Tb(16,"mat-label"),N.Bc(17,"Descripci\xf3n corta"),N.Sb(),N.Ob(18,"input",36),N.Tb(19,"mat-hint"),N.Tb(20,"mat-error",35),N.Bc(21),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Ob(22,"mat-grid-tile",37),N.Tb(23,"mat-grid-tile",30),N.Tb(24,"div",38),N.Ac(25,Ss,2,1,"button",39),N.Bc(26," \xa0 "),N.Ac(27,ps,2,0,"button",40),N.Bc(28," \xa0 "),N.Ac(29,Ds,2,0,"button",40),N.Bc(30," \xa0 "),N.Ac(31,fs,2,0,"button",40),N.Bc(32," \xa0 "),N.Ac(33,Rs,2,0,"button",40),N.Sb(),N.Sb(),N.Tb(34,"mat-grid-tile",41),N.Tb(35,"div",31),N.Ac(36,vs,2,0,"button",40),N.Bc(37," \xa0 "),N.Sb(),N.Sb(),N.Tb(38,"mat-grid-tile",37),N.Tb(39,"div",31),N.Tb(40,"input",42,43),N.ac("change",function(t){return N.tc(i),N.ec().onFileSelected(t)}),N.Sb(),N.Tb(42,"div",44),N.Ac(43,Ls,2,0,"button",40),N.Sb(),N.Sb(),N.Sb(),N.Tb(44,"mat-grid-tile",45),N.Tb(45,"div",38),N.Tb(46,"div",44),N.Tb(47,"span",46),N.Bc(48," Anexo Solicitud:"),N.Sb(),N.Bc(49," \xa0 "),N.Ac(50,Ms,3,0,"button",47),N.Ac(51,Ps,3,0,"button",48),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb(),N.Sb()}if(2&i){const i=N.ec();N.Cb(1),N.kc("formGroup",i.solicitudForm),N.Cb(8),N.kc("compareWith",i.compareLineaNegocio),N.Cb(1),N.kc("ngForOf",i.listadoLineaNegocio),N.Cb(2),N.kc("hidden",!i.formErrors.selectecLineaNegocio),N.Cb(1),N.Dc(" ",i.formErrors.selectecLineaNegocio," "),N.Cb(7),N.kc("hidden",!i.formErrors.descripcion_corta),N.Cb(1),N.Dc(" ",i.formErrors.descripcion_corta," "),N.Cb(4),N.kc("ngIf",i.btnAnular),N.Cb(2),N.kc("ngIf",i.btnAprobar),N.Cb(2),N.kc("ngIf",i.btnEnviarSAP),N.Cb(2),N.kc("ngIf",i.btnRechazar),N.Cb(2),N.kc("ngIf",i.btnFinalizar),N.Cb(3),N.kc("ngIf",i.btnDescargarListado),N.Cb(7),N.kc("ngIf",i.btnCargaMasiva),N.Cb(7),N.kc("ngIf",i.existeAnexoSolicitud),N.Cb(1),N.kc("ngIf",!i.existeAnexoSolicitud)}}function Us(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1,"\xa0"),N.Sb())}function Bs(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"done"),N.Sb(),N.Sb())}function ks(i,t){if(1&i&&(N.Tb(0,"td",54),N.Ac(1,Bs,3,0,"span",55),N.Sb()),2&i){const i=t.$implicit,o=N.ec();N.Cb(1),N.kc("ngIf",i[o.CODIGO_INTERNO_MATERIAL_CODIGO_SAP])}}function Fs(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," C\xf3digo Material SAP"),N.Sb())}function Vs(i,t){if(1&i&&(N.Tb(0,"td",54),N.Bc(1),N.Sb()),2&i){const i=t.$implicit,o=N.ec();N.Cb(1),N.Dc("",i[o.CODIGO_INTERNO_MATERIAL_CODIGO_SAP]," ")}}function xs(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," Denominaci\xf3n "),N.Sb())}function Js(i,t){if(1&i&&(N.Tb(0,"td",54),N.Bc(1),N.Sb()),2&i){const i=t.$implicit,o=N.ec();N.Cb(1),N.Dc("",i[o.CODIGO_INTERNO_DENOMINACION]," ")}}function ys(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," Centro "),N.Sb())}function js(i,t){if(1&i&&(N.Tb(0,"td",54),N.Bc(1),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2);N.Cb(1),N.Dc("",i[o.CODIGO_INTERNO_CENTRO]," ")}}function zs(i,t){if(1&i&&(N.Rb(0,15),N.Ac(1,ys,2,0,"th",13),N.Ac(2,js,2,1,"td",14),N.Qb()),2&i){const i=N.ec();N.lc("matColumnDef",i.CODIGO_INTERNO_CENTRO)}}function qs(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," Almacen "),N.Sb())}function $s(i,t){if(1&i&&(N.Tb(0,"td",54),N.Bc(1),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2);N.Cb(1),N.Dc("",i[o.CODIGO_INTERNO_ALMACEN]," ")}}function Xs(i,t){if(1&i&&(N.Rb(0,15),N.Ac(1,qs,2,0,"th",13),N.Ac(2,$s,2,1,"td",14),N.Qb()),2&i){const i=N.ec();N.lc("matColumnDef",i.CODIGO_INTERNO_ALMACEN)}}function ws(i,t){if(1&i&&(N.Tb(0,"th",53),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function Hs(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"\xa0"),N.Sb(),N.Sb())}function Qs(i,t){1&i&&(N.Tb(0,"span"),N.Tb(1,"mat-icon"),N.Bc(2,"done"),N.Sb(),N.Sb())}function Zs(i,t){if(1&i&&(N.Tb(0,"td",54),N.Ac(1,Hs,3,0,"span",55),N.Ac(2,Qs,3,0,"span",55),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]&&!i[o.codigo_interno]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"]&&i[o.codigo_interno])}}function Ws(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,ws,2,1,"th",13),N.Ac(2,Zs,3,2,"td",14),N.Sb())}function Ks(i,t){if(1&i&&(N.Tb(0,"th",53),N.Bc(1),N.Sb()),2&i){const i=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i.etiqueta," ")}}function Ys(i,t){if(1&i&&(N.Tb(0,"span",57),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function ir(i,t){if(1&i&&(N.Tb(0,"span"),N.Bc(1),N.Sb()),2&i){const i=N.ec().$implicit,t=N.ec(2).$implicit;N.Cb(1),N.Dc(" ",i[t.codigo_interno+"_valor"]," ")}}function tr(i,t){if(1&i&&(N.Tb(0,"td",54),N.Ac(1,Ys,2,1,"span",56),N.Ac(2,ir,2,1,"span",55),N.Sb()),2&i){const i=t.$implicit,o=N.ec(2).$implicit;N.Cb(1),N.kc("ngIf",i[o.codigo_interno+"_error"]),N.Cb(1),N.kc("ngIf",!i[o.codigo_interno+"_error"])}}function or(i,t){1&i&&(N.Tb(0,"div"),N.Ac(1,Ks,2,1,"th",13),N.Ac(2,tr,3,2,"td",14),N.Sb())}function er(i,t){if(1&i&&(N.Rb(0,15),N.Ac(1,Ws,3,0,"div",55),N.Ac(2,or,3,0,"div",55),N.Qb()),2&i){const i=t.$implicit,o=N.ec();N.lc("matColumnDef",i.codigo_interno),N.Cb(1),N.kc("ngIf",i.tipo_objeto==o.TIPO_OBJETO_CHECKBOX),N.Cb(1),N.kc("ngIf",i.tipo_objeto!=o.TIPO_OBJETO_CHECKBOX)}}function ar(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," Anexos "),N.Sb())}function cr(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",60),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function nr(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",61),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogAnexosMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"attach_file"),N.Sb(),N.Sb()}}function sr(i,t){if(1&i&&(N.Tb(0,"td",54),N.Ac(1,cr,3,0,"button",58),N.Ac(2,nr,3,0,"button",59),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.anexo_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.anexo_material_contador)}}function rr(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," Equivalencias "),N.Sb())}function lr(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",60),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function Or(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",61),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogEquivalencias(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"table"),N.Sb(),N.Sb()}}function _r(i,t){if(1&i&&(N.Tb(0,"td",54),N.Ac(1,lr,3,0,"button",58),N.Ac(2,Or,3,0,"button",59),N.Sb()),2&i){const i=t.$implicit;N.Cb(1),N.kc("ngIf",i.equivalencia_material_contador>0),N.Cb(1),N.kc("ngIf",0==i.equivalencia_material_contador)}}function dr(i,t){1&i&&(N.Tb(0,"th",53),N.Bc(1," Acciones "),N.Sb())}function Ir(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",62),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().eliminarMaterial(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"delete"),N.Sb(),N.Sb()}}function br(i,t){if(1&i){const i=N.Ub();N.Tb(0,"button",65),N.ac("click",function(){N.tc(i);const t=N.ec().$implicit;return N.ec().openDialogErrorSap(t)}),N.Tb(1,"mat-icon"),N.Bc(2,"error"),N.Sb(),N.Sb()}}function ur(i,t){if(1&i){const i=N.Ub();N.Tb(0,"td",54),N.Tb(1,"button",62),N.ac("click",function(){N.tc(i);const o=t.$implicit;return N.ec().openDialogEditarMaterial(o)}),N.Tb(2,"mat-icon"),N.Bc(3,"edit"),N.Sb(),N.Sb(),N.Bc(4," \xa0 "),N.Ac(5,Ir,3,0,"button",63),N.Bc(6," \xa0 "),N.Ac(7,br,3,0,"button",64),N.Sb()}if(2&i){const i=t.$implicit,o=N.ec();N.Cb(5),N.kc("ngIf",o.btnEliminarMaterial),N.Cb(2),N.kc("ngIf",i.existe_error_sap&&o.ROL_GESTOR==o.ROL_ADMINISTRADOR_MATERIAL)}}function Cr(i,t){1&i&&N.Ob(0,"tr",66)}function Tr(i,t){1&i&&N.Ob(0,"tr",67)}const Nr=[{path:"",redirectTo:"crearSolicitud",pathMatch:"full"},{path:":tipoSolicitud/crearSolicitudPT/:nivelEscenario",component:Fo},{path:":tipoSolicitud/crearSolicitudRS/:nivelEscenario",component:Fo},{path:":tipoSolicitud/crearSolicitudMP/:nivelEscenario",component:Fo},{path:":tipoSolicitud/crearSolicitudAF/:nivelEscenario",component:Fo},{path:":tipoSolicitud/ampliarSolicitudPT/:nivelEscenario",component:Fo},{path:":tipoSolicitud/ampliarSolicitudRS/:nivelEscenario",component:Fo},{path:":tipoSolicitud/ampliarSolicitudMP/:nivelEscenario",component:Fo},{path:":tipoSolicitud/ampliarSolicitudAF/:nivelEscenario",component:Fo},{path:":tipoSolicitud/editarSolicitud/:nivelEscenario/:id",component:mc},{path:":tipoSolicitud/consultarProductosTerminados/:nivelEscenario",component:_n},{path:":tipoSolicitud/consultarRepuestosSuministros/:nivelEscenario",component:_n},{path:":tipoSolicitud/consultarMateriasPrimas/:nivelEscenario",component:_n},{path:":tipoSolicitud/consultarActivos/:nivelEscenario",component:_n},{path:":tipoSolicitud/consultarSolicitudesPendientesSupervisor/:nivelEscenario",component:Vn},{path:":tipoSolicitud/pendientesProductosTerminados/:nivelEscenario",component:Vn},{path:":tipoSolicitud/pendientesRepuestosSuministros/:nivelEscenario",component:Vn},{path:":tipoSolicitud/pendientesMateriasPrimas/:nivelEscenario",component:Vn},{path:":tipoSolicitud/pendientesActivos/:nivelEscenario",component:Vn},{path:":tipoSolicitud/verSolicitud/:nivelEscenario/:id",component:ds},{path:":tipoSolicitud/editarSolicitudGestor/:nivelEscenario/:id",component:(()=>{class i{constructor(i,t,o,e,a,c,n,r,l,O,d,I,b,u,C,T){switch(this.formBuilder=i,this.formValidatorService=t,this.solicitudService=o,this.excelGeneratorService=e,this.nivel3Service=a,this.unidadMedidaService=c,this.centroService=n,this.organizacionVentaService=r,this.canalDistribucionService=l,this.almacenService=O,this.clasificacionService=d,this.activatedRoute=I,this.matDialog=b,this.router=u,this._snack=C,this.rutaActiva=T,this.TIPO_SOLICITUD=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_CREACION=s.a.TIPO_SOLICITUD_CREACION,this.TIPO_SOLICITUD_AMPLIACION=s.a.TIPO_SOLICITUD_AMPLIACION,this.TIPO_SOLICITUD_MODIFICACION=s.a.TIPO_SOLICITUD_MODIFICACION,this.TIPO_SOLICITUD_BLOQUEO=s.a.TIPO_SOLICITUD_BLOQUEO,this.ROL_SOLICITANTE=s.a.ROL_SOLICITANTE,this.ROL_SUPERVISOR=s.a.ROL_SUPERVISOR,this.ROL_ADMINISTRADOR_MATERIAL=s.a.ROL_ADMINISTRADOR_MATERIAL,this.ESTADO_SOLICITUD_EN_SAP=s.a.ESTADO_SOLICITUD_EN_SAP,this.ESCENARIO_NIVEL1=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_PT=s.a.ESCENARIO_NIVEL1_PRODUCTOS_TERMINADOS,this.ESCENARIO_NIVEL1_RS=s.a.ESCENARIO_NIVEL1_REPUESTOS_SUMINISTROS,this.ESCENARIO_NIVEL1_MP=s.a.ESCENARIO_NIVEL1_MATERIAS_PRIMAS,this.ESCENARIO_NIVEL1_AO=s.a.ESCENARIO_NIVEL1_ACTIVOS_OTROS,this.TIPO_OBJETO_INPUT_TEXT=s.a.TIPO_OBJETO_INPUT_TEXT,this.TIPO_OBJETO_COMBO=s.a.TIPO_OBJETO_COMBO,this.TIPO_OBJETO_CHECKBOX=s.a.TIPO_OBJETO_CHECKBOX,this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP=s.a.CODIGO_INTERNO_MATERIAL_CODIGO_SAP,this.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_BASE,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PESO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDAD_PESO,this.CODIGO_INTERNO_CENTRO=s.a.CODIGO_INTERNO_CENTRO,this.CODIGO_INTERNO_DENOMINACION=s.a.CODIGO_INTERNO_DENOMINACION,this.CODIGO_INTERNO_PESO_BRUTO=s.a.CODIGO_INTERNO_PESO_BRUTO,this.CODIGO_INTERNO_CENTRO_BENEFICIO=s.a.CODIGO_INTERNO_CENTRO_BENEFICIO,this.CODIGO_INTERNO_ORGANIZACION_VENTAS=s.a.CODIGO_INTERNO_ORGANIZACION_VENTAS,this.CODIGO_INTERNO_CANAL_DISTRIBUCION=s.a.CODIGO_INTERNO_CANAL_DISTRIBUCION,this.CODIGO_INTERNO_ALMACEN=s.a.CODIGO_INTERNO_ALMACEN,this.CODIGO_INTERNO_CLASE_TAB=s.a.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_CLASE_INSPECCION_TAB=s.a.CODIGO_INTERNO_CLASE_INSPECCION_TAB,this.CODIGO_INTERNO_ALMACEN_PRODUCCION=s.a.CODIGO_INTERNO_ALMACEN_PRODUCCION,this.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION=s.a.CODIGO_INTERNO_RESPONSABLE_CONTROL_PRODUCCION,this.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION=s.a.CODIGO_INTERNO_PERFIL_CONTROL_FABRICACION,this.CODIGO_INTERNO_CATEGORIA_VALORACION=s.a.CODIGO_INTERNO_CATEGORIA_VALORACION,this.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_VENTA,this.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT=s.a.CODIGO_INTERNO_GRUPO_ESTADISTICA_MAT,this.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL=s.a.CODIGO_INTERNO_GRUPO_IMPUTACION_MATERIAL,this.CODIGO_INTERNO_JERARQUIA_PRODUCTO=s.a.CODIGO_INTERNO_JERARQUIA_PRODUCTO,this.CODIGO_INTERNO_GRUPOS_MATERIAL1=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL1,this.CODIGO_INTERNO_GRUPOS_MATERIAL2=s.a.CODIGO_INTERNO_GRUPOS_MATERIAL2,this.CODIGO_INTERNO_TEXTO_COMERCIAL=s.a.CODIGO_INTERNO_TEXTO_COMERCIAL,this.CODIGO_INTERNO_GRUPO_TRANSPORTE=s.a.CODIGO_INTERNO_GRUPO_TRANSPORTE,this.CODIGO_INTERNO_GRUPO_CARGA=s.a.CODIGO_INTERNO_GRUPO_CARGA,this.CODIGO_INTERNO_IDIOMA=s.a.CODIGO_INTERNO_IDIOMA,this.CODIGO_INTERNO_TEXTO_COMPRA=s.a.CODIGO_INTERNO_TEXTO_COMPRA,this.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO=s.a.CODIGO_INTERNO_UNIDAD_MEDIDA_PEDIDO,this.CODIGO_INTERNO_UMP_VAR=s.a.CODIGO_INTERNO_UMP_VAR,this.CODIGO_INTERNO_PRECIO_ESTANDAR=s.a.CODIGO_INTERNO_PRECIO_ESTANDAR,this.CODIGO_INTERNO_CODIGO_EAN=s.a.CODIGO_INTERNO_CODIGO_EAN,this.CODIGO_INTERNO_GRUPO_TIPO_POSICION=s.a.CODIGO_INTERNO_GRUPO_TIPO_POSICION,this.CODIGO_INTERNO_PARTIDA_ARANCELARIA=s.a.CODIGO_INTERNO_PARTIDA_ARANCELARIA,this.CODIGO_INTERNO_PRECIO_VARIABLE=s.a.CODIGO_INTERNO_PRECIO_VARIABLE,this.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD=s.a.CODIGO_INTERNO_VERIFICACION_DISPONIBILIDAD,this.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_LIMITE_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_PRECIO_BASE=s.a.CODIGO_INTERNO_PRECIO_BASE,this.CODIGO_INTERNO_MONEDA=s.a.CODIGO_INTERNO_MONEDA,this.CODIGO_INTERNO_IND_PED_AUTOMA=s.a.CODIGO_INTERNO_IND_PED_AUTOMA,this.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO=s.a.CODIGO_INTERNO_EXCESO_SUM_ILIMITADO,this.CODIGO_INTERNO_AREA_PLANIFICACION_TAB=s.a.CODIGO_INTERNO_AREA_PLANIFICACION_TAB,this.SOLICITUD_DETALLE_NUMERO_COLUMNAS=s.a.SOLICITUD_DETALLE_NUMERO_COLUMNAS,this.listadoMateriales=[],this.listadoUnidadMedidaBase=[],this.listadoUnidadMedidaPeso=[],this.listadoCentros=[],this.listadoOrganizaciones=[],this.listadoReglasVista=[],this.listadoCampoReglas=[],this.listadoCentroItem=[],this.listadoOrganizacionVentasItem=[],this.listadoCanalDistribucionItem=[],this.listadoAlmacenItem=[],this.listadoClasificacionItem=[],this.listadoLineaNegocio=[],this.jsonDescargaFormato=[],this.cantidadCampos=0,this.tip_pm="",this.formErrors={selectecLineaNegocio:"",descripcion_corta:"",selectedCentro:"",selectedAlmacen:"",codigoModelo:""},this.validationMessages={selectecLineaNegocio:{required:"L\xednea de negocio es requerido."},descripcion_corta:{required:"Descripci\xf3n corta de solicitud es requerida."}},this.displayedColumns=[],this.submitted=!1,this.fileName="",this.MENSAJE_APROBAR_SOLICITUD=_.a.confirmation.MENSAJE_APROBAR_SOLICITUD,this.MENSAJE_ENVIAR_SOLICITUD_A_SAP=_.a.confirmation.MENSAJE_ENVIAR_SOLICITUD_A_SAP,this.MENSAJE_RECHAZAR_SOLICITUD=_.a.confirmation.MENSAJE_RECHAZAR_SOLICITUD,this.MENSAJE_ACTUALIZAR_SOLICITUD=s.a.MENSAJE_ACTUALIZAR_SOLICITUD,this.MENSAJE_AGREGAR_MATERIAL=s.a.MENSAJE_AGREGAR_MATERIAL,this.MENSAJE_ELIMINAR_MATERIAL=s.a.MENSAJE_ELIMINAR_MATERIAL,this.MENSAJE_ACTUALIZAR_MATERIAL=s.a.MENSAJE_ACTUALIZAR_MATERIAL,this.MENSAJE_CARGA_MASIVA=s.a.MENSAJE_CARGA_MASIVA,this.MENSAJE_ENVIO_SOLICITUD=s.a.MENSAJE_ENVIO_SOLICITUD,this.MENSAJE_ANULAR_SOLICITUD=s.a.MENSAJE_ANULAR_SOLICITUD,this.MENSAJE_CARGAR_ANEXO_SOLICITUD=s.a.MENSAJE_CARGAR_ANEXO_SOLICITUD,this.MENSAJE_CARGAR_ANEXO_MATERIAL=s.a.MENSAJE_CARGAR_ANEXO_MATERIAL,this.MENSAJE_ELIMINAR_ANEXO_SOLICITUD=s.a.MENSAJE_ELIMINAR_ANEXO_SOLICITUD,this.MENSAJE_ELIMINAR_ANEXO_MATERIAL=s.a.MENSAJE_ELIMINAR_ANEXO_MATERIAL,this.cantidadErrores=0,this.camposErrores="",this.btnAnular=!0,this.btnAprobar=!0,this.btnEnviarSAP=!0,this.btnRechazar=!0,this.btnFinalizar=!0,this.btnDescargarFormato=!0,this.btnDescargarListado=!0,this.btnCargaMasiva=!0,this.btnEliminarMaterial=!0,this.existeAnexoSolicitud=!1,this.ESCENARIO_NIVEL1=this.rutaActiva.snapshot.params.nivelEscenario,this.TIPO_SOLICITUD=parseInt(this.rutaActiva.snapshot.params.tipoSolicitud),this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:this.tip_pm=s.a.TIPO_SOLICITUD_CREACION_CHAR;break;case this.TIPO_SOLICITUD_AMPLIACION:this.tip_pm=s.a.TIPO_SOLICITUD_AMPLIACION_CHAR;break;case this.TIPO_SOLICITUD_MODIFICACION:this.tip_pm=s.a.TIPO_SOLICITUD_MODIFICACION_CHAR;break;case this.TIPO_SOLICITUD_BLOQUEO:this.tip_pm=s.a.TIPO_SOLICITUD_BLOQUEO_CHAR}this.initForm(),this.id_solicitud=this.activatedRoute.snapshot.params.id,this.estadoActualSolicitud(this.id_solicitud)}ngOnInit(){this.habilitarControles(),this.obtenerUrlSolicitud()}initBotones(){return Object(c.a)(this,void 0,void 0,function*(){this.btnEliminarMaterial=0!=this.existe_error_sap,console.log("errorSAP--\x3e"+this.existe_error_sap),this.btnAnular=this.ROL_GESTOR==this.ROL_ADMINISTRADOR_MATERIAL&&this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP&&0!=this.existe_error_sap,this.btnAprobar=this.ROL_GESTOR!=this.ROL_ADMINISTRADOR_MATERIAL&&this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP,this.btnEnviarSAP=this.ROL_GESTOR==this.ROL_ADMINISTRADOR_MATERIAL&&this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP&&0!=this.existe_error_sap,this.btnFinalizar=this.ROL_GESTOR==this.ROL_ADMINISTRADOR_MATERIAL&&this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP&&0==this.existe_error_sap,this.btnRechazar=!this.btnFinalizar&&(this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP||this.ROL_GESTOR!=this.ROL_ADMINISTRADOR_MATERIAL&&0!=this.existe_error_sap),this.btnDescargarFormato=0==this.listadoMateriales.length,this.btnDescargarListado=!this.btnFinalizar&&this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP,this.btnCargaMasiva=!this.btnFinalizar&&this.ESTADO_ACTUAL_SOLICITUD!=this.ESTADO_SOLICITUD_EN_SAP})}initForm(){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudForm=this.formBuilder.group({selectecLineaNegocio:[{value:null,disabled:!0},n.v.required],descripcion_corta:[{value:null,disabled:!0},n.v.required],files:new n.e("")}),this.solicitudForm.valueChanges.subscribe(()=>{this.formErrors=this.formValidatorService.handleFormChanges(this.solicitudForm,this.formErrors,this.validationMessages,this.submitted)}),this.filtroForm=this.formBuilder.group({selectedCentro:[{disabled:!0}],selectedAlmacen:[{value:"",disabled:!0}],codigoModelo:[{value:"",disabled:!0}]}),this.itemForm=this.formBuilder.group({denominacion:[{value:"",disabled:!0}],unidad_medida_base:[{value:"",disabled:!0}],peso_bruto:[{value:"",disabled:!0}],unidad_medida_peso:[{value:"",disabled:!0}],centro:[{value:"",disabled:!0}],centro_beneficio:[{value:"",disabled:!0}],organizacion_ventas:[{value:"",disabled:!0}],canal_distribucion:[{value:"",disabled:!0}],almacen:[{value:"",disabled:!0}],clase:[{value:"",disabled:!0}]})})}obtenerSolicitud(){return Object(c.a)(this,void 0,void 0,function*(){let i={id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR};console.log("params ARSA---\x3e"+JSON.stringify(i)),this.solicitudService.obtenerSolicitud(i).then(i=>Object(c.a)(this,void 0,void 0,function*(){this.cabeceraSolicitud=i.objeto,yield this.getListadoMateriales(),yield this.getListarNivel3SolicitudPorId(this.cabeceraSolicitud.escenarioNivel3.id),yield this.cargarDataCabecera(),yield this.filtrarReglas()}))})}cargarDataCabecera(){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudForm.get("selectecLineaNegocio").setValue(this.cabeceraSolicitud.escenarioNivel3?this.cabeceraSolicitud.escenarioNivel3:null),this.solicitudForm.get("descripcion_corta").setValue(this.cabeceraSolicitud.descripcion_corta?this.cabeceraSolicitud.descripcion_corta:""),this.EscenarioNivel3_Old=this.solicitudForm.get("selectecLineaNegocio").value})}filtrarReglas(){return Object(c.a)(this,void 0,void 0,function*(){let i=this.solicitudForm.get("selectecLineaNegocio").value;console.log("linea de negocio arsa--\x3e"+JSON.stringify(i)),this.sociedad=i.sociedad,this.getListadoCampoReglas(i.id,this.ROL_GESTOR,this.TIPO_SOLICITUD)})}habilitarControles(){var i,t,o,e,a,n,s,r,l,O,_,d,I;return Object(c.a)(this,void 0,void 0,function*(){null===(i=this.filtroForm.get("selectedCentro"))||void 0===i||i.enable(),null===(t=this.filtroForm.get("selectedAlmacen"))||void 0===t||t.enable(),null===(o=this.filtroForm.get("codigoModelo"))||void 0===o||o.enable(),null===(e=this.itemForm.get("denominacion"))||void 0===e||e.enable(),null===(a=this.itemForm.get("unidad_medida_base"))||void 0===a||a.enable(),null===(n=this.itemForm.get("peso_bruto"))||void 0===n||n.enable(),null===(s=this.itemForm.get("unidad_medida_peso"))||void 0===s||s.enable(),null===(r=this.itemForm.get("centro"))||void 0===r||r.enable(),null===(l=this.itemForm.get("centro_beneficio"))||void 0===l||l.enable(),null===(O=this.itemForm.get("organizacion_ventas"))||void 0===O||O.enable(),null===(_=this.itemForm.get("canal_distribucion"))||void 0===_||_.enable(),null===(d=this.itemForm.get("almacen"))||void 0===d||d.enable(),null===(I=this.itemForm.get("clase"))||void 0===I||I.enable()})}getListadoCampoReglas(i,t,o){return Object(c.a)(this,void 0,void 0,function*(){let e=0,a=[],c=[];this.displayedColumns=[],this.displayedColumns.push("check"),this.displayedColumns.push(this.CODIGO_INTERNO_MATERIAL_CODIGO_SAP),this.displayedColumns.push(this.CODIGO_INTERNO_DENOMINACION),this.TIPO_SOLICITUD!=this.TIPO_SOLICITUD_CREACION&&(this.displayedColumns.push(this.CODIGO_INTERNO_CENTRO),this.displayedColumns.push(this.CODIGO_INTERNO_ALMACEN)),this.solicitudService.getListadoCampoReglas(i,t,o).then(i=>{console.log("Listado de campos reglas --\x3e"+JSON.stringify(i.lista));let t=i.lista,o='"id_material_solicitud": "",';if(1==i.resultado){for(let i=0;i<t.length;i++)if(null!=t[i].tipo_objeto){e++;let c=t[i].codigo_interno;this.displayedColumns.push(t[i].codigo_interno),o=1==e?o+'"'+c+'": ""':o+',"'+c+'": ""',a.push(t[i])}this.displayedColumns.push("anexos"),this.displayedColumns.push("equivalencias"),this.displayedColumns.push("acciones"),o=JSON.parse("[{"+o+"}]"),c=o,this.cantidadCampos=e,this.listadoCampoReglas=a,this.jsonDescargaFormato=c}console.log(" listado campos reglas vista--\x3e"+JSON.stringify(this.listadoCampoReglas))})})}getListarNivel3Solicitud(){return Object(c.a)(this,void 0,void 0,function*(){this.nivel3Service.getListarNivel3SolicitudPorUsuario({id_rol:this.ROL_SOLICITANTE,id_tipo_solicitud:this.TIPO_SOLICITUD,codigo_escenario_nivel1:this.ESCENARIO_NIVEL1}).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})})}getListarNivel3SolicitudPorId(i){return Object(c.a)(this,void 0,void 0,function*(){this.nivel3Service.getListarNivel3SolicitudPorId(i).then(i=>{1==i.resultado&&(this.listadoLineaNegocio=i.lista)})})}comparaIdLineaNegocio(i,t){return i.id==t.id}actualizarSolicitud(i){this.solicitudService.actualizarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_solicitud:this.id_solicitud}).then(t=>{1==t.resultado&&(this.EscenarioNivel3_Old=i.selectecLineaNegocio,this.habilitarControles(),this.getListadoMateriales())})}getListadoMateriales(){return Object(c.a)(this,void 0,void 0,function*(){this.solicitudService.getListadoMateriales(this.id_solicitud,this.ROL_SOLICITANTE).then(i=>{this.listadoMateriales=i.lista,this.existe_error_sap=null,this.listadoMateriales.forEach(i=>{1==i.existe_error_sap&&(this.existe_error_sap=!0),0==i.existe_error_sap&&(this.existe_error_sap=!1)}),this.initBotones(),console.log("listadoMateriales--\x3e"+JSON.stringify(this.listadoMateriales))})})}filtroLlenar(i){}descargarFormato(){this.excelGeneratorService.exportAsExcelFile(this.jsonDescargaFormato,this.NOMBRE_ROL)}descargarListado(){let i="",t=[],o=0,e=[],a=0,c=[];console.log(this.listadoCampoReglas.length+" listadoarsa--\x3e"+JSON.stringify(this.listadoCampoReglas)),this.listadoMateriales.forEach(n=>{o=1,t=[],a++,i='{"id_material_solicitud":'+n.id_material_solicitud,this.listadoCampoReglas.forEach(e=>{console.log("valor 1--\x3e"+n[e.codigo_interno+"_valor"]==null),console.log("valor 2--\x3e"+n[e.codigo_interno+"_valor"]=="null");let a="null"==n[e.codigo_interno+"_valor"]||null==n[e.codigo_interno+"_valor"]?"":n[e.codigo_interno+"_valor"];a=a.split(/\n/i).join("@@@"),o++,i=i+', "'+[e.codigo_interno]+'":"'+a+'"',n[e.codigo_interno+"_error"]&&t.push(o)}),t.length>0&&e.push({fila:a,posicion:t}),i+="}",c.push(JSON.parse(i))}),console.log("filaError---\x3e"+JSON.stringify(e)),console.log("FilaArray---\x3e"+JSON.stringify(c)),this.jsonDescargaFormato=c,this.excelGeneratorService.exportListadoAsExcelFile(c,e,this.NOMBRE_ROL+"-"+this.cabeceraSolicitud.correlativo)}onFileSelected(i){this.excelGeneratorService.onFileSeleted(this.TIPO_SOLICITUD,i,[this.CODIGO_INTERNO_CLASE_TAB,this.CODIGO_INTERNO_CLASE_INSPECCION_TAB,this.CODIGO_INTERNO_AREA_PLANIFICACION_TAB]).then(i=>{this.cargaMasiva(i),this.solicitudForm.get("files").reset()})}cargaMasiva(i){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.cargaMasivaCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.cargaMasivaAmpliacion(i)}}cargaMasivaCreacion(i){this.solicitudService.cargaMasiva({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,materiales:i}).then(i=>{console.log("resultado---\x3e"+JSON.stringify(i)),this._snack.open(this.MENSAJE_CARGA_MASIVA,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()})}cargaMasivaAmpliacion(i){this.solicitudService.cargaMasivaAmpliacion({id_solicitud:this.id_solicitud,id_rol:this.ROL_SOLICITANTE,materiales:i}).then(i=>{console.log("resultado---\x3e"+JSON.stringify(i)),1==i.resultado?this._snack.open(this.MENSAJE_CARGA_MASIVA,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}):this.openDialogErrorSap(i.mensaje),this.getListadoMateriales()})}eliminarMaterialOLD(i){this.solicitudService.eliminarMaterial(i).then(i=>{console.log(JSON.stringify(i)),this.getListadoMateriales()})}eliminarMaterial(i){switch(this.TIPO_SOLICITUD){case this.TIPO_SOLICITUD_CREACION:console.log("creacion"),this.eliminarCreacion(i);break;case this.TIPO_SOLICITUD_AMPLIACION:console.log("ampliacion"),this.eliminarAmpliacion(i)}}eliminarCreacion(i){let t;t=i.ampliacion?_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL:_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL_AMPLIADOS,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.solicitudService.eliminarMaterial(i).then(i=>{console.log(JSON.stringify(i)),this._snack.open(this.MENSAJE_ELIMINAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()}):this.getListadoMateriales()})}eliminarAmpliacion(i){let t;this.itemMaterialOld=i,t=i.ampliacion?_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL:_.a.warnig.MENSAJE_DIALOGO_ELIMINAR_MATERIAL_AMPLIADOS,this.matDialog.open(r.a,{disableClose:!0,data:t}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.solicitudService.eliminarMaterialAmpliaci\u00f3n(this.id_solicitud,this.itemMaterialOld.id_material_solicitud).then(i=>{console.log(JSON.stringify(i)),this._snack.open(this.MENSAJE_ELIMINAR_MATERIAL,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.getListadoMateriales()}):this.getListadoMateriales()})}compareLineaNegocio(i,t){return i.id===t.id}openDialogConfirmarEnvarActualizarSolicitud(i){let t=this.solicitudForm.get("selectecLineaNegocio").value,o="";o=this.comparaIdLineaNegocio(this.EscenarioNivel3_Old,t)?"Guardar cambios y enviar solicitud al supervisor":"Se borrar\xe1 el detalle de la solicitud. Confirmar guardar cambios y env\xedo al supervisor",this.matDialog.open(r.a,{disableClose:!0,data:o}).afterClosed().subscribe(t=>{"CONFIRM_DLG_YES"==t?this.actualizarEnviarSolicitud(i):this.solicitudForm.get("selectecLineaNegocio").setValue(this.EscenarioNivel3_Old?this.EscenarioNivel3_Old:null)})}actualizarEnviarSolicitud(i){this.solicitudService.actualizarSolicitud({descripcion_corta:i.descripcion_corta,id_escenario_nivel3:i.selectecLineaNegocio.id,id_solicitud:this.id_solicitud}).then(t=>{1==t.resultado&&(this.EscenarioNivel3_Old=i.selectecLineaNegocio,this.aprobarSolicitud())})}aprobarSolicitud(){this.solicitudService.aprobarSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,motivo:""}).then(i=>{1==i.resultado&&(this._snack.open(this.MENSAJE_APROBAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1]))})}openDialogConfirmarAprobarSolicitud(){return Object(c.a)(this,void 0,void 0,function*(){this.cantidadErrores=0,yield this.existeErrores();let i="";this.cantidadErrores>0?(i=_.a.warnig.MENSAJE_EXISTE_ERRORES_AL_GRABAR_SOLICITUD+this.camposErrores,this.matDialog.open(O.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{})):(i=_.a.warnig.MENSAJE_APROBAR_SOLICITUD,this.matDialog.open(r.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.aprobarSolicitud():console.log("Se cancelo y no se aprob\xf3 la solicitud")}))})}openDialogConfirmarRechazarSolicitud(){this.matDialog.open(xn.a,{disableClose:!0,data:{mensaje:_.a.warnig.MENSAJE_RECHAZAR_SOLICITUD,id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,orden:this.estadoFlujoActualSolicitud.orden}}).afterClosed().subscribe(i=>{if("CONFIRM_DLG_YES"==i.respuesta)if(this.ROL_GESTOR==this.ROL_ADMINISTRADOR_MATERIAL){let t={id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,motivo:i.motivo,id_motivo_rechazo:i.id_motivo_rechazo,aprobador_derivado:i.aprobador_derivado};console.log("desde administrador--\x3e"+JSON.stringify(t)),this.solicitudService.rechazarSolicitudADemanda(t).then(i=>{1==i.resultado?(this._snack.open(this.MENSAJE_RECHAZAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])):console.log("Error encontrado: "+JSON.stringify(i.mensaje))})}else this.solicitudService.rechazarSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,motivo:i.motivo,id_motivo_rechazo:i.id_motivo_rechazo}).then(i=>{1==i.resultado?(this._snack.open(this.MENSAJE_RECHAZAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])):console.log("Error encontrado: "+JSON.stringify(i.mensaje))});else console.log("no se rechaz\xf3 la solicitud")})}openDialogEditarMaterial(i){let t=this.solicitudForm.get("selectecLineaNegocio").value;this.matDialog.open(Is.a,{disableClose:!1,data:{id_escenario_nivel1:this.ESCENARIO_NIVEL1,id_solicitud:this.id_solicitud,id_material_solicitud:i.id_material_solicitud,id_escenario_nivel3:t.id,sociedad:t.sociedad,id_rol:this.ROL_GESTOR,id_tipo_solicitud:this.TIPO_SOLICITUD,orden:this.estadoFlujoActualSolicitud.orden,material:i},width:"90%",height:"80%"}).afterClosed().subscribe(i=>{this.getListadoMateriales()})}seguimientoSolicitud(){this.matDialog.open(xo.a,{disableClose:!1,data:this.id_solicitud,height:"70%",width:"80%"}).afterClosed().subscribe(i=>{})}flujoSolicitud(){this.matDialog.open(Vo.a,{disableClose:!1,data:this.id_solicitud,width:"50%"}).afterClosed().subscribe(i=>{})}estadoActualSolicitud(i){this.solicitudService.estadoActual(i).then(t=>{this.estadoFlujoActualSolicitud=t,console.log("Flujo actual estadoFlujoActualSolicitud--\x3e"+JSON.stringify(this.estadoFlujoActualSolicitud)),this.ROL_GESTOR=this.estadoFlujoActualSolicitud.id_rol,this.NOMBRE_ROL=this.estadoFlujoActualSolicitud.nombre_rol,this.estadoActualSeguimientoSolicitud(i)})}estadoActualSeguimientoSolicitud(i){let t;this.solicitudService.listarSeguimiento(i).then(i=>{1==i.resultado&&(t=i.lista,t.forEach(i=>{i.fecha_salida||(this.estadoSeguimientoActualSolicitud=i,console.log("Seguimiento actual --\x3e"+JSON.stringify(i)),this.ESTADO_ACTUAL_SOLICITUD=this.estadoSeguimientoActualSolicitud.id_estado_real,this.obtenerSolicitud())}))})}existeErrores(){return Object(c.a)(this,void 0,void 0,function*(){console.log("arsa2--\x3e"+JSON.stringify(this.listadoCampoReglas));let i=0,t=0,o=" ",e=" ",a=[],c=[];0==this.listadoMateriales.length&&(this.cantidadErrores=1),this.listadoMateriales.forEach(n=>{this.listadoCampoReglas.forEach(s=>{if("M"==s.regla_campo){let r=s.codigo_interno;null!=n[r+"_valor"]&&""!=n[r+"_valor"]||(t++,e=e+s.codigo_interno+" ",c.push(t)),1==n[r+"_error"]&&(i++,o=o+s.codigo_interno+". ",a.push(i))}}),this.cantidadErrores=i+t,this.camposErrores=o,console.log({error:i,vacio:t})})})}openDialogConfirmarEnviarSAP(){return Object(c.a)(this,void 0,void 0,function*(){this.cantidadErrores=0,yield this.existeErrores();let i="";this.cantidadErrores>0?(i=_.a.warnig.MENSAJE_EXISTE_ERRORES_AL_GRABAR_SOLICITUD,this.matDialog.open(O.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{})):(i=_.a.warnig.MENSAJE_ENVIAR_SOLICITUD,this.matDialog.open(r.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.enviarSAP():console.log("Se cancelo y no se aprob\xf3 la solicitud")}))})}enviarSAP(){this.solicitudService.aprobarSolicitud({id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR,motivo:""}).then(i=>{1==i.resultado&&this.solicitudService.enviarSAP(this.id_solicitud,this.tip_pm).then(i=>{this._snack.open(this.MENSAJE_ENVIAR_SOLICITUD_A_SAP,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])})})}openDialogFinalizarSolicitud(){return Object(c.a)(this,void 0,void 0,function*(){this.cantidadErrores=0,yield this.existeErrores();let i="";this.cantidadErrores>0?(i=_.a.warnig.MENSAJE_EXISTE_ERRORES_AL_GRABAR_SOLICITUD,this.matDialog.open(O.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{})):(i=_.a.warnig.MENSAJE_FINALIZAR_SOLICITUD,this.matDialog.open(r.a,{disableClose:!0,data:i}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i&&this.finalizarSolicitud(i)}))})}finalizarSolicitud(i){this.ROL_GESTOR==this.ROL_ADMINISTRADOR_MATERIAL&&this.solicitudService.finalizarSolicitud(this.id_solicitud,this.ROL_GESTOR).then(i=>{this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1])})}openDialogAnexosMaterial(i){this.matDialog.open(I.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:this.ROL_GESTOR}}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.getListadoMateriales()})}openDialogAnexosSolicitud(){this.matDialog.open(b.a,{disableClose:!0,data:{id_solicitud:this.id_solicitud,id_rol:this.ROL_GESTOR},width:"50%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("no se rechaz\xf3 la solicitud"),this.obtenerUrlSolicitud()})}openDialogEquivalencias(i){this.matDialog.open(d.a,{disableClose:!0,data:{id_material_solicitud:i.id_material_solicitud,id_rol:this.ROL_GESTOR},width:"80%"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"!=i.respuesta&&console.log("se cerr\xf3 el dialog de equivalencias"),this.getListadoMateriales()})}openDialogConfirmarAnularSolicitud(i){this.matDialog.open(r.a,{disableClose:!0,data:"Confirma la anulaci\xf3n de la solicitud ?"}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i?this.solicitudService.anularSolicitud({id_solicitud:this.id_solicitud,id_rol:1}).then(i=>{1==i.resultado&&(this._snack.open(this.MENSAJE_ANULAR_SOLICITUD,"cerrar",{duration:1800,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["/productosTerminados",this.TIPO_SOLICITUD,"consultarSolicitudesPendientesSupervisor",this.ESCENARIO_NIVEL1]))}):console.log("no se anul\xf3 la solicitud")})}openDialogErrorSap(i){this.matDialog.open(T.a,{disableClose:!0,data:i.mensaje_error_sap}).afterClosed().subscribe(i=>{"CONFIRM_DLG_YES"==i&&console.log("se cerr\xf3 el dialog del error")})}obtenerUrlSolicitud(){this.solicitudService.obtenerUrlSolicitud(this.id_solicitud).then(i=>{this.existeAnexoSolicitud=1==i.resultado})}}return i.\u0275fac=function(t){return new(t||i)(N.Nb(n.d),N.Nb(m.a),N.Nb(h.a),N.Nb(E.a),N.Nb(A.a),N.Nb(g.a),N.Nb(S.a),N.Nb(p.a),N.Nb(D.a),N.Nb(f.a),N.Nb(R.a),N.Nb(a.a),N.Nb(v.b),N.Nb(a.b),N.Nb(L.a),N.Nb(a.a))},i.\u0275cmp=N.Hb({type:i,selectors:[["app-editar-solicitud-gestor-ptc"]],decls:58,vars:18,consts:[[1,"contentmain"],[1,"breadcumb"],["routerLink","/dashboard/principal"],["routerLink","#"],["class","bread-item",4,"ngIf"],[1,"bread-item"],["colspan","6",1,"derecha"],["mat-raised-button","","color","accent","type","button",3,"click"],["class","cuadro-solicitud",4,"ngIf"],["class","cabecera",4,"ngIf"],[1,"content-table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","anexos"],["matColumnDef","equivalencias"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"cuadro-solicitud"],[1,"labelSolicitud"],[1,"numeroSolicitud"],[1,"cabecera"],[3,"formGroup"],["cabeceraForm","ngForm"],["cols","10","rowHeight","75px"],["colspan","4"],[1,"izquierda"],["appearance","outline"],["formControlName","selectecLineaNegocio",3,"compareWith","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"hidden"],["matInput","","placeholder","Descripci\xf3n corta","formControlName","descripcion_corta"],["colspan","2"],[1,"derecha"],["mat-raised-button","","color","accent","type","button","matTooltip","anular solicitud",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"click",4,"ngIf"],["colspan","3"],["type","file","formControlName","files",1,"file-input",3,"change"],["fileUpload",""],[1,"file-upload"],["colspan","5"],[1,"fontLabel"],["mat-mini-fab","","color","accent","type","button","matTooltip","Descargar Anexo",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button","matTooltip","Descargar Anexo",3,"click",4,"ngIf"],[3,"value"],["mat-raised-button","","color","accent","type","button","matTooltip","anular solicitud",3,"disabled","click"],["mat-mini-fab","","color","accent","type","button","matTooltip","Descargar Anexo",3,"click"],["mat-mini-fab","","color","primary","type","button","matTooltip","Descargar Anexo",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["class","label-error",4,"ngIf"],[1,"label-error"],["mat-icon-button","","color","accent","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","type","button",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","type","button",3,"click"],["mat-icon-button","","color","primary","type","button",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","ver error sap",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","ver error sap",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,t){1&i&&(N.Tb(0,"div",0),N.Tb(1,"div",1),N.Tb(2,"a",2),N.Tb(3,"mat-icon"),N.Bc(4,"home"),N.Sb(),N.Sb(),N.Tb(5,"a",3),N.Ac(6,bs,2,0,"span",4),N.Sb(),N.Tb(7,"a",3),N.Ac(8,us,2,0,"span",4),N.Sb(),N.Tb(9,"a",3),N.Ac(10,Cs,2,0,"span",4),N.Sb(),N.Tb(11,"a",3),N.Ac(12,Ts,2,0,"span",4),N.Sb(),N.Tb(13,"a",3),N.Ac(14,Ns,2,0,"span",4),N.Sb(),N.Tb(15,"a",3),N.Ac(16,ms,2,0,"span",4),N.Sb(),N.Tb(17,"a",3),N.Ac(18,hs,2,0,"span",4),N.Sb(),N.Tb(19,"a",3),N.Ac(20,Es,2,0,"span",4),N.Sb(),N.Tb(21,"a",3),N.Tb(22,"span",5),N.Bc(23," / Editar Solicitud "),N.Sb(),N.Sb(),N.Tb(24,"div",6),N.Tb(25,"button",7),N.ac("click",function(){return t.seguimientoSolicitud()}),N.Bc(26,"Seguimiento"),N.Sb(),N.Bc(27," \xa0 "),N.Tb(28,"button",7),N.ac("click",function(){return t.flujoSolicitud()}),N.Bc(29,"Flujo"),N.Sb(),N.Ac(30,As,11,2,"div",8),N.Sb(),N.Sb(),N.Ob(31,"br"),N.Ac(32,Gs,52,16,"div",9),N.Tb(33,"div",10),N.Tb(34,"table",11),N.Rb(35,12),N.Ac(36,Us,2,0,"th",13),N.Ac(37,ks,2,1,"td",14),N.Qb(),N.Rb(38,15),N.Ac(39,Fs,2,0,"th",13),N.Ac(40,Vs,2,1,"td",14),N.Qb(),N.Rb(41,15),N.Ac(42,xs,2,0,"th",13),N.Ac(43,Js,2,1,"td",14),N.Qb(),N.Ac(44,zs,3,1,"ng-container",16),N.Ac(45,Xs,3,1,"ng-container",16),N.Ac(46,er,3,3,"ng-container",17),N.Rb(47,18),N.Ac(48,ar,2,0,"th",13),N.Ac(49,sr,3,2,"td",14),N.Qb(),N.Rb(50,19),N.Ac(51,rr,2,0,"th",13),N.Ac(52,_r,3,2,"td",14),N.Qb(),N.Rb(53,20),N.Ac(54,dr,2,0,"th",13),N.Ac(55,ur,8,2,"td",14),N.Qb(),N.Ac(56,Cr,1,0,"tr",21),N.Ac(57,Tr,1,0,"tr",22),N.Sb(),N.Sb(),N.Sb()),2&i&&(N.Cb(6),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_PT),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_RS),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_MP),N.Cb(2),N.kc("ngIf",t.ESCENARIO_NIVEL1==t.ESCENARIO_NIVEL1_AO),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_CREACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_AMPLIACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_MODIFICACION),N.Cb(2),N.kc("ngIf",t.TIPO_SOLICITUD==t.TIPO_SOLICITUD_BLOQUEO),N.Cb(10),N.kc("ngIf",t.cabeceraSolicitud&&t.listadoMateriales),N.Cb(2),N.kc("ngIf",t.cabeceraSolicitud&&t.listadoMateriales),N.Cb(2),N.kc("dataSource",t.listadoMateriales),N.Cb(4),N.lc("matColumnDef",t.CODIGO_INTERNO_MATERIAL_CODIGO_SAP),N.Cb(3),N.lc("matColumnDef",t.CODIGO_INTERNO_DENOMINACION),N.Cb(3),N.kc("ngIf",t.TIPO_SOLICITUD!=t.TIPO_SOLICITUD_CREACION),N.Cb(1),N.kc("ngIf",t.TIPO_SOLICITUD!=t.TIPO_SOLICITUD_CREACION),N.Cb(1),N.kc("ngForOf",t.listadoCampoReglas),N.Cb(10),N.kc("matHeaderRowDef",t.displayedColumns),N.Cb(1),N.kc("matRowDefColumns",t.displayedColumns))},directives:[a.c,q.a,e.m,Q.a,K.j,K.c,K.e,K.b,e.l,K.g,K.i,n.w,n.p,n.h,$.a,$.c,X.c,X.g,w.a,n.o,n.g,X.f,X.b,H.b,n.c,Y.l,Z.a,K.d,K.a,K.f,K.h],styles:[".camposSolicitud[_ngcontent-%COMP%]{padding-top:20px}.camposSolicitud[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:120px!important}.file-input[_ngcontent-%COMP%]{display:none}"]}),i})()}];let mr=(()=>{class i{}return i.\u0275mod=N.Lb({type:i}),i.\u0275inj=N.Kb({factory:function(t){return new(t||i)},imports:[[a.d.forChild(Nr)],a.d]}),i})();var hr=o("PCNd"),Er=o("Wp6s"),Ar=o("M9ds");let gr=(()=>{class i{}return i.\u0275mod=N.Lb({type:i}),i.\u0275inj=N.Kb({factory:function(t){return new(t||i)},imports:[[e.c,mr,W.b,$.b,w.b,Q.b,q.b,H.c,K.k,n.t,n.j,ti.b,Ac.c,Y.k,Y.r,Er.e,ii.b,Vc,Ar.d,Z.b,hr.SharedModule],Z.b]}),i})()}}]);